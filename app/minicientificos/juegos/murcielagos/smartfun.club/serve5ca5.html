<!DOCTYPE html>
<html>

<!-- Mirrored from smartfun.club/serve?portal_id=5763614147346432&game_id=4710043011252224&branding_id=5734046899372032&ad_id=4865470182195200&portal_localization_id=5092721263902720 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Sep 2023 14:10:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
	<title>Sushi Challenge</title>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
	<meta name="apple-mobile-web-app-capable" content="yes" />
	
	<script type="text/javascript" src="../whitelabel-cdn.marketjs.com/jquery.min.js"></script>
	
<style>html,body{background-color:#000;margin:0;padding:0;position:relative;font-family:"Arial"}#pause{position:absolute;float:left;width:100%;height:100%;top:0;left:0;z-index:99999;display:none;font-size:2em;text-align:center;background:rgba(0,0,0,0.2);color:#fff}#game{position:absolute;left:0;top:0;z-index:0}#ajaxbar{background:url('../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/loading/ajax-loader.gif') center no-repeat}#canvas{position:absolute;left:0;top:0;width:100%;height:100%;-ms-interpolation-mode:nearest-neighbor;-webkit-optimize-contrast;-webkit-transform:scale3d(1,1,1);z-index:1}#game .dummy-btn{position:absolute;display:block;z-index:10;cursor:default}#orientate{position:absolute;float:left;width:100%;height:100%;top:0;left:0;z-index:10002;display:none}#orientate img{position:absolute;float:left;width:100%;height:100%}.play{position:absolute;float:left;width:100%;height:100%;z-index:1000;background-color:#fff;left:0;top:0;display:none}.play img{position:absolute;float:left;width:100%;height:100%;z-index:1000;left:0;top:0}#nohtml5{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000;z-index:1002;visibility:hidden}#nohtml5 img{position:absolute;width:100%;height:100%}#nohtml5-bubble{position:absolute;bottom:20px;left:50px;width:380px;height:100px;z-index:1002;color:#000;background:rgba(255,255,255,0.75);-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px}#nohtml5-text{padding:10px}.horizontal-seperator{height:10px;width:100%}.ig_debug{position:fixed;left:0;bottom:0;width:100%;background-color:#000;border-top:2px solid #f57401;font-size:12px;color:#fff;z-index:1000;-webkit-user-select:none;display:none}.ig_debug_panel_menu{height:28px;background:#222;background:-webkit-gradient(linear,left bottom,left top,color-stop(0,#000),color-stop(1,#333));background:-moz-linear-gradient(center bottom,#000 0,#333 100%);background:-o-linear-gradient(#333,#000)}.ig_debug_panel_menu div{float:left;height:22px;padding:6px 8px 0 8px;border-right:1px solid #333}.ig_debug_panel_menu .ig_debug_head{font-weight:bold;color:#888}.ig_debug_menu_item:hover{cursor:pointer;background-color:#fff;color:#000}.ig_debug_menu_item.active,.ig_debug_menu_item.active:hover{background-color:#000;color:#fff}.ig_debug_stats{position:absolute;right:0;top:0;float:right;color:#888;border-left:1px solid #333;text-align:right}.ig_debug_stats span{width:3em;display:inline-block;color:#fff !important;margin-right:.2em;margin-left:.3em;font-family:bitstream vera sans mono,courier new;white-space:nowrap}.ig_debug_panel{height:152px;overflow:auto;position:relative}.ig_debug_panel canvas{border-bottom:1px solid #444}.ig_debug_panel .ig_debug_panel{padding:8px;height:auto;float:left;background-color:#000;border-right:2px solid #222}.ig_debug_option{padding:2px 0 2px 8px;cursor:pointer}.ig_debug_option:first-child{margin-top:8px}.ig_debug_option:hover{background-color:#111}.ig_debug_graph_mark{position:absolute;color:#888;left:4px;font-size:10px;margin-top:-12px}.ig_debug_legend{color:#ccc}.ig_debug_label_mark{display:inline-block;width:10px;height:10px;margin-right:4px;-webkit-transition:.1s linear;-moz-transition:.1s linear}.ig_debug_legend_color{display:inline-block;width:6px;height:10px;margin-right:4px;margin-left:16px}.ig_debug_legend_number{width:3em;display:inline-block;text-align:right;font-family:bitstream vera sans mono,courier new;color:#fff;margin-right:.2em}.ig_debug_map_container{position:relative;overflow:hidden;border:1px solid #888}.ig_debug_map_container canvas{position:absolute}.ig_debug_map_screen{position:absolute;border:1px solid #f0f}</style>
<!-- APICode -->
<!-- In Game Preroll Structure Template here --><div id='AdInGamePreroll'><div id='AdInGamePreroll-Box'><div id='AdInGamePreroll-Box-Header'></div><a id='AdInGamePreroll-Box-Close' onclick='AdInGamePreroll.Close();'></a><div id='AdInGamePreroll-Box-Body'><center></center></div><div id='AdInGamePreroll-Box-Footer'></div></div></div><!-- In Game Endgame Structure Template here --><div id='AdInGameEndgame'><div id='AdInGameEndgame-Box'><div id='AdInGameEndgame-Box-Header'></div><a id='AdInGameEndgame-Box-Close' onclick='AdInGameEndgame.Close();'></a><div id='AdInGameEndgame-Box-Body'><center></center></div><div id='AdInGameEndgame-Box-Footer'></div></div></div><!-- In Game Endgame Structure Template here --><div id='AdInGameEndgame'><div id='AdInGameEndgame-Box'><div id='AdInGameEndgame-Box-Header'></div><a id='AdInGameEndgame-Box-Close' onclick='AdInGameEndgame.Close();'></a><div id='AdInGameEndgame-Box-Body'><center></center></div><div id='AdInGameEndgame-Box-Footer'></div></div></div>
<script type='text/javascript'>// Setup
function getQueryVariable(variable) {
    var query = window.location.search.substring(1); // search in parent
    var vars = query.split('&');
    for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split('=');
        if (decodeURIComponent(pair[0]) == variable) {
            return decodeURIComponent(pair[1]);
        }
    }
}

var mjs_game_id = getQueryVariable('game_id')
var mjs_portal_id = getQueryVariable('portal_id')
var mjs_branding_id = getQueryVariable('branding_id')
var mjs_ad_id = getQueryVariable('ad_id')

console.log('mjs_game_id:',mjs_game_id)
console.log('mjs_portal_id:',mjs_portal_id)
console.log('mjs_branding_id:',mjs_branding_id)
console.log('mjs_ad_id:',mjs_ad_id)

//Base structure in script form
var css = "";
css+= "html,body,#sticky-container{margin:0;height:100%;color:#000;background:#e3f2fc;font-size:1.2em;font-family:Helvetica,Arial,sans-serif}#sticky-container{height:auto;min-height:100%}#sticky-footer{clear:both;position:relative;z-index:10}h1{padding:0;margin:0}h2{font-size:1.2em;padding:0;margin:0}h3{font-size:.8em;padding:0;margin:0}a{color:#128ccb}a.hover{color:#128ccb}.button{font-size:1em;font-weight:normal;-moz-border-radius:.5em;-webkit-border-radius:.5em;border-radius:.5em;padding:.5em 1em;text-decoration:none;color:#fff;background-color:#fbd305;display:inline-block}.button:hover{background-color:#fbd305;color:#fff;text-decoration:none !important}.button:active{position:relative;top:.05em}.button-large{font-size:2em}input[type=submit]{border:0}.valid{font-size:.8em;color:#1bdc24}.error{font-size:.8em;color:#ea1313;margin-top:.2em;margin-bottom:.5em;display:block}.tip{color:#ccc;font-size:.8em}.borderless{border:none !important}.pull-right{text-align:right}.padding-side{padding:0 1em 0 1em}.padding-side-small{padding:0 .5em 0 .5em}.padding-side-medium{padding:0 1.5em 0 1.5em}.container{clear:both;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-left:0 solid #ccc;border-right:0 solid #ccc;min-height:100%}.container-shadow{-webkit-box-shadow:5px 0 5px -2px #ccc,-5px 0 5px -2px #ccc;box-shadow:5px 0 5px -2px #ccc,-5px 0 5px -2px #ccc}.overlay-container-basic{background:rgba(0,0,0,0.4);width:100%;height:100%;min-height:100%;position:fixed;top:0;left:0;z-index:10004;display:none}.overlay-container{background:rgba(0,0,0,0.4);width:100%;height:100%;min-height:100%;position:fixed;top:0;left:0;z-index:10005;display:none}.overlay-container img{position:fixed;top:50%;left:50%}.horizontal-seperator{height:1em;width:100%}.horizontal-seperator-small{height:.5em;width:100%}.horizontal-seperator-line{width:100%;border-bottom:1px solid #ccc;margin-top:.2em;margin-bottom:.2em}.section{clear:both;margin:0}.inner_section{clear:both;margin:0}.col{display:block;float:left;margin:0}.col:first-child{margin-left:0}.group:before,.group:after{content:'';display:table}.group:after{clear:both}.group{zoom:1}.span_4_of_4{width:100%}.span_3_of_4{width:74.6%}.span_2_of_4{width:49.2%}.span_1_of_4{width:23.8%}.span_3_of_3{width:100%}.span_2_of_3{width:76.1%}.span_1_of_3{width:20.2%}.span_10_of_10{width:100%}.span_9_of_10{width:89.84%}.span_8_of_10{width:79.68%}.span_7_of_10{width:69.52%}.span_6_of_10{width:59.36%}.span_5_of_10{width:49.2%}.span_4_of_10{width:39.04%}.span_3_of_10{width:28.88%}.span_2_of_10{width:18.72%}.span_1_of_10{width:8.56%}.span_8_of_8{width:100%}.span_7_of_8{width:87.3%}.span_6_of_8{width:74.6%}.span_5_of_8{width:61.9%}.span_4_of_8{width:49.2%}.span_3_of_8{width:36.5%}.span_2_of_8{width:23.8%}.span_1_of_8{width:11.1%}.span_6_of_6{width:100%}.span_5_of_6{width:83.06%}.span_4_of_6{width:66.13%}.span_3_of_6{width:49.2%}.span_2_of_6{width:33.00%}.span_1_of_6{width:16.00%}.right_bar_module_span_2_of_6{width:100%}.overlay_span_middle{width:32.26%}.overlay_span_side{width:32.26%}@media only screen and (max-width:480px){.col{margin:1% 0 1% 0}.span_2_of_3{width:80%}.span_1_of_3{width:20%}.span_4_of_4{width:100%}.span_3_of_4{width:100%}.span_2_of_4{width:100%}.span_1_of_4{width:100%}.span_2_of_6{width:100%}.span_1_of_6{width:33%}.span_10_of_10{width:100%}.span_9_of_10{width:100%}.span_8_of_10{width:100%}.span_7_of_10{width:100%}.span_6_of_10{width:100%}.span_5_of_10{width:100%}.span_4_of_10{width:100%}.span_3_of_10{width:100%}.span_2_of_10{width:100%}.span_1_of_10{width:100%}.overlay_span_middle{width:100%}.overlay_span_side{width:100%}.container{margin:0}.navigation{line-height:1.8em;font-size:.8em}.css_btn_class{font-size:2em}.right_bar_module_span_2_of_6{width:100%}.box-action{margin:.2em}.featured-short-description{display:none}.box-more-games{height:140px !important}}@media only screen and (min-width:480px) and (max-width:768px){.span_2_of_3{width:80%}.span_1_of_3{width:20%}.span_6_of_10{width:50.0%}.span_4_of_10{width:50.0%}.span_7_of_10{width:100%}.span_2_of_10{width:100%}.span_3_of_10{width:100%}.span_2_of_6{width:50%}.navigation{line-height:2em}.right_bar_module_span_2_of_6{width:50%}.span_1_of_4{width:100%}.span_3_of_4{width:100%}.overlay_span_middle{width:50%}.overlay_span_side{width:25%}}@media only screen and (min-width :768px) and (max-width:1152px){.tablet-left{width:60%}.tablet-right{width:40%}.span_3_of_4{width:65%}.span_1_of_4{width:33%}.span_2_of_6{width:50.00%}.span_1_of_6{width:19.7%}.right_bar_module_span_2_of_6{width:100%}.overlay_span_middle{width:45%}.overlay_span_side{width:27.5%}.container{margin:0}.navigation{line-height:1.8em}.box-embed{width:92%}}@media only screen and (max-width:1165px){.AdPortalLeaderboard{display:none}}@media only screen and (max-width:1280px){.container{margin:0}.AdPortalSkyscraperLeft{display:none}.AdPortalSkyscraperRight{display:none}}@media only screen and (min-device-width :320px) and (max-device-width :568px) and (orientation :landscape){.span_6_of_10{width:60.0%}.span_4_of_10{width:40.0%}}";
css+= "/*BRANDING_IN_GAME_MENUBAR_THEME*/"; //can't fit in one line. Do we minify and remove all spaces?
css+= "/*BRANDING_IN_GAME_MENUBAR_USER_PANEL_LOGGED_THEME*/";
css+= "/*BRANDING_IN_GAME_MENUBAR_USER_PANEL_UNLOGGED_THEME*/";
css+= "/*BRANDING_IN_GAME_MENUBAR_LOGIN_THEME*/";
css+= "/*BRANDING_IN_GAME_MENUBAR_REGISTER_THEME*/";
css+= "/*BRANDING_IN_GAME_MENUBAR_LOGOUT_THEME*/";
css+= "/*BRANDING_IN_GAME_MENUBAR_LEADERBOARD_THEME*/";
css+= "/*BRANDING_CHANGE_USERNAME_THEME*/";
css+= "#AdInGamePreroll{position:absolute;float:left;min-width:320px;z-index:10000;left:0;top:0;display:none;background:rgba(0,0,0,0.7);-webkit-transition:all .6s ease;-moz-transition:all .6s ease;-o-transition:all .6s ease}#AdInGamePreroll-Box{z-index:10000;position:absolute;width:302px;height:250px}#AdInGamePreroll-Box-Body{z-index:10000;position:relative;background:transparent}#AdInGamePreroll-Box-Footer{z-index:10000;position:relative;font-size:11px;height:20px;color:#fff;background:transparent}#AdInGamePreroll-Box-Header{z-index:10000;position:relative;margin-top:-2px;font-size:11px;height:20px;text-align:right;color:#fff;background:transparent}#AdInGamePreroll-Box-Close{position:absolute;z-index:10005;background-image:url('static/test/images/ad/close-button.png');background-repeat:no-repeat;width:22px;height:22px;top:-4px;margin-right:-1px;display:none}";
css+= "#AdInGameEndgame{position:absolute;float:left;min-width:320px;z-index:10000;left:0;top:0;display:none;background:rgba(0,0,0,0.7);-webkit-transition:all .6s ease;-moz-transition:all .6s ease;-o-transition:all .6s ease}#AdInGameEndgame-Box{z-index:10000;position:absolute;width:302px;height:250px}#AdInGameEndgame-Box-Body{z-index:10000;position:relative;background:transparent}#AdInGameEndgame-Box-Footer{z-index:10000;position:relative;font-size:11px;height:20px;color:#fff;background:transparent}#AdInGameEndgame-Box-Header{z-index:10000;position:relative;margin-top:-2px;font-size:11px;height:20px;text-align:right;color:#fff;background:transparent}#AdInGameEndgame-Box-Close{position:absolute;z-index:10005;background-image:url('static/test/images/ad/close-button.png');background-repeat:no-repeat;width:22px;height:22px;top:-4px;margin-right:-1px;display:none}";

var html = "";
html+= "<!--BRANDING_IN_GAME_MENUBAR_STRUCTURE-->";
html+= "<!--BRANDING_IN_GAME_MENUBAR_LOGIN_STRUCTURE-->";
html+= "<!--BRANDING_IN_GAME_MENUBAR_REGISTER_STRUCTURE-->";
html+= "<!--BRANDING_IN_GAME_MENUBAR_LOGOUT_STRUCTURE-->";
html+= "<!--BRANDING_IN_GAME_MENUBAR_LEADERBOARD_STRUCTURE-->";
html+= "<!--BRANDING_CHANGE_USERNAME_STRUCTURE-->";
html+= "<!--AD_IN_GAME_PREROLL_STRUCTURE-->";
html+= "<!--AD_IN_GAME_ENDGAME_STRUCTURE-->";

$('head').append("<style>"+css+"</style>");
$('html').append(html);

//Base script contains all that important juice (language.jsvalidate,forms,validate extra,etc)

var _CONFIG={LOGGING:!0};var Language=new function(){this.en={Validation:{urlshort:"Please enter a valid url: Eg: mysite.com",alphanumeric:"Letters, numbers, and dashes only please",lettersonly:"Letters only please",letterswithbasicpunc:"Letters or punctuation only please",letterswithwhitespace:"Letters with white spaces only please",alphanumericnodash:"Letters and numbers only please",alphanumericwhitespace:"Letters and numbers only please",nowhitespace:"No white space please",ziprange:"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx",
integer:"A positive or negative non-decimal number please",vinUS:"The specified vehicle identification number (VIN) is invalid",dateITA:"Please enter a correct date","user-password-retype":"Please type in the same password",maxWords:"Please enter {0} words or less",minWords:"Please enter at least {0} words",rangeWords:"Please enter between {0} and {1} words",valueNotEquals:"Value must not equal arg",required:"This field is required",remote:"Please fix this field",email:"Valid email address required",
url:"Please enter a valid URL",date:"Please enter a valid date",dateISO:"Please enter a valid date (ISO)",number:"Please enter a valid number",digits:"Please enter only digits",creditcard:"Please enter a valid credit card number",equalTo:"Please enter the same value again",accept:"Please enter a value with a valid extension",maxlength:"Please enter no more than {0} characters",minlength:"Please enter at least {0} characters",rangelength:"Please enter a value between {0} and {1} characters long",range:"Please enter a value between {0} and {1}",
max:"Please enter a value less than or equal to {0}",min:"Please enter a value greater than or equal to {0}"}};this.zh={}},Localization=Language.en;(function(b){b.extend(b.fn,{validate:function(a){if(this.length){var c=b.data(this[0],"validator");if(c)return c;this.attr("novalidate","novalidate");c=new b.validator(a,this[0]);b.data(this[0],"validator",c);c.settings.onsubmit&&(a=this.find("input, button"),a.filter(".cancel").click(function(){c.cancelSubmit=!0}),c.settings.submitHandler&&a.filter(":submit").click(function(){c.submitButton=this}),this.submit(function(a){function f(){if(c.settings.submitHandler){if(c.submitButton)var a=b("<input type='hidden'/>").attr("name",
c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm);c.settings.submitHandler.call(c,c.currentForm);c.submitButton&&a.remove();return!1}return!0}c.settings.debug&&a.preventDefault();if(c.cancelSubmit)return c.cancelSubmit=!1,f();if(c.form())return c.pendingRequest?(c.formSubmitted=!0,!1):f();c.focusInvalid();return!1}));return c}a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(b(this[0]).is("form"))return this.validate().form();
var a=!0,c=b(this[0].form).validate();this.each(function(){a&=c.element(this)});return a},removeAttrs:function(a){var c={},d=this;b.each(a.split(/\s/),function(a,b){c[b]=d.attr(b);d.removeAttr(b)});return c},rules:function(a,c){var d=this[0];if(a){var f=b.data(d.form,"validator").settings,g=f.rules,r=b.validator.staticRules(d);switch(a){case "add":b.extend(r,b.validator.normalizeRule(c));g[d.name]=r;c.messages&&(f.messages[d.name]=b.extend(f.messages[d.name],c.messages));break;case "remove":if(!c)return delete g[d.name],
r;var u={};b.each(c.split(/\s/),function(a,b){u[b]=r[b];delete r[b]});return u}}d=b.validator.normalizeRules(b.extend({},b.validator.metadataRules(d),b.validator.classRules(d),b.validator.attributeRules(d),b.validator.staticRules(d)),d);d.required&&(f=d.required,delete d.required,d=b.extend({required:f},d));return d}});b.extend(b.expr[":"],{blank:function(a){return!b.trim(""+a.value)},filled:function(a){return!!b.trim(""+a.value)},unchecked:function(a){return!a.checked}});b.validator=function(a,c){this.settings=
b.extend(!0,{},b.validator.defaults,a);this.currentForm=c;this.init()};b.validator.format=function(a,c){if(1==arguments.length)return function(){var c=b.makeArray(arguments);c.unshift(a);return b.validator.format.apply(this,c)};2<arguments.length&&c.constructor!=Array&&(c=b.makeArray(arguments).slice(1));c.constructor!=Array&&(c=[c]);b.each(c,function(b,c){a=a.replace(RegExp("\\{"+b+"\\}","g"),c)});return a};b.extend(b.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",
errorElement:"label",focusInvalid:!0,errorContainer:b([]),errorLabelContainer:b([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))&&this.element(a)},onkeyup:function(a){(a.name in
this.submitted||a==this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,c,d){"radio"===a.type?this.findByName(a.name).addClass(c).removeClass(d):b(a).addClass(c).removeClass(d)},unhighlight:function(a,c,d){"radio"===a.type?this.findByName(a.name).removeClass(c).addClass(d):b(a).removeClass(c).addClass(d)}},setDefaults:function(a){b.extend(b.validator.defaults,a)},messages:{required:Localization.Validation.required,
remote:Localization.Validation.remote,email:Localization.Validation.email,url:Localization.Validation.url,date:Localization.Validation.date,dateISO:Localization.Validation.dateISO,number:Localization.Validation.number,digits:Localization.Validation.digits,creditcard:Localization.Validation.creditcard,equalTo:Localization.Validation.equalTo,accept:Localization.Validation.accept,maxlength:b.validator.format(Localization.Validation.maxlength),minlength:b.validator.format(Localization.Validation.minlength),
rangelength:b.validator.format(Localization.Validation.rangelength),range:b.validator.format(Localization.Validation.range),max:b.validator.format(Localization.Validation.max),min:b.validator.format(Localization.Validation.min)},autoCreateRanges:!1,prototype:{init:function(){function a(a){var c=b.data(this[0].form,"validator"),d="on"+a.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],a)}this.labelContainer=b(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&
this.labelContainer||b(this.currentForm);this.containers=b(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var c=this.groups={};b.each(this.settings.groups,function(a,d){b.each(d.split(/\s/),function(b,d){c[d]=a})});var d=this.settings.rules;b.each(d,function(a,c){d[a]=b.validator.normalizeRule(c)});b(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ",
"focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",a);this.settings.invalidHandler&&b(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();b.extend(this.submitted,this.errorMap);this.invalid=b.extend({},this.errorMap);this.valid()||b(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=
this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(a){this.lastElement=a=this.validationTargetFor(this.clean(a));this.prepareElement(a);this.currentElements=b(a);var c=this.check(a);c?delete this.invalid[a.name]:this.invalid[a.name]=!0;this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers));this.showErrors();return c},showErrors:function(a){if(a){b.extend(this.errorMap,a);this.errorList=[];for(var c in a)this.errorList.push({message:a[c],element:this.findByName(c)[0]});
this.successList=b.grep(this.successList,function(b){return!(b.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){b.fn.resetForm&&b(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0,d;for(d in a)b++;
return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{b(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&1==b.grep(this.errorList,function(b){return b.element.name==a.name}).length&&a},elements:function(){var a=
this,c={};return b(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&a.settings.debug&&window.console&&console.error("%o has no name assigned",this);return this.name in c||!a.objectLength(b(this).rules())?!1:c[this.name]=!0})},clean:function(a){return b(a)[0]},errors:function(){return b(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=
[];this.errorMap={};this.toShow=b([]);this.toHide=b([]);this.currentElements=b([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.validationTargetFor(this.clean(a));var c=b(a).rules(),d=!1,f;for(f in c){var g={method:f,parameters:c[f]};try{var r=b.validator.methods[f].call(this,a.value.replace(/\r/g,""),a,g.parameters);if("dependency-mismatch"==r)d=!0;else{d=!1;if("pending"==
r){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!r)return this.formatAndAdd(a,g),!1}}catch(u){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+a.id+", check the '"+g.method+"' method",u),u;}}if(!d)return this.objectLength(c)&&this.successList.push(a),!0},customMetaMessage:function(a,c){if(b.metadata){var d=this.settings.meta?b(a).metadata()[this.settings.meta]:b(a).metadata();return d&&d.messages&&d.messages[c]}},customMessage:function(a,
b){var d=this.settings.messages[a];return d&&(d.constructor==String?d:d[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(a,c){return this.findDefined(this.customMessage(a.name,c),this.customMetaMessage(a,c),!this.settings.ignoreTitle&&a.title||void 0,b.validator.messages[c],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,b){var d=this.defaultMessage(a,b.method),f=/\$?\{(\d+)\}/g;
"function"==typeof d?d=d.call(this,b.parameters,a):f.test(d)&&(d=jQuery.format(d.replace(f,"{$1}"),b.parameters));this.errorList.push({message:d,element:a});this.errorMap[a.name]=d;this.submitted[a.name]=d},addWrapper:function(a){this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper)));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);
this.showLabel(b.element,b.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},
invalidElements:function(){return b(this.errorList).map(function(){return this.element})},showLabel:function(a,c){var d=this.errorsFor(a);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.attr("generated")&&d.html(c)):(d=b("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:!0}).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||
(this.settings.errorPlacement?this.settings.errorPlacement(d,b(a)):d.insertAfter(a)));!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d));this.toShow=this.toShow.add(d)},errorsFor:function(a){var c=this.idOrName(a);return this.errors().filter(function(){return b(this).attr("for")==c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){this.checkable(a)&&
(a=this.findByName(a.name).not(this.settings.ignore)[0]);return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var c=this.currentForm;return b(document.getElementsByName(a)).map(function(b,f){return f.form==c&&f.name==a&&f||null})},getLength:function(a,c){switch(c.nodeName.toLowerCase()){case "select":return b("option:selected",c).length;case "input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return a.length},depend:function(a,
b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(a,c){return!!b(a,c.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!b.validator.methods.required.call(this,b.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(a,c){this.pendingRequest--;0>this.pendingRequest&&(this.pendingRequest=
0);delete this.pending[a.name];c&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(b(this.currentForm).submit(),this.formSubmitted=!1):!c&&(0==this.pendingRequest&&this.formSubmitted)&&(b(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(a){return b.data(a,"previousValue")||b.data(a,"previousValue",{old:null,valid:!0,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},
dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(a,c){a.constructor==String?this.classRuleSettings[a]=c:b.extend(this.classRuleSettings,a)},classRules:function(a){var c={};(a=b(a).attr("class"))&&b.each(a.split(" "),function(){this in b.validator.classRuleSettings&&b.extend(c,b.validator.classRuleSettings[this])});return c},attributeRules:function(a){var c={};a=b(a);for(var d in b.validator.methods){var f;
(f="required"===d&&"function"===typeof b.fn.prop?a.prop(d):a.attr(d))?c[d]=f:a[0].getAttribute("type")===d&&(c[d]=!0)}c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength;return c},metadataRules:function(a){if(!b.metadata)return{};var c=b.data(a.form,"validator").settings.meta;return c?b(a).metadata()[c]:b(a).metadata()},staticRules:function(a){var c={},d=b.data(a.form,"validator");d.settings.rules&&(c=b.validator.normalizeRule(d.settings.rules[a.name])||{});return c},normalizeRules:function(a,
c){b.each(a,function(d,f){if(!1===f)delete a[d];else if(f.param||f.depends){var g=!0;switch(typeof f.depends){case "string":g=!!b(f.depends,c.form).length;break;case "function":g=f.depends.call(c,c)}g?a[d]=void 0!==f.param?f.param:!0:delete a[d]}});b.each(a,function(d,f){a[d]=b.isFunction(f)?f(c):f});b.each(["minlength","maxlength","min","max"],function(){a[this]&&(a[this]=Number(a[this]))});b.each(["rangelength","range"],function(){a[this]&&(a[this]=[Number(a[this][0]),Number(a[this][1])])});b.validator.autoCreateRanges&&
(a.min&&a.max&&(a.range=[a.min,a.max],delete a.min,delete a.max),a.minlength&&a.maxlength&&(a.rangelength=[a.minlength,a.maxlength],delete a.minlength,delete a.maxlength));a.messages&&delete a.messages;return a},normalizeRule:function(a){if("string"==typeof a){var c={};b.each(a.split(/\s/),function(){c[this]=!0});a=c}return a},addMethod:function(a,c,d){b.validator.methods[a]=c;b.validator.messages[a]=void 0!=d?d:b.validator.messages[a];3>c.length&&b.validator.addClassRules(a,b.validator.normalizeRule(a))},
methods:{required:function(a,c,d){if(!this.depend(d,c))return"dependency-mismatch";switch(c.nodeName.toLowerCase()){case "select":return(a=b(c).val())&&0<a.length;case "input":if(this.checkable(c))return 0<this.getLength(a,c);default:return 0<b.trim(a).length}},remote:function(a,c,d){if(this.optional(c))return"dependency-mismatch";var f=this.previousValue(c);this.settings.messages[c.name]||(this.settings.messages[c.name]={});f.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=
f.message;d="string"==typeof d&&{url:d}||d;if(this.pending[c.name])return"pending";if(f.old===a)return f.valid;f.old=a;var g=this;this.startRequest(c);var r={};r[c.name]=a;b.ajax(b.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:r,success:function(d){g.settings.messages[c.name].remote=f.originalMessage;var n=!0===d;if(n){var s=g.formSubmitted;g.prepareElement(c);g.formSubmitted=s;g.successList.push(c);g.showErrors()}else s={},d=d||g.defaultMessage(c,"remote"),s[c.name]=f.message=
b.isFunction(d)?d(a):d,g.showErrors(s);f.valid=n;g.stopRequest(c,n)}},d));return"pending"},minlength:function(a,c,d){return this.optional(c)||this.getLength(b.trim(a),c)>=d},maxlength:function(a,c,d){return this.optional(c)||this.getLength(b.trim(a),c)<=d},rangelength:function(a,c,d){a=this.getLength(b.trim(a),c);return this.optional(c)||a>=d[0]&&a<=d[1]},min:function(a,b,d){return this.optional(b)||a>=d},max:function(a,b,d){return this.optional(b)||a<=d},range:function(a,b,d){return this.optional(b)||
a>=d[0]&&a<=d[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},
url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 -]+/.test(a))return!1;var d=0,f=0,g=!1;a=a.replace(/\D/g,"");for(var r=a.length-1;0<=r;r--){f=
a.charAt(r);f=parseInt(f,10);if(g&&9<(f*=2))f-=9;d+=f;g=!g}return 0==d%10},accept:function(a,b,d){d="string"==typeof d?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(RegExp(".("+d+")$","i"))},equalTo:function(a,c,d){d=b(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){b(c).valid()});return a==d.val()}}});b.format=b.validator.format})(jQuery);
(function(b){var a={};if(b.ajaxPrefilter)b.ajaxPrefilter(function(b,c,g){c=b.port;"abort"==b.mode&&(a[c]&&a[c].abort(),a[c]=g)});else{var c=b.ajax;b.ajax=function(d){var f=("port"in d?d:b.ajaxSettings).port;return"abort"==("mode"in d?d:b.ajaxSettings).mode?(a[f]&&a[f].abort(),a[f]=c.apply(this,arguments)):c.apply(this,arguments)}}})(jQuery);
(function(b){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&b.each({focus:"focusin",blur:"focusout"},function(a,c){function d(a){a=b.event.fix(a);a.type=c;return b.event.handle.call(this,a)}b.event.special[c]={setup:function(){this.addEventListener(a,d,!0)},teardown:function(){this.removeEventListener(a,d,!0)},handler:function(a){arguments[0]=b.event.fix(a);arguments[0].type=c;return b.event.handle.apply(this,arguments)}}});b.extend(b.fn,{validateDelegate:function(a,
c,d){return this.bind(c,function(c){var g=b(c.target);if(g.is(a))return d.apply(g,arguments)})}})})(jQuery);(function(){function b(a){return a.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[0-9.(),;:!?%#$'"_+=\/-]*/g,"")}jQuery.validator.addMethod("maxWords",function(a,c,d){return this.optional(c)||b(a).match(/\b\w+\b/g).length<d},jQuery.validator.format(Localization.Validation.maxWords));jQuery.validator.addMethod("minWords",function(a,c,d){return this.optional(c)||b(a).match(/\b\w+\b/g).length>=d},jQuery.validator.format(Localization.Validation.minWords));jQuery.validator.addMethod("rangeWords",
function(a,c,d){return this.optional(c)||b(a).match(/\b\w+\b/g).length>=d[0]&&a.match(/bw+b/g).length<d[1]},jQuery.validator.format(Localization.Validation.rangeWords))})();jQuery.validator.addMethod("valueNotEquals",function(b,a,c){return c!=b},Localization.Validation.valueNotEquals);jQuery.validator.addMethod("filesize",function(b,a,c){return this.optional(a)||a.files[0].size<=c});
jQuery.validator.addMethod("urlshort",function(b,a){"http://"!=b.substr(0,7)&&(b="http://"+b);"/"!=b.substr(b.length-1,1)&&(b+="/");return this.optional(a)||/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/i.test(b)},"Not valid url.");jQuery.validator.addMethod("letterswithbasicpunc",function(b,a){return this.optional(a)||/^[a-z-.,?!()'\"\s]+$/i.test(b)},Localization.Validation.letterswithbasicpunc);
jQuery.validator.addMethod("alphanumericnodash",function(b,a){return this.optional(a)||/^[\sa-zA-Z0-9]+$/i.test(b)},Localization.Validation.alphanumericnodash);jQuery.validator.addMethod("alphanumericwhitespace",function(b,a){return this.optional(a)||/^[a-zA-Z0-9-\s]+$/i.test(b)},Localization.Validation.alphanumericwhitespace);jQuery.validator.addMethod("alphanumeric",function(b,a){return this.optional(a)||/^[a-zA-Z0-9-]+$/i.test(b)},Localization.Validation.alphanumeric);
jQuery.validator.addMethod("lettersonly",function(b,a){return this.optional(a)||/^[a-z]+$/i.test(b)},Localization.Validation.lettersonly);jQuery.validator.addMethod("nowhitespace",function(b,a){return this.optional(a)||/^\S+$/i.test(b)},Localization.Validation.nowhitespace);jQuery.validator.addMethod("ziprange",function(b,a){return this.optional(a)||/^90[2-5]\d\{2}-\d{4}$/.test(b)},Localization.Validation.ziprange);
jQuery.validator.addMethod("integer",function(b,a){return this.optional(a)||/^-?\d+$/.test(b)},Localization.Validation.integer);
jQuery.validator.addMethod("vinUS",function(b){if(17!=b.length)return!1;var a,c,d,f,g,r="ABCDEFGHJKLMNPRSTUVWXYZ".split(""),u=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],n=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],s=0;for(a=0;17>a;a++){f=n[a];d=b.slice(a,a+1);8==a&&(g=d);if(isNaN(d))for(c=0;c<r.length;c++){if(d.toUpperCase()===r[c]){d=u[c];d*=f;isNaN(g)&&8==c&&(g=r[c]);break}}else d*=f;s+=d}b=s%11;10==b&&(b="X");return b==g?!0:!1},Localization.Validation.vinUS);
jQuery.validator.addMethod("dateITA",function(b,a){var c=!1;if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(b))var d=b.split("index.html"),c=parseInt(d[0],10),f=parseInt(d[1],10),d=parseInt(d[2],10),g=new Date(d,f-1,c),c=g.getFullYear()==d&&g.getMonth()==f-1&&g.getDate()==c?!0:!1;else c=!1;return this.optional(a)||c},Localization.Validation.dateITA);!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(b){function a(a){var c=a.data;a.isDefaultPrevented()||(a.preventDefault(),b(a.target).ajaxSubmit(c))}function c(a){var c=a.target,d=b(c);if(!d.is("[type=submit],[type=image]")){c=d.closest("[type=submit]");if(0===c.length)return;c=c[0]}var e=this;if(e.clk=c,"image"==c.type)void 0!==a.offsetX?(e.clk_x=a.offsetX,e.clk_y=a.offsetY):"function"==typeof b.fn.offset?(d=d.offset(),
e.clk_x=a.pageX-d.left,e.clk_y=a.pageY-d.top):(e.clk_x=a.pageX-c.offsetLeft,e.clk_y=a.pageY-c.offsetTop);setTimeout(function(){e.clk=e.clk_x=e.clk_y=null},100)}function d(){if(b.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}var f,g;f=void 0!==b("<input type='file'/>").get(0).files;g=void 0!==window.FormData;var r=!!b.fn.prop;b.fn.attr2=function(){if(!r)return this.attr.apply(this,
arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"==typeof a?a:this.attr.apply(this,arguments)};b.fn.ajaxSubmit=function(a){function c(e){function f(a){var b=null;try{a.contentWindow&&(b=a.contentWindow.document)}catch(c){d("cannot get iframe.contentWindow document: "+c)}if(b)return b;try{b=a.contentDocument?a.contentDocument:a.document}catch(e){d("cannot get iframe.contentDocument: "+e),b=a.document}return b}function g(){function a(){try{var b=f(z).readyState;d("state = "+
b);b&&"uninitialized"==b.toLowerCase()&&setTimeout(a,50)}catch(c){d("Server abort: ",c," (",c.name,")"),k(C),F&&clearTimeout(F),F=void 0}}var c=p.attr2("target"),e=p.attr2("action"),u=p.attr("enctype")||p.attr("encoding")||"multipart/form-data";w.setAttribute("target",l);(!s||/post/i.test(s))&&w.setAttribute("method","POST");e!=h.url&&w.setAttribute("action",h.url);h.skipEncodingOverride||s&&!/post/i.test(s)||p.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});h.timeout&&(F=setTimeout(function(){y=
!0;k(G)},h.timeout));var j=[];try{if(h.extraData)for(var n in h.extraData)h.extraData.hasOwnProperty(n)&&j.push(b.isPlainObject(h.extraData[n])&&h.extraData[n].hasOwnProperty("name")&&h.extraData[n].hasOwnProperty("value")?b('<input type="hidden" name="'+h.extraData[n].name+'">').val(h.extraData[n].value).appendTo(w)[0]:b('<input type="hidden" name="'+n+'">').val(h.extraData[n]).appendTo(w)[0]);h.iframeTarget||m.appendTo("body");z.attachEvent?z.attachEvent("onload",k):z.addEventListener("load",k,
!1);setTimeout(a,15);try{w.submit()}catch(t){document.createElement("form").submit.apply(w)}}finally{w.setAttribute("action",e),w.setAttribute("enctype",u),c?w.setAttribute("target",c):p.removeAttr("target"),b(j).remove()}}function k(a){if(!j.aborted&&!E){if(v=f(z),v||(d("cannot access response document"),a=C),a===G&&j)return j.abort("timeout"),void A.reject(j,"timeout");if(a==C&&j)return j.abort("server abort"),void A.reject(j,"error","server abort");if(v&&v.location.href!=h.iframeSrc||y){z.detachEvent?
z.detachEvent("onload",k):z.removeEventListener("load",k,!1);var c;a="success";try{if(y)throw"timeout";var e="xml"==h.dataType||v.XMLDocument||b.isXMLDoc(v);if(d("isXml="+e),!e&&window.opera&&(null===v.body||!v.body.innerHTML)&&--H)return d("requeing onLoad callback, DOM not available"),void setTimeout(k,250);var u=v.body?v.body:v.documentElement;j.responseText=u?u.innerHTML:null;j.responseXML=v.XMLDocument?v.XMLDocument:v;e&&(h.dataType="xml");j.getResponseHeader=function(a){return{"content-type":h.dataType}[a.toLowerCase()]};
u&&(j.status=Number(u.getAttribute("status"))||j.status,j.statusText=u.getAttribute("statusText")||j.statusText);var n=(h.dataType||"").toLowerCase(),s=/(json|script|text)/.test(n);if(s||h.textarea){var p=v.getElementsByTagName("textarea")[0];if(p)j.responseText=p.value,j.status=Number(p.getAttribute("status"))||j.status,j.statusText=p.getAttribute("statusText")||j.statusText;else if(s){var g=v.getElementsByTagName("pre")[0],l=v.getElementsByTagName("body")[0];g?j.responseText=g.textContent?g.textContent:
g.innerText:l&&(j.responseText=l.textContent?l.textContent:l.innerText)}}else"xml"==n&&!j.responseXML&&j.responseText&&(j.responseXML=I(j.responseText));try{var e=j,u=h,q=e.getResponseHeader("content-type")||"",r="xml"===n||!n&&0<=q.indexOf("xml"),B=r?e.responseXML:e.responseText;D=(r&&"parsererror"===B.documentElement.nodeName&&b.error&&b.error("parsererror"),u&&u.dataFilter&&(B=u.dataFilter(B,n)),"string"==typeof B&&("json"===n||!n&&0<=q.indexOf("json")?B=J(B):("script"===n||!n&&0<=q.indexOf("javascript"))&&
b.globalEval(B)),B)}catch(w){a="parsererror",j.error=c=w||a}}catch(x){d("error caught: ",x),a="error",j.error=c=x||a}j.aborted&&(d("upload aborted"),a=null);j.status&&(a=200<=j.status&&300>j.status||304===j.status?"success":"error");"success"===a?(h.success&&h.success.call(h.context,D,"success",j),A.resolve(j.responseText,"success",j),t&&b.event.trigger("ajaxSuccess",[j,h])):a&&(void 0===c&&(c=j.statusText),h.error&&h.error.call(h.context,j,a,c),A.reject(j,"error",c),t&&b.event.trigger("ajaxError",
[j,h,c]));t&&b.event.trigger("ajaxComplete",[j,h]);t&&!--b.active&&b.event.trigger("ajaxStop");h.complete&&h.complete.call(h.context,j,a);E=!0;h.timeout&&clearTimeout(F);setTimeout(function(){h.iframeTarget?m.attr("src",h.iframeSrc):m.remove();j.responseXML=null},100)}}}var n,h,t,l,m,z,j,x,y,F,w=p[0],A=b.Deferred();if(A.abort=function(a){j.abort(a)},e)for(n=0;n<q.length;n++)e=b(q[n]),r?e.prop("disabled",!1):e.removeAttr("disabled");if(h=b.extend(!0,{},b.ajaxSettings,a),h.context=h.context||h,l="jqFormIO"+
(new Date).getTime(),h.iframeTarget?(m=b(h.iframeTarget),x=m.attr2("name"),x?l=x:m.attr2("name",l)):(m=b('<iframe name="'+l+'" src="'+h.iframeSrc+'" />'),m.css({position:"absolute",top:"-1000px",left:"-1000px"})),z=m[0],j={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(a){var c="timeout"===a?"timeout":"aborted";d("aborting upload... "+c);this.aborted=1;try{z.contentWindow.document.execCommand&&
z.contentWindow.document.execCommand("Stop")}catch(e){}m.attr("src",h.iframeSrc);j.error=c;h.error&&h.error.call(h.context,j,c,a);t&&b.event.trigger("ajaxError",[j,h,c]);h.complete&&h.complete.call(h.context,j,c)}},t=h.global,t&&0===b.active++&&b.event.trigger("ajaxStart"),t&&b.event.trigger("ajaxSend",[j,h]),h.beforeSend&&!1===h.beforeSend.call(h.context,j,h))return h.global&&b.active--,A.reject(),A;if(j.aborted)return A.reject(),A;(e=w.clk)&&(x=e.name,x&&!e.disabled&&(h.extraData=h.extraData||{},
h.extraData[x]=e.value,"image"==e.type&&(h.extraData[x+".x"]=w.clk_x,h.extraData[x+".y"]=w.clk_y)));var G=1,C=2;x=b("meta[name=csrf-token]").attr("content");(e=b("meta[name=csrf-param]").attr("content"))&&x&&(h.extraData=h.extraData||{},h.extraData[e]=x);h.forceSync?g():setTimeout(g,10);var D,v,E,H=50,I=b.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=
b.documentElement.nodeName?b:null},J=b.parseJSON||function(a){return window.eval("("+a+")")};return A}if(!this.length)return d("ajaxSubmit: skipping submit process - no element selected"),this;var s,e,p=this;"function"==typeof a?a={success:a}:void 0===a&&(a={});s=a.type||this.attr2("method");e=a.url||this.attr2("action");(e=(e="string"==typeof e?b.trim(e):"")||window.location.href||"")&&(e=(e.match(/^([^#]+)/)||[])[1]);a=b.extend(!0,{url:e,success:b.ajaxSettings.success,type:s||b.ajaxSettings.type,
iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},a);e={};if(this.trigger("form-pre-serialize",[this,a,e]),e.veto)return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(a.beforeSerialize&&!1===a.beforeSerialize(this,a))return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var t=a.traditional;void 0===t&&(t=b.ajaxSettings.traditional);var k,q=[],l=this.formToArray(a.semantic,q);if(a.data&&(a.extraData=a.data,k=b.param(a.data,
t)),a.beforeSubmit&&!1===a.beforeSubmit(l,this,a))return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[l,this,a,e]),e.veto)return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;e=b.param(l,t);k&&(e=e?e+"&"+k:k);"GET"==a.type.toUpperCase()?(a.url+=(0<=a.url.indexOf("?")?"&":"?")+e,a.data=null):a.data=e;var m=[];if(a.resetForm&&m.push(function(){p.resetForm()}),a.clearForm&&m.push(function(){p.clearForm(a.includeHidden)}),
!a.dataType&&a.target){var G=a.success||function(){};m.push(function(c){var d=a.replaceTarget?"replaceWith":"html";b(a.target)[d](c).each(G,arguments)})}else a.success&&m.push(a.success);if(a.success=function(b,c,d){for(var e=a.context||this,f=0,h=m.length;h>f;f++)m[f].apply(e,[b,c,d||p,p])},a.error){var y=a.error;a.error=function(b,c,d){y.apply(a.context||this,[b,c,d,p])}}if(a.complete){var I=a.complete;a.complete=function(b,c){I.apply(a.context||this,[b,c,p])}}k=0<b("input[type=file]:enabled",this).filter(function(){return""!==
b(this).val()}).length;e="multipart/form-data"==p.attr("enctype")||"multipart/form-data"==p.attr("encoding");t=f&&g;d("fileAPI :"+t);var C;if(!1!==a.iframe&&(a.iframe||(k||e)&&!t))a.closeKeepAlive?b.get(a.closeKeepAlive,function(){C=c(l)}):C=c(l);else{if((k||e)&&t){var E=new FormData;for(e=0;e<l.length;e++)E.append(l[e].name,l[e].value);if(a.extraData){var D=b.param(a.extraData,a.traditional).split("&"),J=D.length;k=[];for(e=0;J>e;e++)D[e]=D[e].replace(/\+/g," "),t=D[e].split("="),k.push([decodeURIComponent(t[0]),
decodeURIComponent(t[1])]);for(e=0;e<k.length;e++)k[e]&&E.append(k[e][0],k[e][1])}a.data=null;k=b.extend(!0,{},b.ajaxSettings,a,{contentType:!1,processData:!1,cache:!1,type:s||"POST"});a.uploadProgress&&(k.xhr=function(){var c=b.ajaxSettings.xhr();return c.upload&&c.upload.addEventListener("progress",function(b){var c=0,d=b.loaded||b.position,e=b.total;b.lengthComputable&&(c=Math.ceil(100*(d/e)));a.uploadProgress(b,d,e,c)},!1),c});k.data=null;var H=k.beforeSend;k=(k.beforeSend=function(b,c){c.data=
a.formData?a.formData:E;H&&H.call(this,b,c)},b.ajax(k))}else k=b.ajax(a);C=k}p.removeData("jqxhr").data("jqxhr",C);for(k=0;k<q.length;k++)q[k]=null;return this.trigger("form-submit-notify",[this,a]),this};b.fn.ajaxForm=function(f){if(f=f||{},f.delegation=f.delegation&&b.isFunction(b.fn.on),!f.delegation&&0===this.length){var n=this.selector,s=this.context;return!b.isReady&&n?(d("DOM not ready, queuing ajaxForm"),b(function(){b(n,s).ajaxForm(f)}),this):(d("terminating; zero elements found by selector"+
(b.isReady?"":" (DOM not ready)")),this)}return f.delegation?(b(document).off("submit.form-plugin",this.selector,a).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,f,a).on("click.form-plugin",this.selector,f,c),this):this.ajaxFormUnbind().bind("submit.form-plugin",f,a).bind("click.form-plugin",f,c)};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(a,c){var d=[];if(0===this.length)return d;var e,p=this[0],
g=this.attr("id"),k=a?p.getElementsByTagName("*"):p.elements;if(k&&!/MSIE [678]/.test(navigator.userAgent)&&(k=b(k).get()),g&&(e=b(':input[form="'+g+'"]').get(),e.length&&(k=(k||[]).concat(e))),!k||!k.length)return d;var q,l,m,r,y;e=0;for(r=k.length;r>e;e++)if(m=k[e],q=m.name,q&&!m.disabled)if(a&&p.clk&&"image"==m.type)p.clk==m&&(d.push({name:q,value:b(m).val(),type:m.type}),d.push({name:q+".x",value:p.clk_x},{name:q+".y",value:p.clk_y}));else if(l=b.fieldValue(m,!0),l&&l.constructor==Array){c&&c.push(m);
g=0;for(y=l.length;y>g;g++)d.push({name:q,value:l[g]})}else if(f&&"file"==m.type)if(c&&c.push(m),y=m.files,y.length)for(g=0;g<y.length;g++)d.push({name:q,value:y[g],type:m.type});else d.push({name:q,value:"",type:m.type});else null!==l&&"undefined"!=typeof l&&(c&&c.push(m),d.push({name:q,value:l,type:m.type,required:m.required}));!a&&p.clk&&(k=b(p.clk),l=k[0],(q=l.name)&&!l.disabled&&"image"==l.type&&(d.push({name:q,value:k.val()}),d.push({name:q+".x",value:p.clk_x},{name:q+".y",value:p.clk_y})));
return d};b.fn.formSerialize=function(a){return b.param(this.formToArray(a))};b.fn.fieldSerialize=function(a){var c=[];return this.each(function(){var d=this.name;if(d){var e=b.fieldValue(this,a);if(e&&e.constructor==Array)for(var f=0,g=e.length;g>f;f++)c.push({name:d,value:e[f]});else null!==e&&"undefined"!=typeof e&&c.push({name:this.name,value:e})}}),b.param(c)};b.fn.fieldValue=function(a){for(var c=[],d=0,e=this.length;e>d;d++){var f=b.fieldValue(this[d],a);null===f||"undefined"==typeof f||f.constructor==
Array&&!f.length||(f.constructor==Array?b.merge(c,f):c.push(f))}return c};b.fieldValue=function(a,c){var d=a.name,e=a.type,f=a.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||a.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!a.checked||("submit"==e||"image"==e)&&a.form&&a.form.clk!=a||"select"==f&&-1==a.selectedIndex))return null;if("select"==f){var g=a.selectedIndex;if(0>g)return null;for(var d=[],f=a.options,k=(e="select-one"==e)?g+1:f.length,g=e?g:0;k>g;g++){var q=f[g];if(q.selected){var l=
q.value;if(l||(l=q.attributes&&q.attributes.value&&!q.attributes.value.specified?q.text:q.value),e)return l;d.push(l)}}return d}return b(a).val()};b.fn.clearForm=function(a){return this.each(function(){b("input,select,textarea",this).clearFields(a)})};b.fn.clearFields=b.fn.clearInputs=function(a){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();c.test(d)||"textarea"==e?this.value=
"":"checkbox"==d||"radio"==d?this.checked=!1:"select"==e?this.selectedIndex=-1:"file"==d?/MSIE/.test(navigator.userAgent)?b(this).replaceWith(b(this).clone(!0)):b(this).val(""):a&&(!0===a&&/hidden/.test(d)||"string"==typeof a&&b(this).is(a))&&(this.value="")})};b.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};b.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=
!a})};b.fn.selected=function(a){return void 0===a&&(a=!0),this.each(function(){var c=this.type;"checkbox"==c||"radio"==c?this.checked=a:"option"==this.tagName.toLowerCase()&&(c=b(this).parent("select"),a&&c[0]&&"select-one"==c[0].type&&c.find("option").selected(!1),this.selected=a)})};b.fn.ajaxSubmit.debug=!1});


var InGameMenubarAuth = {
	checkIfLoggedIn:function(token_id){
		$.ajax({
	        type: 'GET',
	        dataType: 'json',
			url: 'http://smartfun.club' + '/api/login/check/' + token_id + '',
            beforeSend:function (){
				console.log('InGameMenubarAuth.checkIfLoggedIn: beforeSend')
			},			
		}).done(function(response){
			console.log(response)								
			$('#in-game-menubar-user-panel').html(response.data.template);	
			
			if(response.status.code==200){				
				if(mjs_user_token_id){
					// Update portal domain
					var old_href = 'index.html';
					console.log('old_href:',old_href);
					
					$('#in-game-menubar-main-portal-url').attr('href',old_href+'?mjs_user_token_id='+mjs_user_token_id.toString());				

					// Update header
					$('#in-game-menubar-header-url').attr('href',old_href+'?mjs_user_token_id='+mjs_user_token_id.toString())					
				}

			}
		});			
	},	
}

// GLOBAL
var mjs_user_token_id;

// getQueryVariable
function getQueryVariable(variable) {
    var query = window.location.search.substring(1); // search in parent
    var vars = query.split('&');
    for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split('=');
        if (decodeURIComponent(pair[0]) == variable) {
            return decodeURIComponent(pair[1]);
        }
    }
}

// In Game Menubar Script Template here
var InGameMenubar = {
	enabled:eval('false'),
	
	activateLeaderboard:function(){
		$('#in-game-menubar-main').hide()
		$('#in-game-menubar-leaderboard').show();		
	},
	
	showActivator:function(){
		$('#in-game-menubar-activator').show();
	},
	activate: function(){
		// Resolve in pixels
		var height = $('#in-game-menubar-main').css('height')
		if(height=='0px'){
			console.log('weird bug with 0px ... forcing something')
			$('#in-game-menubar-main').css('height',window.innerHeight*0.6)
		}
		
		$('#in-game-menubar-activator').hide(200);
		//$('#in-game-menubar-main').css('top',$('#in-game-menubar-activator').css('top'))
		$('#in-game-menubar-main').show(200);
	},		
	deactivate: function(){
		$('#in-game-menubar-activator').show(200);
		$('#in-game-menubar-main').hide(200);
	},
}

var Cookie = {
	IsEnabled: function(){
		return navigator.cookieEnabled ||
	        ('cookie' in document && (document.cookie.length > 0 ||
	        (document.cookie = 'mjstestcookie').indexOf.call(document.cookie, 'mjstestcookie') > -1));	
	},	
	DoesExist: function(cname) {
	    var name = cname + '=';
	    var ca = document.cookie.split(';');
		var value;
	    for(var i=0; i<ca.length; i++) {
	        var c = ca[i];
	        while (c.charAt(0)==' ') c = c.substring(1);
	        if (c.indexOf(name) == 0){
				return true;
			} 
	    }
	    return false;
	},
	// TEST
	SetFiveSecondCookie: function(cname) {
	    var d = new Date();
	    d.setTime(d.getTime() + (5*1000));
	    var expires = 'expires='+d.toUTCString();
	    document.cookie = cname + '=' + 'yes' + '; ' + expires;
	},
	SetHourlyCookie: function(cname) {
	    var d = new Date();
	    d.setTime(d.getTime() + (1*60*60*1000));
	    var expires = 'expires='+d.toUTCString();
	    document.cookie = cname + '=' + 'yes' + '; ' + expires;
	},
	SetDailyCookie: function(cname) {
	    var d = new Date();
	    d.setTime(d.getTime() + (1*24*60*60*1000));
	    var expires = 'expires='+d.toUTCString();
	    document.cookie = cname + '=' + 'yes' + '; ' + expires;
	},
 	SetMonthlyCookie: function(cname) { // averages to 30 days
	    var d = new Date();
	    d.setTime(d.getTime() + (1*30*24*60*60*1000));
	    var expires = 'expires='+d.toUTCString();
	    document.cookie = cname + '=' + 'yes' + '; ' + expires;
	},		
	SetYearlyCookie: function(cname) {
	    var d = new Date();
	    d.setTime(d.getTime() + (1*365*24*60*60*1000)); // averages to 365 days
	    var expires = 'expires='+d.toUTCString();
	    document.cookie = cname + '=' + 'yes' + '; ' + expires;
	},			
}

var MarketJS = {
	Log:{
		Game:function(metric_name){ // Eg: MarketJS.Log.Game('Initialize'), MarketJS.Log.Game('EndGame'), MarketJS.Log.Game('LaunchGame)
			console.log('MarketJS API Log Game Event: ',metric_name)
			$.ajax({
		        type: 'GET',
				dataType:'json',
				url: 'http://smartfun.club/api/log/game/' + metric_name + '/' + mjs_game_id + '?mjs_user_token_id=' + mjs_user_token_id,		
			}).done(function(response){
				console.log(response.status.code);							
			});				
		},
		Portal:function(metric_name){ // Eg: MarketJS.Log.Portal('UserLogin'), MarketJS.Log.Portal('UserRegister')
			console.log('MarketJS API Log Portal Event: ',metric_name)
			$.ajax({
		        type: 'POST',
				dataType:'json',
				url: 'http://smartfun.club/api/log/portal/' + metric_name + '/' + mjs_portal_id,		
			}).done(function(response){
				console.log(response.status.code);							
			});				
		},
		TimeSpent:function(metric_value){
			console.log('MarketJS API Log Time Spent: ',metric_value)
			var metric_name = 'TimeSpent';
			$.ajax({
		        type: 'POST',
				data:{'metric_value':metric_value},
				dataType:'json',
				url: 'http://smartfun.club/api/log/portal/' + metric_name + '/' + mjs_portal_id,		
			}).done(function(response){
				console.log(response.status.code);							
			});				
		},	
		// Specially developed
		UniqueVisitor:function(){
			console.log('MarketJS API Log Unique Visitor Event')

			// if unique_visitor_params[xxxx] = 'True', means it will be logged in the server			
			var unique_visitor_params = {
				'singular':'True', // to invoke singular counter increments. Special case
				'hourly':'False',
				'daily':'False',
				'monthly':'False',
				'yearly':'False',
			}
			
			var submit_hourly_cookie = false;
			var submit_daily_cookie = false;
			var submit_monthly_cookie = false;
			var submit_yearly_cookie = false;
			
			if(Cookie.IsEnabled()){
				/*
				if(!Cookie.DoesExist('mjstest')){ // If cookie does not exist
					unique_visitor_params['hourly'] = 'True';
					Cookie.SetFiveSecondCookie('mjstest');
					submit_hourly_cookie = true;
				}*/
				
				if(!Cookie.DoesExist('mjshourly')){ // If cookie does not exist
					unique_visitor_params['hourly'] = 'True';
					Cookie.SetHourlyCookie('mjshourly');
					submit_hourly_cookie = true;
				}

				if(!Cookie.DoesExist('mjsdaily')){
					unique_visitor_params['daily'] = 'True';
					Cookie.SetDailyCookie('mjsdaily');
					submit_daily_cookie = true;
				}

				if(!Cookie.DoesExist('mjsmonthly')){
					unique_visitor_params['monthly'] = 'True';
					Cookie.SetMonthlyCookie('mjsmonthly');					
					submit_monthly_cookie = true;
				}

				if(!Cookie.DoesExist('mjsyearly')){
					unique_visitor_params['yearly'] = 'True';
					Cookie.SetYearlyCookie('mjsyearly');
					submit_yearly_cookie = true;
				}																
			}	

			/* SAMPLE:
			unique_visitor_params:{
				hourly:hourly, // 'True'
				daily:daily,	// 'False'
				monthly:monthly, // 'False'
				yearly:yearly, // 'False'
			},
			*/						
			if(submit_hourly_cookie || submit_daily_cookie || submit_monthly_cookie || submit_yearly_cookie){
				console.log('Submitting ...')
				$.ajax({
			        type: 'POST',
					dataType:'json',
					data:unique_visitor_params,
					url: 'http://smartfun.club/api/log/portal/' + 'UniqueVisitor' + '/' + mjs_portal_id,
				}).done(function(response){
					console.log(response.status.code);							
				});					
			}else{
				console.log('Not submitting ... all data is current')
			}					
		},
	},
	
	Leaderboard:{
		SubmitScore:function(points){ // (token_id,game_id,points)
			// what's the drawback? users can post as often as they want, but we have a filter for frequency and value
			if(!mjs_user_token_id){
				console.log('No user session detected. No score submitted')
				return
			}
			$.ajax({
		        type: 'POST',
				data:{
					'token_id':mjs_user_token_id,//token_id,
					'game_id':mjs_game_id,//game_id,
					'points':points,
				},
		        dataType: 'json',
				url: 'http://smartfun.club/leaderboard/write',		
			}).done(function(response){
				console.log(response);
				if(response.status.code==200){
					console.log('SUCCESSFUL')
				}else{
					console.log('FAILED')
				}							
			});			
		},			
	}
}

// Steps

// Good thing we only have mobile and non-mobile
function isMobile(){
	var userAgent = navigator.userAgent;
	var list = ['iPhone','iPad','android','Android','Windows Phone','Silk','BB10','PlayBook'];
	for(i=0;i<list.length;i++){
		if(userAgent.indexOf(list[i])!=-1){
			return true
		}
	}
	return false;
}

// ENABLER
// temporaryly use localStorage, instead of jStorage
$(document).ready(function(){
	if(isMobile() && InGameMenubar.enabled){
		InGameMenubar.showActivator();
	}
	
	mjs_user_token_id = getQueryVariable('mjs_user_token_id');
	if(mjs_user_token_id){
		console.log('mjs_user_token_id found in url param')

		if(isMobile() && InGameMenubar.enabled){
			InGameMenubarAuth.checkIfLoggedIn(mjs_user_token_id);
		}		
	}else{
		if(localStorage){
			mjs_user_token_id = localStorage.getItem('mjs_user_token_id')
			
			if(isMobile() && InGameMenubar.enabled){
				if(mjs_user_token_id){
					console.log('mjs_user_token_id found in localStorage');
					InGameMenubarAuth.checkIfLoggedIn(mjs_user_token_id)
				}else{
					console.log('No user token id found in localStorage ... perform a dummy check')
					InGameMenubarAuth.checkIfLoggedIn('12345678') // SOMEHOW THIS NEEDS TO BE HERE
				}				
			}			
			
		}else{
			console.log('no localstorage found')
		}
	}	
});

/* OBSOLETE
// Record TimeSpent
var TimeSpent = 0;
window.setInterval(function () {TimeSpent+=1}, 1000);
var isSmartphone = eval('false');
var isTablet = eval('false');
var isDesktop;
if(isSmartphone || isTablet){
	isDesktop = false;
}else{
	isDesktop = true;
}
if(!isDesktop){
	window.setInterval(function () {
		MarketJS.Log.TimeSpent(TimeSpent); // NEEDS TO BE OPTIMIZED, TO REDUCE LOAD
		TimeSpent = 0;					
	}, 31000);	
}
*/


var BrandingSplashScreen={enabled:eval('true'),}
function InitializeSplashScreen(){if(BrandingSplashScreen.enabled){this.START_BRANDING_SPLASH;ig.module('plugins.branding.splash').requires('impact.impact','impact.entity').defines(function(){ig.BrandingSplash=ig.Class.extend({init:function(){ig.game.spawnEntity(EntityBranding,0,0);}});EntityBranding=ig.Entity.extend({gravityFactor:0,size:{x:32,y:32},splash:new ig.Image('http://lh3.googleusercontent.com/YADmEGMQG8Rabw_t5RDwpddpX7r0VqS8lIQj6R65PozZt1KyTX_NvlOK5UBYqZOE6pwsXlxdOI7UWcHy6sz51525x82aH1fXLq_1Og=s480'),init:function(x,y,settings){this.parent(x,y,settings); if(ig.system.width<=320){this.size.x=320;this.size.y=200;}else{this.size.x=480;this.size.y=240;} 
this.pos.x=(ig.system.width-this.size.x)/2;this.pos.y=-this.size.y-200; this.endPosY=(ig.system.height-this.size.y)/2;var tween1=this.tween({pos:{y:this.endPosY}},0.5,{easing:ig.Tween.Easing.Bounce.EaseIn});var tween2=this.tween({},eval('3')-0.5,{onComplete:function(){ ig.game.director.loadLevel(ig.game.director.currentLevel);}});tween1.chain(tween2);tween1.start();this.currentAnim=this.anims.idle;},createClickableLayer:function(){ console.log('Build clickable layer')
this.checkClickableLayer('branding-splash','SPLASH_SCREEN_CLICKABLE_LOGO_URL',true);},doesClickableLayerExist:function(id){for(k in dynamicClickableEntityDivs){if(k==id)return true;}
return false;},checkClickableLayer:function(divID,outboundLink,open_new_window){if(typeof(wm)=='undefined'){ if(this.doesClickableLayerExist(divID)){ ig.game.showOverlay([divID]); $('#'+divID).find('[href]').attr('href',outboundLink);}else{this.createClickableOutboundLayer(divID,outboundLink,'static/test/images/branding/splash_screen/invisible.png',open_new_window);}}}, createClickableOutboundLayer:function(id,outbound_link,image_path,open_new_window){ var div=ig.$new('div');div.id=id;document.body.appendChild(div); $('#'+div.id).css('float','left');$('#'+div.id).css('position','absolute');if(ig.ua.mobile){var heightRatio=window.innerHeight/mobileHeight;var widthRatio=window.innerWidth/mobileWidth;$('#'+div.id).css('left',this.pos.x*widthRatio);$('#'+div.id).css('top',this.pos.y*heightRatio);$('#'+div.id).css('width',this.size.x*widthRatio);$('#'+div.id).css('height',this.size.y*heightRatio);}else{ var reference={x:(w/2)-(destW/2),y:(h/2)-(destH/2),}
console.log(reference.x,reference.y);$('#'+div.id).css('left',reference.x+this.pos.x*multiplier);$('#'+div.id).css('top',reference.y+this.pos.y*multiplier);$('#'+div.id).css('width',this.size.x*multiplier);$('#'+div.id).css('height',this.size.y*multiplier);} 
if(open_new_window){$('#'+div.id).html('<a target=\'_blank\' href=\''+outbound_link+'\'><img style=\'width:100%;height:100%\' src=\''+image_path+'\'></a>');}else{$('#'+div.id).html('<a href=\''+outbound_link+'\'><img style=\'width:100%;height:100%\' src=\''+image_path+'\'></a>');} 
dynamicClickableEntityDivs[id]={};dynamicClickableEntityDivs[id]['width']=this.size.x*multiplier;dynamicClickableEntityDivs[id]['height']=this.size.y*multiplier;dynamicClickableEntityDivs[id]['entity_pos_x']=this.pos.x;dynamicClickableEntityDivs[id]['entity_pos_y']=this.pos.y;},draw:function(){ig.system.context.fillStyle='#ffffff';ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);this.parent();if(this.splash)
{ig.system.context.drawImage(this.splash.data,0,0,this.splash.data.width,this.splash.data.height,this.pos.x,this.pos.y,this.size.x,this.size.y);}}});});this.END_BRANDING_SPLASH;}}

//BRANDING_IN_GAME_MENUBAR_LOGIN_SCRIPT

//BRANDING_IN_GAME_MENUBAR_REGISTER_SCRIPT

//BRANDING_IN_GAME_MENUBAR_LOGOUT_SCRIPT

//BRANDING_IN_GAME_MENUBAR_LEADERBOARD_SCRIPT

//BRANDING_CHANGE_USERNAME_SCRIPT


var AdInGamePreroll={enabled:eval('false'),ad_duration:eval('5'),ad_width:eval('300'),ad_height:eval('250'),ready_in:'Ready in',loading:'Loading ...',close:'Close'+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;',Initialize:function(){if(!this.enabled){console.log('AdInGamePreroll disabled in CMS ...')
return;} 
if(advancedDivsToResize){advancedDivsToResize['AdInGamePreroll']={'box-width':AdInGamePreroll.ad_width+2,'box-height':AdInGamePreroll.ad_height+20,}}
this.selectedOverlayName='AdInGamePreroll'
console.log('selected:',this.selectedOverlayName); this.overlay=$('#'+this.selectedOverlayName);this.box=$('#'+this.selectedOverlayName+'-Box');this.game=$('#game');this.boxContents={footer:$('#'+this.selectedOverlayName+'-Box-Footer'),header:$('#'+this.selectedOverlayName+'-Box-Header'),close:$('#'+this.selectedOverlayName+'-Box-Close'),body:$('#'+this.selectedOverlayName+'-Box-Body'),}; this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css('left',(this.overlay.width()-this.box.width())/2);this.box.css('top',(this.overlay.height()-this.box.height()-this.boxContents.header.height()-this.boxContents.footer.height())/2); this.overlay.show(this.Timer(this.ad_duration)); sizeHandler();},Timer:function(duration){var i=duration;var inter=setInterval(function(){AdInGamePreroll.boxContents.header.text(AdInGamePreroll.ready_in+' '+i+'...');AdInGamePreroll.boxContents.footer.text(AdInGamePreroll.loading);i--;if(i<0){clearInterval(inter);AdInGamePreroll.boxContents.close.css('left',AdInGamePreroll.boxContents.body.width()-23);AdInGamePreroll.boxContents.close.show();AdInGamePreroll.boxContents.header.html(AdInGamePreroll.close);AdInGamePreroll.boxContents.footer.text('');}},1000);},Close:function(){this.boxContents.close.hide();this.overlay.hide();}};



var AdInGameEndgame={enabled:eval('false'),ad_duration:eval('5'),ad_width:eval('300'),ad_height:eval('250'),ready_in:'Ready in',loading:'Loading ...',close:'Close'+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;',Initialize:function(){if(!this.enabled){console.log('AdInGameEndgame disabled in CMS ...')
return;} 
if(advancedDivsToResize){advancedDivsToResize['AdInGameEndgame']={'box-width':AdInGameEndgame.ad_width+2,'box-height':AdInGameEndgame.ad_height+20,}}
this.selectedOverlayName='AdInGameEndgame'
console.log('selected:',this.selectedOverlayName); this.overlay=$('#'+this.selectedOverlayName);this.box=$('#'+this.selectedOverlayName+'-Box');this.game=$('#game');this.boxContents={footer:$('#'+this.selectedOverlayName+'-Box-Footer'),header:$('#'+this.selectedOverlayName+'-Box-Header'),close:$('#'+this.selectedOverlayName+'-Box-Close'),body:$('#'+this.selectedOverlayName+'-Box-Body'),}; this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css('left',(this.overlay.width()-this.box.width())/2);this.box.css('top',(this.overlay.height()-this.box.height()-this.boxContents.header.height()-this.boxContents.footer.height())/2); this.overlay.show(this.Timer(this.ad_duration)); sizeHandler();},Timer:function(duration){var i=duration;var inter=setInterval(function(){AdInGameEndgame.boxContents.header.text(AdInGameEndgame.ready_in+' '+i+'...');AdInGameEndgame.boxContents.footer.text(AdInGameEndgame.loading);i--;if(i<0){clearInterval(inter);AdInGameEndgame.boxContents.close.css('left',AdInGameEndgame.boxContents.body.width()-23);AdInGameEndgame.boxContents.close.show();AdInGameEndgame.boxContents.header.html(AdInGameEndgame.close);AdInGameEndgame.boxContents.footer.text('');}},1000);},Close:function(){this.boxContents.close.hide();this.overlay.hide();}};

//BRANDING_FACEBOOK_SCRIPT


var BrandingInGameMoreGames={enabled:eval('true'),url:'http://smartfun.club',}

//PORTAL_ANALYTICS_CODE</script> 
<script type='text/javascript'>var _STRINGS={"Splash":{"Loading":"Loading ...","LogoLine1":"Some text here","LogoLine2":"powered by MarketJS","LogoLine3":"none",},};
var _SETTINGS={DeveloperBranding:{Splash:{Enabled:!1},Logo:{Enabled:!0,Link:"http://google.com",LinkEnabled:!0,Width:166,Height:61}},Branding:{Splash:{Enabled:BrandingSplashScreen.enabled},Logo:{Enabled:!1,Link:"http://google.com",LinkEnabled:!1,Width:166,Height:61}},MoreGames:{Enabled:BrandingInGameMoreGames.enabled,Link:BrandingInGameMoreGames.url,NewWindow:!0}};var portraitMode,mobilePortraitWidth=480,mobilePortraitHeight=640,mobileLandscapeWidth=640,mobileLandscapeHeight=480,mobileWidth=mobilePortraitWidth,mobileHeight=mobilePortraitHeight,desktopWidth=480,desktopHeight=640,w,h,multiplier,destW,destH,dynamicClickableEntityDivs={},coreDivsToResize=["game","play","orientate"],advancedDivsToResize={};
function adjustLayers(a){for(i=0;i<coreDivsToResize.length;i++)ig.ua.mobile?($("#"+coreDivsToResize[i]).width(w),$("#"+coreDivsToResize[i]).height(h)):($("#"+coreDivsToResize[i]).width(destW),$("#"+coreDivsToResize[i]).height(destH),$("#"+coreDivsToResize[i]).css("left",a?0:w/2-destW/2));for(key in advancedDivsToResize)try{$("#"+key).width(w),$("#"+key).height(h),$("#"+key+"-Box").css("left",(w-advancedDivsToResize[key]["box-width"])/2),$("#"+key+"-Box").css("top",(h-advancedDivsToResize[key]["box-height"])/
2)}catch(b){console.log(b)}$("#ajaxbar").width(w);$("#ajaxbar").height(h)}
function sizeHandler(){$("#game")&&(w=window.innerWidth,h=window.innerHeight,ig.ua.mobile?(multiplier=Math.min(h/mobileHeight,w/mobileWidth),destW=mobileWidth*multiplier,destH=mobileHeight*multiplier):(multiplier=Math.min(h/desktopHeight,w/desktopWidth),destW=desktopWidth*multiplier,destH=desktopHeight*multiplier),widthRatio=window.innerWidth/mobileWidth,heightRatio=window.innerHeight/mobileHeight,adjustLayers(),window.scrollTo(0,1))}
function orientationHandler(){console.log("changing orientation ...");ig.ua.mobile&&(window.innerHeight<window.innerWidth?($("#orientate").show(),$("#game").hide()):($("#orientate").hide(),$("#game").show()));sizeHandler()}
function fixSamsungHandler(){ig.ua.android&&(!(4.2>parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("Android")+8,navigator.userAgent.indexOf("Android")+11)))&&!(0>navigator.userAgent.indexOf("GT"))&&!(0<navigator.userAgent.indexOf("Chrome"))&&!(0<navigator.userAgent.indexOf("Firefox")))&&(document.addEventListener("touchstart",function(a){a.preventDefault();return!1},!1),document.addEventListener("touchmove",function(a){a.preventDefault();return!1},!1),document.addEventListener("touchend",
function(a){a.preventDefault();return!1},!1))}window.addEventListener("resize",function(){orientationHandler()},!1);window.addEventListener("orientationchange",function(){orientationHandler()},!1);
"true"===getQueryVariable("webview")?($(window).focus(function(){ig.ua.mobile&&ig.game.resumeGame();ig.game&&ig.game.unmute(!0)}),$(window).blur(function(){ig.game&&ig.game.mute(!0)})):(window.onfocus=function(){ig.ua.mobile&&ig.game.resumeGame();ig.game&&ig.game.unmute(!0)},window.onblur=function(){ig.game&&ig.game.mute(!0)});document.ontouchmove=function(){window.scrollTo(0,1)};var ie=function(){for(var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:void 0}();function getQueryVariable(a){for(var b=window.location.search.substring(1).split("&"),c=0;c<b.length;c++){var d=b[c].split("=");if(decodeURIComponent(d[0])==a)return decodeURIComponent(d[1])}}
var nohtml5_message={en:'This game is best experienced with HTML5 capable browsers. We recommend downloading <a href="http://www.google.com/chrome" target="_blank">Google Chrome</a>, or <a href="http://www.mozilla.org" target="_blank">Mozilla Firefox</a>',hk:'\u6b64\u7a0b\u5f0f\u53ea\u80fd\u652f\u63f4 HTML5 \u7684\u700f\u89bd\u5668\u4e0a\u904b\u884c\uff0c\u5982\u672a\u80fd\u958b\u59cb\u904a\u6232\uff0c\u8acb\u6309\u6b64\u4e0b\u8f09 <a href="http://www.google.com/chrome" target="_blank">Google Chrome</a>, or <a href="http://www.mozilla.org" target="_blank">Mozilla Firefox</a>',
tw:'\u6b64\u7a0b\u5f0f\u53ea\u80fd\u652f\u63f4 HTML5 \u7684\u700f\u89bd\u5668\u4e0a\u904b\u884c\uff0c\u5982\u672a\u80fd\u958b\u59cb\u904a\u6232\uff0c\u8acb\u6309\u6b64\u4e0b\u8f09 <a href="http://www.google.com/chrome" target="_blank">Google Chrome</a>, or <a href="http://www.mozilla.org" target="_blank">Mozilla Firefox</a>'};
if(9>ie){var message,lang=getQueryVariable("lang");if(lang)switch(lang.toLowerCase()){case "en":message=nohtml5_message.en;break;case "hk":message=nohtml5_message.hk;break;case "tw":message=nohtml5_message.tw;break;default:message=nohtml5_message.en}else message=nohtml5_message.en;document.getElementById("nohtml5-text").innerHTML=message;document.getElementById("nohtml5").style.visibility="visible"};this.jukebox={};
jukebox.Player=function(a,b){this.id=++jukebox.__jukeboxId;this.origin=b||null;this.settings={};for(var c in this.defaults)this.settings[c]=this.defaults[c];if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)this.settings[d]=a[d];"[object Function]"===Object.prototype.toString.call(jukebox.Manager)&&(jukebox.Manager=new jukebox.Manager);this.resource=this.isPlaying=null;this.resource="[object Object]"===Object.prototype.toString.call(jukebox.Manager)?jukebox.Manager.getPlayableResource(this.settings.resources):this.settings.resources[0]||
null;if(null===this.resource)throw"Your browser can't playback the given resources - or you have missed to include jukebox.Manager";this.__init();return this};jukebox.__jukeboxId=0;
jukebox.Player.prototype={defaults:{resources:[],autoplay:!1,spritemap:{},flashMediaElement:"./swf/FlashMediaElement.swf",timeout:1E3},__addToManager:function(){!0!==this.__wasAddedToManager&&(jukebox.Manager.add(this),this.__wasAddedToManager=!0)},__init:function(){var a=this,b=this.settings,c={},d;jukebox.Manager&&void 0!==jukebox.Manager.features&&(c=jukebox.Manager.features);if(!0===c.html5audio){this.context=new Audio;this.context.src=this.resource;if(null===this.origin){var e=function(b){a.__addToManager(b)};
this.context.addEventListener("canplaythrough",e,!0);window.setTimeout(function(){a.context.removeEventListener("canplaythrough",e,!0);e("timeout")},b.timeout)}this.context.autobuffer=!0;this.context.preload=!0;for(d in this.HTML5API)this[d]=this.HTML5API[d];1<c.channels?!0===b.autoplay?this.context.autoplay=!0:void 0!==b.spritemap[b.autoplay]&&this.play(b.autoplay):1===c.channels&&void 0!==b.spritemap[b.autoplay]&&(this.backgroundMusic=b.spritemap[b.autoplay],this.backgroundMusic.started=Date.now?
Date.now():+new Date,this.play(b.autoplay));1==c.channels&&!0!==b.canPlayBackground&&(window.addEventListener("pagehide",function(){null!==a.isPlaying&&(a.pause(),a.__wasAutoPaused=!0)}),window.addEventListener("pageshow",function(){a.__wasAutoPaused&&(a.resume(),delete a._wasAutoPaused)}))}else if(!0===c.flashaudio){for(d in this.FLASHAPI)this[d]=this.FLASHAPI[d];c=["id=jukebox-flashstream-"+this.id,"autoplay="+b.autoplay,"file="+window.encodeURIComponent(this.resource)];this.__initFlashContext(c);
!0===b.autoplay?this.play(0):b.spritemap[b.autoplay]&&this.play(b.autoplay)}else throw"Your Browser does not support Flash Audio or HTML5 Audio.";},__initFlashContext:function(a){var b,c=this.settings.flashMediaElement,d,e={flashvars:a.join("&"),quality:"high",bgcolor:"#000000",wmode:"transparent",allowscriptaccess:"always",allowfullscreen:"true"};if(navigator.userAgent.match(/MSIE/)){b=document.createElement("div");document.getElementsByTagName("body")[0].appendChild(b);var f=document.createElement("object");
f.id="jukebox-flashstream-"+this.id;f.setAttribute("type","application/x-shockwave-flash");f.setAttribute("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");f.setAttribute("width","0");f.setAttribute("height","0");e.movie=c+"?x="+(Date.now?Date.now():+new Date);e.flashvars=a.join("&amp;");for(d in e)a=document.createElement("param"),a.setAttribute("name",d),a.setAttribute("value",e[d]),f.appendChild(a);b.outerHTML=f.outerHTML;this.context=document.getElementById("jukebox-flashstream-"+this.id)}else{b=
document.createElement("embed");b.id="jukebox-flashstream-"+this.id;b.setAttribute("type","application/x-shockwave-flash");b.setAttribute("width","100");b.setAttribute("height","100");e.play=!1;e.loop=!1;e.src=c+"?x="+(Date.now?Date.now():+new Date);for(d in e)b.setAttribute(d,e[d]);document.getElementsByTagName("body")[0].appendChild(b);this.context=b}},backgroundHackForiOS:function(){if(void 0!==this.backgroundMusic){var a=Date.now?Date.now():+new Date;void 0===this.backgroundMusic.started?(this.backgroundMusic.started=
a,this.setCurrentTime(this.backgroundMusic.start)):(this.backgroundMusic.lastPointer=(a-this.backgroundMusic.started)/1E3%(this.backgroundMusic.end-this.backgroundMusic.start)+this.backgroundMusic.start,this.play(this.backgroundMusic.lastPointer))}},play:function(a,b){if(null!==this.isPlaying&&!0!==b)void 0!==jukebox.Manager&&jukebox.Manager.addToQueue(a,this.id);else{var c=this.settings.spritemap,d;if(void 0!==c[a])d=c[a].start;else if("number"===typeof a){d=a;for(var e in c)if(d>=c[e].start&&d<=
c[e].end){a=e;break}}void 0!==d&&"[object Object]"===Object.prototype.toString.call(c[a])&&(this.isPlaying=this.settings.spritemap[a],this.context.play&&this.context.play(),this.wasReady=this.setCurrentTime(d))}},stop:function(){this.__lastPosition=0;this.isPlaying=null;this.backgroundMusic?this.backgroundHackForiOS():this.context.pause();return!0},pause:function(){this.isPlaying=null;this.__lastPosition=this.getCurrentTime();this.context.pause();return this.__lastPosition},resume:function(a){a="number"===
typeof a?a:this.__lastPosition;if(null!==a)return this.play(a),this.__lastPosition=null,!0;this.context.play();return!1},HTML5API:{getVolume:function(){return this.context.volume||1},setVolume:function(a){this.context.volume=a;return 1E-4>Math.abs(this.context.volume-a)?!0:!1},getCurrentTime:function(){return this.context.currentTime||0},setCurrentTime:function(a){try{return this.context.currentTime=a,!0}catch(b){return!1}}},FLASHAPI:{getVolume:function(){return this.context&&"function"===typeof this.context.getVolume?
this.context.getVolume():1},setVolume:function(a){return this.context&&"function"===typeof this.context.setVolume?(this.context.setVolume(a),!0):!1},getCurrentTime:function(){return this.context&&"function"===typeof this.context.getCurrentTime?this.context.getCurrentTime():0},setCurrentTime:function(a){return this.context&&"function"===typeof this.context.setCurrentTime?this.context.setCurrentTime(a):!1}}};if(void 0===this.jukebox)throw"jukebox.Manager requires jukebox.Player (Player.js) to run properly.";
jukebox.Manager=function(a){this.features={};this.codecs={};this.__players={};this.__playersLength=0;this.__clones={};this.__queue=[];this.settings={};for(var b in this.defaults)this.settings[b]=this.defaults[b];if("[object Object]"===Object.prototype.toString.call(a))for(var c in a)this.settings[c]=a[c];this.__detectFeatures();jukebox.Manager.__initialized=!1===this.settings.useGameLoop?window.setInterval(function(){jukebox.Manager.loop()},20):!0};
jukebox.Manager.prototype={defaults:{useFlash:!1,useGameLoop:!1},__detectFeatures:function(){var a=window.Audio&&new Audio;if(a&&a.canPlayType&&!1===this.settings.useFlash){for(var b=[{e:"3gp",m:["audio/3gpp","audio/amr"]},{e:"aac",m:["audio/aac","audio/aacp"]},{e:"amr",m:["audio/amr","audio/3gpp"]},{e:"caf",m:["audio/IMA-ADPCM","audio/x-adpcm",'audio/x-aiff; codecs="IMA-ADPCM, ADPCM"']},{e:"m4a",m:'audio/mp4{audio/mp4; codecs="mp4a.40.2,avc1.42E01E"{audio/mpeg4{audio/mpeg4-generic{audio/mp4a-latm{audio/MP4A-LATM{audio/x-m4a'.split("{")},
{e:"mp3",m:["audio/mp3","audio/mpeg",'audio/mpeg; codecs="mp3"',"audio/MPA","audio/mpa-robust"]},{e:"mpga",m:["audio/MPA","audio/mpa-robust","audio/mpeg","video/mpeg"]},{e:"mp4",m:["audio/mp4","video/mp4"]},{e:"ogg",m:["application/ogg","audio/ogg",'audio/ogg; codecs="theora, vorbis"',"video/ogg",'video/ogg; codecs="theora, vorbis"']},{e:"wav",m:["audio/wave","audio/wav",'audio/wav; codecs="1"',"audio/x-wav","audio/x-pn-wav"]},{e:"webm",m:["audio/webm",'audio/webm; codecs="vorbis"',"video/webm"]}],
c,d,e=0,f=b.length;e<f;e++)if(d=b[e].e,b[e].m.length&&"object"===typeof b[e].m)for(var g=0,j=b[e].m.length;g<j;g++)if(c=b[e].m[g],""!==a.canPlayType(c)){this.codecs[d]=c;break}else this.codecs[d]||(this.codecs[d]=!1);this.features.html5audio=!(!this.codecs.mp3&&!this.codecs.ogg&&!this.codecs.webm&&!this.codecs.wav);this.features.channels=8;a.volume=0.1337;this.features.volume=!!(1E-4>Math.abs(a.volume-0.1337));navigator.userAgent.match(/iPhone|iPod|iPad/i)&&(this.features.channels=1)}this.features.flashaudio=
!!navigator.mimeTypes["application/x-shockwave-flash"]||!!navigator.plugins["Shockwave Flash"]||!1;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.10"),this.features.flashaudio=!0}catch(l){}!0===this.settings.useFlash&&(this.features.flashaudio=!0);!0===this.features.flashaudio&&!this.features.html5audio&&(this.codecs.mp3="audio/mp3",this.codecs.mpga="audio/mpeg",this.codecs.mp4="audio/mp4",this.codecs.m4a="audio/mp4",this.codecs["3gp"]="audio/3gpp",this.codecs.amr="audio/amr",
this.features.volume=!0,this.features.channels=1)},__getPlayerById:function(a){return this.__players&&void 0!==this.__players[a]?this.__players[a]:null},__getClone:function(a,b){for(var c in this.__clones){var d=this.__clones[c];if(null===d.isPlaying&&d.origin===a)return d}if("[object Object]"===Object.prototype.toString.call(b)){c={};for(var e in b)c[e]=b[e];c.autoplay=!1;e=new jukebox.Player(c,a);e.isClone=!0;e.wasReady=!1;return this.__clones[e.id]=e}return null},loop:function(){if(0!==this.__playersLength)if(this.__queue.length&&
this.__playersLength<this.features.channels){var a=this.__queue[0],b=this.__getPlayerById(a.origin);if(null!==b){var c=this.__getClone(a.origin,b.settings);null!==c&&(!0===this.features.volume&&(b=this.__players[a.origin])&&c.setVolume(b.getVolume()),this.add(c),c.play(a.pointer,!0))}this.__queue.splice(0,1)}else for(c in this.__queue.length&&1===this.features.channels&&(a=this.__queue[0],b=this.__getPlayerById(a.origin),null!==b&&b.play(a.pointer,!0),this.__queue.splice(0,1)),this.__players)a=this.__players[c],
b=a.getCurrentTime()||0,a.isPlaying&&!1===a.wasReady?a.wasReady=a.setCurrentTime(a.isPlaying.start):a.isPlaying&&!0===a.wasReady?b>a.isPlaying.end&&(!0===a.isPlaying.loop?a.play(a.isPlaying.start,!0):a.stop()):a.isClone&&null===a.isPlaying?this.remove(a):void 0!==a.backgroundMusic&&null===a.isPlaying&&b>a.backgroundMusic.end&&a.backgroundHackForiOS()},getPlayableResource:function(a){"[object Array]"!==Object.prototype.toString.call(a)&&(a=[a]);for(var b=0,c=a.length;b<c;b++){var d=a[b],e=d.match(/\.([^\.]*)$/)[1];
if(e&&this.codecs[e])return d}return null},add:function(a){return a instanceof jukebox.Player&&void 0===this.__players[a.id]?(this.__playersLength++,this.__players[a.id]=a,!0):!1},remove:function(a){return a instanceof jukebox.Player&&void 0!==this.__players[a.id]?(this.__playersLength--,delete this.__players[a.id],!0):!1},addToQueue:function(a,b){return("string"===typeof a||"number"===typeof a)&&void 0!==this.__players[b]?(this.__queue.push({pointer:a,origin:b}),!0):!1}};(function(){var a={},b=null,c=!0,d=!1;if("undefined"!==typeof AudioContext)b=new AudioContext;else if("undefined"!==typeof webkitAudioContext)b=new webkitAudioContext;else if("undefined"!==typeof Audio){c=!1;try{new Audio}catch(e){d=!0}}else c=!1,d=!0;if(c){var f="undefined"===typeof b.createGain?b.createGainNode():b.createGain();f.gain.value=1;f.connect(b.destination)}var g=function(){this._volume=1;this._muted=!1;this.usingWebAudio=c;this.noAudio=d;this._howls=[]};g.prototype={volume:function(a){a=
parseFloat(a);if(0<=a&&1>=a){this._volume=a;c&&(f.gain.value=a);for(var b in this._howls)if(this._howls.hasOwnProperty(b)&&!1===this._howls[b]._webAudio)for(a=0;a<this._howls[b]._audioNode.length;a++)this._howls[b]._audioNode[a].volume=this._howls[b]._volume*this._volume;return this}return c?f.gain.value:this._volume},mute:function(){this._setMuted(!0);return this},unmute:function(){this._setMuted(!1);return this},_setMuted:function(a){this._muted=a;c&&(f.gain.value=a?0:this._volume);for(var b in this._howls)if(this._howls.hasOwnProperty(b)&&
!1===this._howls[b]._webAudio)for(var d=0;d<this._howls[b]._audioNode.length;d++)this._howls[b]._audioNode[d].muted=a}};var j=new g,g=null;if(!d)var g=new Audio,l={mp3:!!g.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!g.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!g.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),m4a:!!(g.canPlayType("audio/x-m4a;")||g.canPlayType("audio/aac;")).replace(/^no$/,
""),mp4:!!(g.canPlayType("audio/x-mp4;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")};var m=function(a){this._autoplay=a.autoplay||!1;this._buffer=a.buffer||!1;this._duration=a.duration||0;this._format=a.format||null;this._loop=a.loop||!1;this._loaded=!1;this._sprite=a.sprite||{};this._src=a.src||"";this._pos3d=a.pos3d||[0,0,-0.5];this._volume=void 0!==a.volume?a.volume:1;this._urls=a.urls||[];this._rate=a.rate||1;this._onload=
[a.onload||function(){}];this._onloaderror=[a.onloaderror||function(){}];this._onend=[a.onend||function(){}];this._onpause=[a.onpause||function(){}];this._onplay=[a.onplay||function(){}];this._onendTimer=[];this._webAudio=c&&!this._buffer;this._audioNode=[];this._webAudio&&this._setupAudioNode();j._howls.push(this);this.load()};m.prototype={load:function(){var c=this,n=null;if(!d){for(var e=0;e<c._urls.length;e++){var f,m;if(c._format)f=c._format;else if(m=c._urls[e].toLowerCase().split("?")[0],f=
(f=m.match(/.+\.([^?]+)(\?|$)/))&&2<=f.length?f:m.match(/data\:audio\/([^?]+);/))f=f[1];else{c.on("loaderror");return}if(l[f]){n=c._urls[e];break}}if(n){c._src=n;if(c._webAudio){var g=n;if(g in a)c._duration=a[g].duration,p(c);else{var r=new XMLHttpRequest;r.open("GET.html",g,!0);r.responseType="arraybuffer";r.onload=function(){b.decodeAudioData(r.response,function(b){b&&(a[g]=b,p(c,b))},function(){c.on("loaderror")})};r.onerror=function(){c._webAudio&&(c._buffer=!0,c._webAudio=!1,c._audioNode=[],delete c._gainNode,
c.load())};try{r.send()}catch(D){r.onerror()}}}else{var s=new Audio;c._audioNode.push(s);s.src=n;s._pos=0;s.preload="auto";s.volume=j._muted?0:c._volume*j.volume();a[n]=c;var v=function(){c._duration=Math.ceil(10*s.duration)/10;0===Object.getOwnPropertyNames(c._sprite).length&&(c._sprite={_default:[0,1E3*c._duration]});c._loaded||(c._loaded=!0,c.on("load"));c._autoplay&&c.play();s.removeEventListener("canplaythrough",v,!1)};s.addEventListener("canplaythrough",v,!1);s.load()}return c}}c.on("loaderror")},
urls:function(a){return a?(this.stop(),this._urls="string"===typeof a?[a]:a,this._loaded=!1,this.load(),this):this._urls},play:function(c,d){var e=this;"function"===typeof c&&(d=c);if(!c||"function"===typeof c)c="_default";if(!e._loaded)return e.on("load",function(){e.play(c,d)}),e;if(!e._sprite[c])return"function"===typeof d&&d(),e;e._inactiveNode(function(f){f._sprite=c;var l=0<f._pos?f._pos:e._sprite[c][0]/1E3,m=e._sprite[c][1]/1E3-f._pos,g=!(!e._loop&&!e._sprite[c][2]),p="string"===typeof d?d:
Math.round(Date.now()*Math.random())+"",s,v={id:p,sprite:c,loop:g};s=setTimeout(function(){!e._webAudio&&g&&e.stop(v.id,v.timer).play(c,v.id);e._webAudio&&!g&&(e._nodeById(v.id).paused=!0,e._nodeById(v.id)._pos=0);!e._webAudio&&!g&&e.stop(v.id,v.timer);e.on("end",p)},1E3*m);e._onendTimer.push(s);v.timer=e._onendTimer[e._onendTimer.length-1];if(e._webAudio){s=e._sprite[c][0]/1E3;var x=e._sprite[c][1]/1E3;f.id=p;f.paused=!1;s=[g,s,x];x=e._nodeById(p);x.bufferSource=b.createBufferSource();x.bufferSource.buffer=
a[e._src];x.bufferSource.connect(x.panner);x.bufferSource.loop=s[0];s[0]&&(x.bufferSource.loopStart=s[1],x.bufferSource.loopEnd=s[1]+s[2]);x.bufferSource.playbackRate.value=e._rate;e._playStart=b.currentTime;f.gain.value=e._volume;"undefined"===typeof f.bufferSource.start?f.bufferSource.noteGrainOn(0,l,m):f.bufferSource.start(0,l,m)}else if(4===f.readyState)f.id=p,f.currentTime=l,f.muted=j._muted,f.volume=e._volume*j.volume(),setTimeout(function(){f.play()},0);else{e._clearEndTimer(s);var B=c,C=d,
A=function(){e.play(B,C);f.removeEventListener("canplaythrough",A,!1)};f.addEventListener("canplaythrough",A,!1);return e}e.on("play");"function"===typeof d&&d(p);return e});return e},pause:function(a,b){var c=this;if(!c._loaded)return c.on("play",function(){c.pause(a)}),c;c._clearEndTimer(b||0);var d=a?c._nodeById(a):c._activeNode();if(d)if(d._pos=c.pos(null,a),c._webAudio){if(!d.bufferSource||d.paused)return c;d.paused=!0;"undefined"===typeof d.bufferSource.stop?d.bufferSource.noteOff(0):d.bufferSource.stop(0)}else d.pause();
c.on("pause");return c},stop:function(a,b){var c=this;if(!c._loaded)return c.on("play",function(){c.stop(a)}),c;c._clearEndTimer(b||0);var d=a?c._nodeById(a):c._activeNode();if(d)if(d._pos=0,c._webAudio){if(!d.bufferSource||d.paused)return c;d.paused=!0;"undefined"===typeof d.bufferSource.stop?d.bufferSource.noteOff(0):d.bufferSource.stop(0)}else d.pause(),d.currentTime=0;return c},mute:function(a){var b=this;if(!b._loaded)return b.on("play",function(){b.mute(a)}),b;var c=a?b._nodeById(a):b._activeNode();
c&&(b._webAudio?c.gain.value=0:c.volume=0);return b},unmute:function(a){var b=this;if(!b._loaded)return b.on("play",function(){b.unmute(a)}),b;var c=a?b._nodeById(a):b._activeNode();c&&(b._webAudio?c.gain.value=b._volume:c.volume=b._volume);return b},volume:function(a,b){var c=this;a=parseFloat(a);if(0<=a&&1>=a){c._volume=a;if(!c._loaded)return c.on("play",function(){c.volume(a,b)}),c;var d=b?c._nodeById(b):c._activeNode();d&&(c._webAudio?d.gain.value=a:d.volume=a*j.volume());return c}return c._volume},
loop:function(a){return"boolean"===typeof a?(this._loop=a,this):this._loop},sprite:function(a){return"object"===typeof a?(this._sprite=a,this):this._sprite},pos:function(a,c){var d=this;if(!d._loaded)return d.on("load",function(){d.pos(a)}),"number"===typeof a?d:d._pos||0;a=parseFloat(a);var e=c?d._nodeById(c):d._activeNode();if(e)return 0<=a?(d.pause(c),e._pos=a,d.play(e._sprite,c),d):d._webAudio?e._pos+(b.currentTime-d._playStart):e.currentTime;if(0<=a)return d;for(e=0;e<d._audioNode.length;e++)if(d._audioNode[e].paused&&
4===d._audioNode[e].readyState)return d._webAudio?d._audioNode[e]._pos:d._audioNode[e].currentTime},pos3d:function(a,b,c,d){var e=this;b="undefined"===typeof b||!b?0:b;c="undefined"===typeof c||!c?-0.5:c;if(!e._loaded)return e.on("play",function(){e.pos3d(a,b,c,d)}),e;if(0<=a||0>a){if(e._webAudio){var f=d?e._nodeById(d):e._activeNode();f&&(e._pos3d=[a,b,c],f.panner.setPosition(a,b,c))}}else return e._pos3d;return e},fade:function(a,b,c,d,e){var f=this,l=Math.abs(a-b),m=a>b?"down":"up",l=l/0.01,g=
c/l;if(!f._loaded)return f.on("load",function(){f.fade(a,b,c,d,e)}),f;f.volume(a,e);for(var p=1;p<=l;p++)(function(){var a=Math.round(1E3*(f._volume+("up"===m?0.01:-0.01)*p))/1E3;setTimeout(function(){f.volume(a,e);a===b&&d&&d()},g*p)})()},fadeIn:function(a,b,c){return this.volume(0).play().fade(0,a,b,c)},fadeOut:function(a,b,c,d){var e=this;return e.fade(e._volume,a,b,function(){c&&c();e.pause(d);e.on("end")},d)},_nodeById:function(a){for(var b=this._audioNode[0],c=0;c<this._audioNode.length;c++)if(this._audioNode[c].id===
a){b=this._audioNode[c];break}return b},_activeNode:function(){for(var a=null,b=0;b<this._audioNode.length;b++)if(!this._audioNode[b].paused){a=this._audioNode[b];break}this._drainPool();return a},_inactiveNode:function(a){for(var b=null,c=0;c<this._audioNode.length;c++)if(this._audioNode[c].paused&&4===this._audioNode[c].readyState){a(this._audioNode[c]);b=!0;break}this._drainPool();if(!b){var d;this._webAudio?(d=this._setupAudioNode(),a(d)):(this.load(),d=this._audioNode[this._audioNode.length-
1],d.addEventListener("loadedmetadata",function(){a(d)}))}},_drainPool:function(){var a=0,b;for(b=0;b<this._audioNode.length;b++)this._audioNode[b].paused&&a++;for(b=this._audioNode.length-1;0<=b&&!(5>=a);b--)this._audioNode[b].paused&&(this._webAudio&&this._audioNode[b].disconnect(0),a--,this._audioNode.splice(b,1))},_clearEndTimer:function(a){a=this._onendTimer.indexOf(a);a=0<=a?a:0;this._onendTimer[a]&&(clearTimeout(this._onendTimer[a]),this._onendTimer.splice(a,1))},_setupAudioNode:function(){var a=
this._audioNode,c=this._audioNode.length;a[c]="undefined"===typeof b.createGain?b.createGainNode():b.createGain();a[c].gain.value=this._volume;a[c].paused=!0;a[c]._pos=0;a[c].readyState=4;a[c].connect(f);a[c].panner=b.createPanner();a[c].panner.setPosition(this._pos3d[0],this._pos3d[1],this._pos3d[2]);a[c].panner.connect(a[c]);return a[c]},on:function(a,b){var c=this["_on"+a];if("function"===typeof b)c.push(b);else for(var d=0;d<c.length;d++)b?c[d].call(this,b):c[d].call(this);return this},off:function(a,
b){for(var c=this["_on"+a],d=b.toString(),e=0;e<c.length;e++)if(d===c[e].toString()){c.splice(e,1);break}return this},unload:function(){for(var b=this._audioNode,c=0;c<this._audioNode.length;c++)b[c].paused||this.stop(b[c].id),this._webAudio?b[c].disconnect(0):b[c].src="";b=j._howls.indexOf(this);null!==b&&0<=b&&j._howls.splice(b,1);delete a[this._src]}};if(c)var p=function(a,b){a._duration=b?b.duration:a._duration;0===Object.getOwnPropertyNames(a._sprite).length&&(a._sprite={_default:[0,1E3*a._duration]});
a._loaded||(a._loaded=!0,a.on("load"));a._autoplay&&a.play()};"function"===typeof define&&define.amd&&define(function(){return{Howler:j,Howl:m}});"undefined"!==typeof exports&&(exports.Howler=j,exports.Howl=m);window.Howler=j;window.Howl=m})();(function(a){Number.prototype.map=function(a,b,c,d){return c+(d-c)*((this-a)/(b-a))};Number.prototype.limit=function(a,b){return Math.min(b,Math.max(a,this))};Number.prototype.round=function(a){a=Math.pow(10,a||0);return Math.round(this*a)/a};Number.prototype.floor=function(){return Math.floor(this)};Number.prototype.ceil=function(){return Math.ceil(this)};Number.prototype.toInt=function(){return this|0};Number.prototype.toRad=function(){return this/180*Math.PI};Number.prototype.toDeg=function(){return 180*
this/Math.PI};Array.prototype.erase=function(a){for(var b=this.length;b--;)this[b]===a&&this.splice(b,1);return this};Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Function.prototype.bind=Function.prototype.bind||function(a){var b=this;return function(){var c=Array.prototype.slice.call(arguments);return b.apply(a||null,c)}};a.ig={game:null,debug:null,version:"1.20",global:a,modules:{},resources:[],ready:!1,baked:!1,nocache:"",ua:{},prefix:a.ImpactPrefix||"",
lib:"lib/",_current:null,_loadQueue:[],_waitForOnload:0,$:function(a){return"#"==a.charAt(0)?document.getElementById(a.substr(1)):document.getElementsByTagName(a)},$new:function(a){return document.createElement(a)},copy:function(a){if(!a||"object"!=typeof a||a instanceof HTMLElement||a instanceof ig.Class)return a;if(a instanceof Array)for(var b=[],c=0,d=a.length;c<d;c++)b[c]=ig.copy(a[c]);else for(c in b={},a)b[c]=ig.copy(a[c]);return b},merge:function(a,b){for(var c in b){var d=b[c];if("object"!=
typeof d||d instanceof HTMLElement||d instanceof ig.Class)a[c]=d;else{if(!a[c]||"object"!=typeof a[c])a[c]=d instanceof Array?[]:{};ig.merge(a[c],d)}}return a},ksort:function(a){if(!a||"object"!=typeof a)return[];var b=[],c=[],d;for(d in a)b.push(d);b.sort();for(d=0;d<b.length;d++)c.push(a[b[d]]);return c},module:function(a){if(ig._current)throw"Module '"+ig._current.name+"' defines nothing";if(ig.modules[a]&&ig.modules[a].body)throw"Module '"+a+"' is already defined";ig._current={name:a,requires:[],
loaded:!1,body:null};ig.modules[a]=ig._current;ig._loadQueue.push(ig._current);return ig},requires:function(){ig._current.requires=Array.prototype.slice.call(arguments);return ig},defines:function(a){ig._current.body=a;ig._current=null;ig._initDOMReady()},addResource:function(a){ig.resources.push(a)},setNocache:function(a){ig.nocache=a?"?"+Date.now():""},log:function(){},assert:function(){},show:function(){},mark:function(){},_loadScript:function(a,b){ig.modules[a]={name:a,requires:[],loaded:!1,body:null};
ig._waitForOnload++;var c=ig.prefix+ig.lib+a.replace(/\./g,"index.html")+".js"+ig.nocache,d=ig.$new("script");d.type="text/javascript";d.src=c;d.onload=function(){ig._waitForOnload--;ig._execModules()};d.onerror=function(){throw"Failed to load module "+a+" at "+c+" required from "+b;};ig.$("head")[0].appendChild(d)},_execModules:function(){for(var a=!1,b=0;b<ig._loadQueue.length;b++){for(var c=ig._loadQueue[b],d=!0,e=0;e<c.requires.length;e++){var f=c.requires[e];ig.modules[f]?ig.modules[f].loaded||(d=!1):
(d=!1,ig._loadScript(f,c.name))}d&&c.body&&(ig._loadQueue.splice(b,1),c.loaded=!0,c.body(),a=!0,b--)}if(a)ig._execModules();else if(!ig.baked&&0==ig._waitForOnload&&0!=ig._loadQueue.length){a=[];for(b=0;b<ig._loadQueue.length;b++){d=[];f=ig._loadQueue[b].requires;for(e=0;e<f.length;e++)c=ig.modules[f[e]],(!c||!c.loaded)&&d.push(f[e]);a.push(ig._loadQueue[b].name+" (requires: "+d.join(", ")+")")}throw"Unresolved (circular?) dependencies. Most likely there's a name/path mismatch for one of the listed modules:\n"+
a.join("\n");}},_DOMReady:function(){if(!ig.modules["dom.ready"].loaded){if(!document.body)return setTimeout(ig._DOMReady,13);ig.modules["dom.ready"].loaded=!0;ig._waitForOnload--;ig._execModules()}return 0},_boot:function(){document.location.href.match(/\?nocache/)&&ig.setNocache(!0);ig.ua.pixelRatio=a.devicePixelRatio||1;ig.ua.viewport={width:a.innerWidth,height:a.innerHeight};ig.ua.screen={width:a.screen.availWidth*ig.ua.pixelRatio,height:a.screen.availHeight*ig.ua.pixelRatio};ig.ua.iPhone=/iPhone/i.test(navigator.userAgent);
ig.ua.iPhone4=ig.ua.iPhone&&2==ig.ua.pixelRatio;ig.ua.iPad=/iPad/i.test(navigator.userAgent);ig.ua.android=/android/i.test(navigator.userAgent);ig.ua.is_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);ig.ua.is_safari_or_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent);ig.ua.iOS=ig.ua.iPhone||ig.ua.iPad;ig.ua.iOS6_tag=/OS 6_/i.test(navigator.userAgent);ig.ua.iOS6=(ig.ua.iPhone||ig.ua.iPad)&&ig.ua.iOS6_tag;ig.ua.iOSgt5=ig.ua.iOS&&5<parseInt(navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]);
ig.ua.mobile=ig.ua.iOS||ig.ua.android||ig.ua.iOS6},_initDOMReady:function(){ig.modules["dom.ready"]?ig._execModules():(ig._boot(),ig.modules["dom.ready"]={requires:[],loaded:!1,body:null},ig._waitForOnload++,"complete"===document.readyState?ig._DOMReady():(document.addEventListener("DOMContentLoaded",ig._DOMReady,!1),a.addEventListener("load",ig._DOMReady,!1)))}};for(var b=["ms","moz","webkit","o"],c=0;c<b.length&&!a.requestAnimationFrame;c++)a.requestAnimationFrame=a[b[c]+"RequestAnimationFrame"];
if(a.requestAnimationFrame){var d=1,e={};a.ig.setAnimation=function(b,c){var f=d++;e[f]=!0;var q=function(){e[f]&&(a.requestAnimationFrame(q,c),b())};a.requestAnimationFrame(q,c);return f};a.ig.clearAnimation=function(a){delete e[a]}}else a.ig.setAnimation=function(b){return a.setInterval(b,1E3/60)},a.ig.clearAnimation=function(b){a.clearInterval(b)};var f=!1,g=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/;a.ig.Class=function(){};var j=function(a){var b=this.prototype,c={},d;for(d in a)"function"==
typeof a[d]&&"function"==typeof b[d]&&g.test(a[d])?(c[d]=b[d],b[d]=function(a,b){return function(){var d=this.parent;this.parent=c[a];var e=b.apply(this,arguments);this.parent=d;return e}}(d,a[d])):b[d]=a[d]};a.ig.Class.extend=function(b){function c(){if(!f){if(this.staticInstantiate){var a=this.staticInstantiate.apply(this,arguments);if(a)return a}for(var b in this)"object"==typeof this[b]&&(this[b]=ig.copy(this[b]));this.init&&this.init.apply(this,arguments)}return this}var d=this.prototype;f=!0;
var e=new this;f=!1;for(var n in b)e[n]="function"==typeof b[n]&&"function"==typeof d[n]&&g.test(b[n])?function(a,b){return function(){var c=this.parent;this.parent=d[a];var e=b.apply(this,arguments);this.parent=c;return e}}(n,b[n]):b[n];c.prototype=e;c.constructor=c;c.extend=a.ig.Class.extend;c.inject=j;return c}})(window);ig.baked=!0;
ig.module("impact.image").defines(function(){ig.Image=ig.Class.extend({data:null,width:0,height:0,loaded:!1,failed:!1,loadCallback:null,path:"",staticInstantiate:function(a){return ig.Image.cache[a]||null},init:function(a){this.path=a;this.load()},load:function(a){this.loaded?a&&a(this.path,!0):(!this.loaded&&ig.ready?(this.loadCallback=a||null,this.data=new Image,this.data.onload=this.onload.bind(this),this.data.onerror=this.onerror.bind(this),this.data.src=ig.prefix+this.path+ig.nocache):ig.addResource(this),
ig.Image.cache[this.path]=this)},reload:function(){this.loaded=!1;this.data=new Image;this.data.onload=this.onload.bind(this);this.data.src=this.path+"?"+Date.now()},onload:function(){this.width=this.data.width;this.height=this.data.height;this.loaded=!0;1!=ig.system.scale&&this.resize(ig.system.scale);this.loadCallback&&this.loadCallback(this.path,!0)},onerror:function(){this.failed=!0;this.loadCallback&&this.loadCallback(this.path,!1)},resize:function(a){var b=this.width*a,c=this.height*a,d=ig.$new("canvas");
d.width=this.width;d.height=this.height;d=d.getContext("2d");d.drawImage(this.data,0,0,this.width,this.height,0,0,this.width,this.height);var d=d.getImageData(0,0,this.width,this.height),e=ig.$new("canvas");e.width=b;e.height=c;for(var f=e.getContext("2d"),g=f.getImageData(0,0,b,c),j=0;j<c;j++)for(var l=0;l<b;l++){var m=4*(Math.floor(j/a)*this.width+Math.floor(l/a)),p=4*(j*b+l);g.data[p]=d.data[m];g.data[p+1]=d.data[m+1];g.data[p+2]=d.data[m+2];g.data[p+3]=d.data[m+3]}f.putImageData(g,0,0);this.data=
e},draw:function(a,b,c,d,e,f){if(this.loaded){var g=ig.system.scale;e=(e?e:this.width)*g;f=(f?f:this.height)*g;ig.system.context.drawImage(this.data,c?c*g:0,d?d*g:0,e,f,ig.system.getDrawPos(a),ig.system.getDrawPos(b),e,f);ig.Image.drawCount++}},drawTile:function(a,b,c,d,e,f,g){e=e?e:d;if(this.loaded&&!(d>this.width||e>this.height)){var j=ig.system.scale,l=Math.floor(d*j),m=Math.floor(e*j),p=f?-1:1,q=g?-1:1;if(f||g)ig.system.context.save(),ig.system.context.scale(p,q);ig.system.context.drawImage(this.data,
Math.floor(c*d)%this.width*j,Math.floor(c*d/this.width)*e*j,l,m,ig.system.getDrawPos(a)*p-(f?l:0),ig.system.getDrawPos(b)*q-(g?m:0),l,m);(f||g)&&ig.system.context.restore();ig.Image.drawCount++}}});ig.Image.drawCount=0;ig.Image.cache={};ig.Image.reloadCache=function(){for(var a in ig.Image.cache)ig.Image.cache[a].reload()}});ig.baked=!0;
ig.module("impact.font").requires("impact.image").defines(function(){ig.Font=ig.Image.extend({widthMap:[],indices:[],firstChar:32,alpha:1,letterSpacing:1,lineSpacing:0,onload:function(a){this._loadMetrics(this.data);this.parent(a)},widthForString:function(a){if(-1!==a.indexOf("\n")){a=a.split("\n");for(var b=0,c=0;c<a.length;c++)b=Math.max(b,this._widthForLine(a[c]));return b}return this._widthForLine(a)},_widthForLine:function(a){for(var b=0,c=0;c<a.length;c++)b+=this.widthMap[a.charCodeAt(c)-this.firstChar]+
this.letterSpacing;return b},heightForString:function(a){return a.split("\n").length*(this.height+this.lineSpacing)},draw:function(a,b,c,d){"string"!=typeof a&&(a=a.toString());if(-1!==a.indexOf("\n")){a=a.split("\n");for(var e=this.height+this.lineSpacing,f=0;f<a.length;f++)this.draw(a[f],b,c+f*e,d)}else{if(d==ig.Font.ALIGN.RIGHT||d==ig.Font.ALIGN.CENTER)f=this._widthForLine(a),b-=d==ig.Font.ALIGN.CENTER?f/2:f;1!==this.alpha&&(ig.system.context.globalAlpha=this.alpha);for(f=0;f<a.length;f++)d=a.charCodeAt(f),
b+=this._drawChar(d-this.firstChar,b,c);1!==this.alpha&&(ig.system.context.globalAlpha=1);ig.Image.drawCount+=a.length}},_drawChar:function(a,b,c){if(!this.loaded||0>a||a>=this.indices.length)return 0;var d=ig.system.scale,e=this.widthMap[a]*d,f=(this.height-2)*d;ig.system.context.drawImage(this.data,this.indices[a]*d,0,e,f,ig.system.getDrawPos(b),ig.system.getDrawPos(c),e,f);return this.widthMap[a]+this.letterSpacing},_loadMetrics:function(a){this.height=a.height-1;this.widthMap=[];this.indices=
[];var b=ig.$new("canvas");b.width=a.width;b.height=a.height;b=b.getContext("2d");b.drawImage(a,0,0);for(var b=b.getImageData(0,a.height-1,a.width,1),c=0,d=0,e=0;e<a.width;e++){var f=4*e+3;0!=b.data[f]?d++:0==b.data[f]&&d&&(this.widthMap.push(d),this.indices.push(e-d),c++,d=0)}this.widthMap.push(d);this.indices.push(e-d)}});ig.Font.ALIGN={LEFT:0,RIGHT:1,CENTER:2}});ig.baked=!0;
ig.module("impact.sound").defines(function(){ig.SoundManager=ig.Class.extend({clips:{},volume:1,format:null,init:function(){for(var a=new Audio,b=0;b<ig.Sound.use.length;b++){var c=ig.Sound.use[b];if(a.canPlayType(c.mime)){this.format=c;break}}this.format||(ig.Sound.enabled=!1)},load:function(a,b,c){var d=ig.prefix+a.replace(/[^\.]+$/,this.format.ext)+ig.nocache;if(this.clips[a]){if(b&&this.clips[a].length<ig.Sound.channels)for(b=this.clips[a].length;b<ig.Sound.channels;b++){var e=new Audio(d);e.load();
this.clips[a].push(e)}return this.clips[a][0]}var f=new Audio(d);c&&(f.addEventListener("canplaythrough",function j(b){f.removeEventListener("canplaythrough",j,!1);c(a,!0,b)},!1),f.addEventListener("error",function(b){c(a,!0,b)},!1));f.preload="auto";f.load();this.clips[a]=[f];if(b)for(b=1;b<ig.Sound.channels;b++)e=new Audio(d),e.load(),this.clips[a].push(e);return f},get:function(a){a=this.clips[a];for(var b=0,c;c=a[b++];)if(c.paused||c.ended)return c.ended&&(c.currentTime=0),c;a[0].pause();a[0].currentTime=
0;return a[0]}});ig.Music=ig.Class.extend({tracks:[],namedTracks:{},currentTrack:null,currentIndex:0,random:!1,_volume:1,_loop:!1,_fadeInterval:0,_fadeTimer:null,_endedCallbackBound:null,init:function(){this._endedCallbackBound=this._endedCallback.bind(this);Object.defineProperty?(Object.defineProperty(this,"volume",{get:this.getVolume.bind(this),set:this.setVolume.bind(this)}),Object.defineProperty(this,"loop",{get:this.getLooping.bind(this),set:this.setLooping.bind(this)})):this.__defineGetter__&&
(this.__defineGetter__("volume",this.getVolume.bind(this)),this.__defineSetter__("volume",this.setVolume.bind(this)),this.__defineGetter__("loop",this.getLooping.bind(this)),this.__defineSetter__("loop",this.setLooping.bind(this)))},add:function(a,b){if(ig.Sound.enabled){var c=ig.soundManager.load(a instanceof ig.Sound?a.path:a,!1);c.loop=this._loop;c.volume=this._volume;c.addEventListener("ended",this._endedCallbackBound,!1);this.tracks.push(c);b&&(this.namedTracks[b]=c);this.currentTrack||(this.currentTrack=
c)}},next:function(){this.tracks.length&&(this.stop(),this.currentIndex=this.random?Math.floor(Math.random()*this.tracks.length):(this.currentIndex+1)%this.tracks.length,this.currentTrack=this.tracks[this.currentIndex],this.play())},pause:function(){this.currentTrack&&this.currentTrack.pause()},stop:function(){if(this.currentTrack){this.currentTrack.pause();try{this.currentTrack.currentTime=0}catch(a){console.log(a)}}},play:function(a){if(a&&this.namedTracks[a])a=this.namedTracks[a],a!=this.currentTrack&&
(this.stop(),this.currentTrack=a);else if(!this.currentTrack)return;this.currentTrack.play()},getLooping:function(){return this._loop},setLooping:function(a){this._loop=a;for(var b in this.tracks)this.tracks[b].loop=a},getVolume:function(){return this._volume},setVolume:function(a){this._volume=a.limit(0,1);for(var b in this.tracks)this.tracks[b].volume=this._volume},fadeOut:function(a){this.currentTrack&&(clearInterval(this._fadeInterval),this.fadeTimer=new ig.Timer(a),this._fadeInterval=setInterval(this._fadeStep.bind(this),
50))},_fadeStep:function(){var a=this.fadeTimer.delta().map(-this.fadeTimer.target,0,1,0).limit(0,1)*this._volume;0.01>=a?(this.stop(),this.currentTrack.volume=this._volume,clearInterval(this._fadeInterval)):this.currentTrack.volume=a},_endedCallback:function(){this._loop?this.play():this.next()}});ig.Sound=ig.Class.extend({path:"",volume:1,currentClip:null,multiChannel:!0,init:function(a,b){this.path=a;this.multiChannel=!1!==b;this.load()},load:function(a){ig.Sound.enabled?ig.ready?ig.soundManager.load(this.path,
this.multiChannel,a):ig.addResource(this):a&&a(this.path,!0)},play:function(){ig.Sound.enabled&&(this.currentClip=ig.soundManager.get(this.path),this.currentClip.volume=ig.soundManager.volume*this.volume,this.currentClip.play())},stop:function(){this.currentClip&&(this.currentClip.pause(),this.currentClip.currentTime=0)}});ig.Sound.FORMAT={MP3:{ext:"mp3",mime:"audio/mpeg"},M4A:{ext:"m4a",mime:"audio/mp4; codecs=mp4a"},OGG:{ext:"ogg",mime:"audio/ogg; codecs=vorbis"},WEBM:{ext:"webm",mime:"audio/webm; codecs=vorbis"},
CAF:{ext:"caf",mime:"audio/x-caf"}};ig.Sound.use=[ig.Sound.FORMAT.MP3,ig.Sound.FORMAT.OGG];ig.Sound.channels=4;ig.Sound.enabled=!0});ig.baked=!0;
ig.module("impact.loader").requires("impact.image","impact.font","impact.sound").defines(function(){ig.Loader=ig.Class.extend({resources:[],gameClass:null,status:0,done:!1,_unloaded:[],_drawStatus:0,_intervalId:0,_loadCallbackBound:null,init:function(a,b){this.gameClass=a;this.resources=b;this._loadCallbackBound=this._loadCallback.bind(this);for(var c=0;c<this.resources.length;c++)this._unloaded.push(this.resources[c].path)},load:function(){ig.system.clear("#000");if(this.resources.length){for(var a=
0;a<this.resources.length;a++)this.loadResource(this.resources[a]);this._intervalId=setInterval(this.draw.bind(this),16)}else this.end()},loadResource:function(a){a.load(this._loadCallbackBound)},end:function(){this.done||(this.done=!0,clearInterval(this._intervalId))},draw:function(){},_loadCallback:function(a,b){if(b)this._unloaded.erase(a);else throw"Failed to load resource: "+a;this.status=1-this._unloaded.length/this.resources.length;0==this._unloaded.length&&setTimeout(this.end.bind(this),250)}})});
ig.baked=!0;
ig.module("impact.timer").defines(function(){ig.Timer=ig.Class.extend({target:0,base:0,last:0,pausedAt:0,init:function(a){this.last=this.base=ig.Timer.time;this.target=a||0},set:function(a){this.target=a||0;this.base=ig.Timer.time;this.pausedAt=0},reset:function(){this.base=ig.Timer.time;this.pausedAt=0},tick:function(){var a=ig.Timer.time-this.last;this.last=ig.Timer.time;return this.pausedAt?0:a},delta:function(){return(this.pausedAt||ig.Timer.time)-this.base-this.target},pause:function(){this.pausedAt||(this.pausedAt=
ig.Timer.time)},unpause:function(){this.pausedAt&&(this.base+=ig.Timer.time-this.pausedAt,this.pausedAt=0)}});ig.Timer._last=0;ig.Timer.time=0;ig.Timer.timeScale=1;ig.Timer.maxStep=0.05;ig.Timer.step=function(){var a=Date.now();ig.Timer.time+=Math.min((a-ig.Timer._last)/1E3,ig.Timer.maxStep)*ig.Timer.timeScale;ig.Timer._last=a}});ig.baked=!0;
ig.module("impact.system").requires("impact.timer","impact.image").defines(function(){ig.System=ig.Class.extend({fps:30,width:320,height:240,realWidth:320,realHeight:240,scale:1,tick:0,animationId:0,newGameClass:null,running:!1,delegate:null,clock:null,canvas:null,context:null,init:function(a,b,c,d,e){this.fps=b;this.clock=new ig.Timer;this.canvas=ig.$(a);this.resize(c,d,e);this.context=this.canvas.getContext("2d");this.getDrawPos=ig.System.drawMode},resize:function(a,b,c){this.width=a;this.height=
b;this.scale=c||this.scale;this.realWidth=this.width*this.scale;this.realHeight=this.height*this.scale;this.canvas.width=this.realWidth;this.canvas.height=this.realHeight},setGame:function(a){this.running?this.newGameClass=a:this.setGameNow(a)},setGameNow:function(a){ig.game=new a;ig.system.setDelegate(ig.game)},setDelegate:function(a){if("function"==typeof a.run)this.delegate=a,this.startRunLoop();else throw"System.setDelegate: No run() function in object";},stopRunLoop:function(){ig.clearAnimation(this.animationId);
this.running=!1},startRunLoop:function(){this.stopRunLoop();this.animationId=ig.setAnimation(this.run.bind(this),this.canvas);this.running=!0},clear:function(a){this.context.fillStyle=a;this.context.fillRect(0,0,this.realWidth,this.realHeight)},run:function(){ig.Timer.step();this.tick=this.clock.tick();this.delegate.run();ig.input.clearPressed();this.newGameClass&&(this.setGameNow(this.newGameClass),this.newGameClass=null)},getDrawPos:null});ig.System.DRAW={AUTHENTIC:function(a){return Math.round(a)*
this.scale},SMOOTH:function(a){return Math.round(a*this.scale)},SUBPIXEL:function(a){return a*this.scale}};ig.System.drawMode=ig.System.DRAW.SMOOTH});ig.baked=!0;
ig.module("impact.input").defines(function(){ig.KEY={MOUSE1:-1,MOUSE2:-3,MWHEEL_UP:-4,MWHEEL_DOWN:-5,BACKSPACE:8,TAB:9,ENTER:13,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,
NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,CTRL:17,ALT:18,PLUS:187,COMMA:188,MINUS:189,PERIOD:190};ig.Input=ig.Class.extend({bindings:{},actions:{},presses:{},locks:{},delayedKeyup:{},isUsingMouse:!1,isUsingKeyboard:!1,isUsingAccelerometer:!1,mouse:{x:0,y:0},accel:{x:0,y:0,z:0},initMouse:function(){if(!this.isUsingMouse){this.isUsingMouse=
!0;var a=this.mousewheel.bind(this);ig.system.canvas.addEventListener("mousewheel",a,!1);ig.system.canvas.addEventListener("DOMMouseScroll",a,!1);ig.system.canvas.addEventListener("contextmenu",this.contextmenu.bind(this),!1);ig.system.canvas.addEventListener("mousedown",this.keydown.bind(this),!1);ig.system.canvas.addEventListener("mouseup",this.keyup.bind(this),!1);ig.system.canvas.addEventListener("mousemove",this.mousemove.bind(this),!1);ig.system.canvas.addEventListener("touchstart",this.keydown.bind(this),
!1);ig.system.canvas.addEventListener("touchend",this.keyup.bind(this),!1);ig.system.canvas.addEventListener("touchmove",this.mousemove.bind(this),!1)}},initKeyboard:function(){this.isUsingKeyboard||(this.isUsingKeyboard=!0,window.addEventListener("keydown",this.keydown.bind(this),!1),window.addEventListener("keyup",this.keyup.bind(this),!1))},initAccelerometer:function(){this.isUsingAccelerometer||window.addEventListener("devicemotion",this.devicemotion.bind(this),!1)},mousewheel:function(a){var b=
this.bindings[0<(a.wheelDelta?a.wheelDelta:-1*a.detail)?ig.KEY.MWHEEL_UP:ig.KEY.MWHEEL_DOWN];b&&(this.actions[b]=!0,this.presses[b]=!0,this.delayedKeyup[b]=!0,a.stopPropagation(),a.preventDefault())},mousemove:function(a){for(var b=ig.system.canvas,c=0,d=0;null!=b;)c+=b.offsetLeft,d+=b.offsetTop,b=b.offsetParent;var b=a.pageX,e=a.pageY;a.touches&&(b=a.touches[0].clientX,e=a.touches[0].clientY);this.mouse.x=(b-c)/ig.system.scale;this.mouse.y=(e-d)/ig.system.scale},contextmenu:function(a){this.bindings[ig.KEY.MOUSE2]&&
(a.stopPropagation(),a.preventDefault())},keydown:function(a){if("text"!=a.target.type){var b="keydown"==a.type?a.keyCode:2==a.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1;("touchstart"==a.type||"mousedown"==a.type)&&this.mousemove(a);if(b=this.bindings[b])this.actions[b]=!0,this.locks[b]||(this.presses[b]=!0,this.locks[b]=!0),a.stopPropagation(),a.preventDefault()}},keyup:function(a){if("text"!=a.target.type){var b=this.bindings["keyup"==a.type?a.keyCode:2==a.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1];b&&(this.delayedKeyup[b]=
!0,a.stopPropagation(),a.preventDefault())}},devicemotion:function(a){this.accel=a.accelerationIncludingGravity},bind:function(a,b){0>a?this.initMouse():0<a&&this.initKeyboard();this.bindings[a]=b},bindTouch:function(a,b){var c=ig.$(a),d=this;c.addEventListener("touchstart",function(a){d.touchStart(a,b)},!1);c.addEventListener("touchend",function(a){d.touchEnd(a,b)},!1)},unbind:function(a){this.delayedKeyup[this.bindings[a]]=!0;this.bindings[a]=null},unbindAll:function(){this.bindings={};this.actions=
{};this.presses={};this.locks={};this.delayedKeyup={}},state:function(a){return this.actions[a]},pressed:function(a){return this.presses[a]},released:function(a){return this.delayedKeyup[a]},clearPressed:function(){for(var a in this.delayedKeyup)this.actions[a]=!1,this.locks[a]=!1;this.delayedKeyup={};this.presses={}},touchStart:function(a,b){this.actions[b]=!0;this.presses[b]=!0;a.stopPropagation();a.preventDefault();return!1},touchEnd:function(a,b){this.delayedKeyup[b]=!0;a.stopPropagation();a.preventDefault();
return!1}})});ig.baked=!0;ig.module("impact.impact").requires("dom.ready","impact.loader","impact.system","impact.input","impact.sound").defines(function(){ig.main=function(a,b,c,d,e,f,g){ig.system=new ig.System(a,c,d,e,f||1);ig.input=new ig.Input;ig.soundManager=new ig.SoundManager;ig.music=new ig.Music;ig.ready=!0;(new (g||ig.Loader)(b,ig.resources)).load()}});ig.baked=!0;
ig.module("impact.animation").requires("impact.timer","impact.image").defines(function(){ig.AnimationSheet=ig.Class.extend({width:8,height:8,image:null,init:function(a,b,c){this.width=b;this.height=c;this.image=new ig.Image(a)}});ig.Animation=ig.Class.extend({sheet:null,timer:null,sequence:[],flip:{x:!1,y:!1},pivot:{x:0,y:0},frame:0,tile:0,loopCount:0,alpha:1,angle:0,init:function(a,b,c,d){this.sheet=a;this.pivot={x:a.width/2,y:a.height/2};this.timer=new ig.Timer;this.frameTime=b;this.sequence=c;
this.stop=!!d;this.tile=this.sequence[0]},rewind:function(){this.timer.reset();this.loopCount=0;this.tile=this.sequence[0];return this},gotoFrame:function(a){this.timer.set(this.frameTime*-a);this.update()},gotoRandomFrame:function(){this.gotoFrame(Math.floor(Math.random()*this.sequence.length))},update:function(){var a=Math.floor(this.timer.delta()/this.frameTime);this.loopCount=Math.floor(a/this.sequence.length);this.frame=this.stop&&0<this.loopCount?this.sequence.length-1:a%this.sequence.length;
this.tile=this.sequence[this.frame]},draw:function(a,b){var c=Math.max(this.sheet.width,this.sheet.height);a>ig.system.width||(b>ig.system.height||0>a+c||0>b+c)||(1!=this.alpha&&(ig.system.context.globalAlpha=this.alpha),0==this.angle?this.sheet.image.drawTile(a,b,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y):(ig.system.context.save(),ig.system.context.translate(ig.system.getDrawPos(a+this.pivot.x),ig.system.getDrawPos(b+this.pivot.y)),ig.system.context.rotate(this.angle),
this.sheet.image.drawTile(-this.pivot.x,-this.pivot.y,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y),ig.system.context.restore()),1!=this.alpha&&(ig.system.context.globalAlpha=1))}})});ig.baked=!0;
ig.module("impact.entity").requires("impact.animation","impact.impact").defines(function(){ig.Entity=ig.Class.extend({id:0,settings:{},size:{x:16,y:16},offset:{x:0,y:0},posMP:{x:0,y:0},posML:{x:0,y:0},enableReposition:!1,pos:{x:0,y:0},last:{x:0,y:0},vel:{x:0,y:0},accel:{x:0,y:0},friction:{x:0,y:0},maxVel:{x:100,y:100},zIndex:0,gravityFactor:1,standing:!1,bounciness:0,minBounceVelocity:40,anims:{},animSheet:null,currentAnim:null,health:10,type:0,checkAgainst:0,collides:0,_killed:!1,slopeStanding:{min:(44).toRad(),
max:(136).toRad()},init:function(a,b,c){this.id=++ig.Entity._lastId;this.pos.x=a;this.pos.y=b;ig.merge(this,c)},addAnim:function(a,b,c,d){if(!this.animSheet)throw"No animSheet to add the animation "+a+" to.";b=new ig.Animation(this.animSheet,b,c,d);this.anims[a]=b;this.currentAnim||(this.currentAnim=b);return b},update:function(){this.last.x=this.pos.x;this.last.y=this.pos.y;this.vel.y+=ig.game.gravity*ig.system.tick*this.gravityFactor;this.vel.x=this.getNewVelocity(this.vel.x,this.accel.x,this.friction.x,
this.maxVel.x);this.vel.y=this.getNewVelocity(this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var a=ig.game.collisionMap.trace(this.pos.x,this.pos.y,this.vel.x*ig.system.tick,this.vel.y*ig.system.tick,this.size.x,this.size.y);this.handleMovementTrace(a);this.currentAnim&&this.currentAnim.update()},getNewVelocity:function(a,b,c,d){return b?(a+b*ig.system.tick).limit(-d,d):c?(b=c*ig.system.tick,0<a-b?a-b:0>a+b?a+b:0):a.limit(-d,d)},handleMovementTrace:function(a){this.standing=!1;a.collision.y&&
(0<this.bounciness&&Math.abs(this.vel.y)>this.minBounceVelocity?this.vel.y*=-this.bounciness:(0<this.vel.y&&(this.standing=!0),this.vel.y=0));a.collision.x&&(this.vel.x=0<this.bounciness&&Math.abs(this.vel.x)>this.minBounceVelocity?this.vel.x*-this.bounciness:0);if(a.collision.slope){var b=a.collision.slope;if(0<this.bounciness){var c=this.vel.x*b.nx+this.vel.y*b.ny;this.vel.x=(this.vel.x-2*b.nx*c)*this.bounciness;this.vel.y=(this.vel.y-2*b.ny*c)*this.bounciness}else c=(this.vel.x*b.x+this.vel.y*
b.y)/(b.x*b.x+b.y*b.y),this.vel.x=b.x*c,this.vel.y=b.y*c,b=Math.atan2(b.x,b.y),b>this.slopeStanding.min&&b<this.slopeStanding.max&&(this.standing=!0)}this.pos=a.pos},reposition:function(){ig.ua.mobile&&this.enableReposition&&(portraitMode?(this.pos.x=this.posMP.x,this.pos.y=this.posMP.y):(this.pos.x=this.posML.x,this.pos.y=this.posML.y))},draw:function(){this.currentAnim&&this.currentAnim.draw(this.pos.x-this.offset.x-ig.game._rscreen.x,this.pos.y-this.offset.y-ig.game._rscreen.y)},kill:function(){ig.game.removeEntity(this)},
receiveDamage:function(a){this.health-=a;0>=this.health&&this.kill()},touches:function(a){return!(this.pos.x>=a.pos.x+a.size.x||this.pos.x+this.size.x<=a.pos.x||this.pos.y>=a.pos.y+a.size.y||this.pos.y+this.size.y<=a.pos.y)},distanceTo:function(a){var b=this.pos.x+this.size.x/2-(a.pos.x+a.size.x/2);a=this.pos.y+this.size.y/2-(a.pos.y+a.size.y/2);return Math.sqrt(b*b+a*a)},angleTo:function(a){return Math.atan2(a.pos.y+a.size.y/2-(this.pos.y+this.size.y/2),a.pos.x+a.size.x/2-(this.pos.x+this.size.x/
2))},check:function(){},collideWith:function(){},ready:function(){}});ig.Entity._lastId=0;ig.Entity.COLLIDES={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};ig.Entity.TYPE={NONE:0,A:1,B:2,BOTH:3};ig.Entity.checkPair=function(a,b){a.checkAgainst&b.type&&a.check(b);b.checkAgainst&a.type&&b.check(a);a.collides&&(b.collides&&a.collides+b.collides>ig.Entity.COLLIDES.ACTIVE)&&ig.Entity.solveCollision(a,b)};ig.Entity.solveCollision=function(a,b){var c=null;if(a.collides==ig.Entity.COLLIDES.LITE||b.collides==
ig.Entity.COLLIDES.FIXED)c=a;else if(b.collides==ig.Entity.COLLIDES.LITE||a.collides==ig.Entity.COLLIDES.FIXED)c=b;a.last.x+a.size.x>b.last.x&&a.last.x<b.last.x+b.size.x?(a.last.y<b.last.y?ig.Entity.seperateOnYAxis(a,b,c):ig.Entity.seperateOnYAxis(b,a,c),a.collideWith(b,"y"),b.collideWith(a,"y")):a.last.y+a.size.y>b.last.y&&a.last.y<b.last.y+b.size.y&&(a.last.x<b.last.x?ig.Entity.seperateOnXAxis(a,b,c):ig.Entity.seperateOnXAxis(b,a,c),a.collideWith(b,"x"),b.collideWith(a,"x"))};ig.Entity.seperateOnXAxis=
function(a,b,c){var d=a.pos.x+a.size.x-b.pos.x;c?(c.vel.x=-c.vel.x*c.bounciness+(a===c?b:a).vel.x,b=ig.game.collisionMap.trace(c.pos.x,c.pos.y,c==a?-d:d,0,c.size.x,c.size.y),c.pos.x=b.pos.x):(c=(a.vel.x-b.vel.x)/2,a.vel.x=-c,b.vel.x=c,c=ig.game.collisionMap.trace(a.pos.x,a.pos.y,-d/2,0,a.size.x,a.size.y),a.pos.x=Math.floor(c.pos.x),a=ig.game.collisionMap.trace(b.pos.x,b.pos.y,d/2,0,b.size.x,b.size.y),b.pos.x=Math.ceil(a.pos.x))};ig.Entity.seperateOnYAxis=function(a,b,c){var d=a.pos.y+a.size.y-b.pos.y;
if(c){b=a===c?b:a;c.vel.y=-c.vel.y*c.bounciness+b.vel.y;var e=0;c==a&&Math.abs(c.vel.y-b.vel.y)<c.minBounceVelocity&&(c.standing=!0,e=b.vel.x*ig.system.tick);a=ig.game.collisionMap.trace(c.pos.x,c.pos.y,e,c==a?-d:d,c.size.x,c.size.y);c.pos.y=a.pos.y;c.pos.x=a.pos.x}else ig.game.gravity&&(b.standing||0<a.vel.y)?(c=ig.game.collisionMap.trace(a.pos.x,a.pos.y,0,-(a.pos.y+a.size.y-b.pos.y),a.size.x,a.size.y),a.pos.y=c.pos.y,0<a.bounciness&&a.vel.y>a.minBounceVelocity?a.vel.y*=-a.bounciness:(a.standing=
!0,a.vel.y=0)):(c=(a.vel.y-b.vel.y)/2,a.vel.y=-c,b.vel.y=c,e=b.vel.x*ig.system.tick,c=ig.game.collisionMap.trace(a.pos.x,a.pos.y,e,-d/2,a.size.x,a.size.y),a.pos.y=c.pos.y,a=ig.game.collisionMap.trace(b.pos.x,b.pos.y,0,d/2,b.size.x,b.size.y),b.pos.y=a.pos.y)}});ig.baked=!0;
ig.module("impact.map").defines(function(){ig.Map=ig.Class.extend({tilesize:8,width:1,height:1,data:[[]],name:null,init:function(a,b){this.tilesize=a;this.data=b;this.height=b.length;this.width=b[0].length},getTile:function(a,b){var c=Math.floor(a/this.tilesize),d=Math.floor(b/this.tilesize);return 0<=c&&c<this.width&&0<=d&&d<this.height?this.data[d][c]:0},setTile:function(a,b,c){a=Math.floor(a/this.tilesize);b=Math.floor(b/this.tilesize);0<=a&&a<this.width&&(0<=b&&b<this.height)&&(this.data[b][a]=
c)}})});ig.baked=!0;
ig.module("impact.collision-map").requires("impact.map").defines(function(){ig.CollisionMap=ig.Map.extend({lastSlope:1,tiledef:null,init:function(a,b,e){this.parent(a,b);this.tiledef=e||ig.CollisionMap.defaultTileDef;for(var f in this.tiledef)f|0>this.lastSlope&&(this.lastSlope=f|0)},trace:function(a,b,e,f,g,j){var l={collision:{x:!1,y:!1,slope:!1},pos:{x:a,y:b},tile:{x:0,y:0}},m=Math.ceil(Math.max(Math.abs(e),Math.abs(f))/this.tilesize);if(1<m)for(var p=e/m,q=f/m,n=0;n<m&&(p||q)&&!(this._traceStep(l,
a,b,p,q,g,j,e,f,n),a=l.pos.x,b=l.pos.y,l.collision.x&&(e=p=0),l.collision.y&&(f=q=0),l.collision.slope);n++);else this._traceStep(l,a,b,e,f,g,j,e,f,0);return l},_traceStep:function(a,b,e,f,g,j,l,m,p,q){a.pos.x+=f;a.pos.y+=g;var n=0;if(f){var t=0<f?j:0,z=0>f?this.tilesize:0,n=Math.max(Math.floor(e/this.tilesize),0),u=Math.min(Math.ceil((e+l)/this.tilesize),this.height);f=Math.floor((a.pos.x+t)/this.tilesize);var y=Math.floor((b+t)/this.tilesize);if(0<q||f==y||0>y||y>=this.width)y=-1;if(0<=f&&f<this.width)for(var r=
n;r<u&&!(-1!=y&&(n=this.data[r][y],1<n&&n<=this.lastSlope&&this._checkTileDef(a,n,b,e,m,p,j,l,y,r)));r++)if(n=this.data[r][f],1==n||n>this.lastSlope||1<n&&this._checkTileDef(a,n,b,e,m,p,j,l,f,r)){if(1<n&&n<=this.lastSlope&&a.collision.slope)break;a.collision.x=!0;a.tile.x=n;b=a.pos.x=f*this.tilesize-t+z;m=0;break}}if(g){t=0<g?l:0;g=0>g?this.tilesize:0;n=Math.max(Math.floor(a.pos.x/this.tilesize),0);z=Math.min(Math.ceil((a.pos.x+j)/this.tilesize),this.width);r=Math.floor((a.pos.y+t)/this.tilesize);
u=Math.floor((e+t)/this.tilesize);if(0<q||r==u||0>u||u>=this.height)u=-1;if(0<=r&&r<this.height)for(f=n;f<z&&!(-1!=u&&(n=this.data[u][f],1<n&&n<=this.lastSlope&&this._checkTileDef(a,n,b,e,m,p,j,l,f,u)));f++)if(n=this.data[r][f],1==n||n>this.lastSlope||1<n&&this._checkTileDef(a,n,b,e,m,p,j,l,f,r)){if(1<n&&n<=this.lastSlope&&a.collision.slope)break;a.collision.y=!0;a.tile.y=n;a.pos.y=r*this.tilesize-t+g;break}}},_checkTileDef:function(a,b,e,f,g,j,l,m,p,q){var n=this.tiledef[b];if(!n)return!1;b=(n[2]-
n[0])*this.tilesize;var t=(n[3]-n[1])*this.tilesize,z=n[4];l=e+g+(0>t?l:0)-(p+n[0])*this.tilesize;m=f+j+(0<b?m:0)-(q+n[1])*this.tilesize;if(0<b*m-t*l){if(0>g*-t+j*b)return z;p=Math.sqrt(b*b+t*t);q=t/p;p=-b/p;var u=l*q+m*p,n=q*u,u=p*u;if(n*n+u*u>=g*g+j*j)return z||0.5>b*(m-j)-t*(l-g);a.pos.x=e+g-n;a.pos.y=f+j-u;a.collision.slope={x:b,y:t,nx:q,ny:p};return!0}return!1}});var a=1/3,b=2/3;ig.CollisionMap.defaultTileDef={5:[0,1,1,b,!0],6:[0,b,1,a,!0],7:[0,a,1,0,!0],3:[0,1,1,0.5,!0],4:[0,0.5,1,0,!0],2:[0,
1,1,0,!0],10:[0.5,1,1,0,!0],21:[0,1,0.5,0,!0],32:[b,1,1,0,!0],43:[a,1,b,0,!0],54:[0,1,a,0,!0],27:[0,0,1,a,!0],28:[0,a,1,b,!0],29:[0,b,1,1,!0],25:[0,0,1,0.5,!0],26:[0,0.5,1,1,!0],24:[0,0,1,1,!0],11:[0,0,0.5,1,!0],22:[0.5,0,1,1,!0],33:[0,0,a,1,!0],44:[a,0,b,1,!0],55:[b,0,1,1,!0],16:[1,a,0,0,!0],17:[1,b,0,a,!0],18:[1,1,0,b,!0],14:[1,0.5,0,0,!0],15:[1,1,0,0.5,!0],13:[1,1,0,0,!0],8:[0.5,1,0,0,!0],19:[1,1,0.5,0,!0],30:[a,1,0,0,!0],41:[b,1,a,0,!0],52:[1,1,b,0,!0],38:[1,b,0,1,!0],39:[1,a,0,b,!0],40:[1,0,
0,a,!0],36:[1,0.5,0,1,!0],37:[1,0,0,0.5,!0],35:[1,0,0,1,!0],9:[1,0,0.5,1,!0],20:[0.5,0,0,1,!0],31:[1,0,b,1,!0],42:[b,0,a,1,!0],53:[a,0,0,1,!0],12:[0,0,1,0,!1],23:[1,1,0,1,!1],34:[1,0,1,1,!1],45:[0,1,0,0,!1]};ig.CollisionMap.staticNoCollision={trace:function(a,b,e,f){return{collision:{x:!1,y:!1,slope:!1},pos:{x:a+e,y:b+f},tile:{x:0,y:0}}}}});ig.baked=!0;
ig.module("impact.background-map").requires("impact.map","impact.image").defines(function(){ig.BackgroundMap=ig.Map.extend({tiles:null,scroll:{x:0,y:0},distance:1,repeat:!1,tilesetName:"",foreground:!1,enabled:!0,preRender:!1,preRenderedChunks:null,chunkSize:512,debugChunks:!1,anims:{},init:function(a,b,c){this.parent(a,b);this.setTileset(c)},setTileset:function(a){this.tilesetName=a instanceof ig.Image?a.path:a;this.tiles=new ig.Image(this.tilesetName);this.preRenderedChunks=null},setScreenPos:function(a,
b){this.scroll.x=a/this.distance;this.scroll.y=b/this.distance},preRenderMapToChunks:function(){var a=this.width*this.tilesize*ig.system.scale,b=this.height*this.tilesize*ig.system.scale,c=Math.ceil(a/this.chunkSize),d=Math.ceil(b/this.chunkSize);this.preRenderedChunks=[];for(var e=0;e<d;e++){this.preRenderedChunks[e]=[];for(var f=0;f<c;f++)this.preRenderedChunks[e][f]=this.preRenderChunk(f,e,f==c-1?a-f*this.chunkSize:this.chunkSize,e==d-1?b-e*this.chunkSize:this.chunkSize)}},preRenderChunk:function(a,
b,c,d){var e=c/this.tilesize/ig.system.scale+1,f=d/this.tilesize/ig.system.scale+1,g=a*this.chunkSize/ig.system.scale%this.tilesize,j=b*this.chunkSize/ig.system.scale%this.tilesize;a=Math.floor(a*this.chunkSize/this.tilesize/ig.system.scale);b=Math.floor(b*this.chunkSize/this.tilesize/ig.system.scale);var l=ig.$new("canvas");l.width=c;l.height=d;c=ig.system.context;ig.system.context=l.getContext("2d");for(d=0;d<e;d++)for(var m=0;m<f;m++)if(d+a<this.width&&m+b<this.height){var p=this.data[m+b][d+a];
p&&this.tiles.drawTile(d*this.tilesize-g,m*this.tilesize-j,p-1,this.tilesize)}ig.system.context=c;return l},draw:function(){this.tiles.loaded&&this.enabled&&(this.preRender?this.drawPreRendered():this.drawTiled())},drawPreRendered:function(){this.preRenderedChunks||this.preRenderMapToChunks();var a=ig.system.getDrawPos(this.scroll.x),b=ig.system.getDrawPos(this.scroll.y);this.repeat&&(a%=this.width*this.tilesize*ig.system.scale,b%=this.height*this.tilesize*ig.system.scale);var c=Math.max(Math.floor(a/
this.chunkSize),0),d=Math.max(Math.floor(b/this.chunkSize),0),e=Math.ceil((a+ig.system.realWidth)/this.chunkSize),f=Math.ceil((b+ig.system.realHeight)/this.chunkSize),g=this.preRenderedChunks[0].length,j=this.preRenderedChunks.length;this.repeat||(e=Math.min(e,g),f=Math.min(f,j));for(var l=0;d<f;d++){for(var m=0,p=c;p<e;p++){var q=this.preRenderedChunks[d%j][p%g],n=-a+p*this.chunkSize-m,t=-b+d*this.chunkSize-l;ig.system.context.drawImage(q,n,t);ig.Image.drawCount++;this.debugChunks&&(ig.system.context.strokeStyle=
"#f0f",ig.system.context.strokeRect(n,t,this.chunkSize,this.chunkSize));this.repeat&&(q.width<this.chunkSize&&n+q.width<ig.system.realWidth)&&(m=this.chunkSize-q.width,e++)}this.repeat&&(q.height<this.chunkSize&&t+q.height<ig.system.realHeight)&&(l=this.chunkSize-q.height,f++)}},drawTiled:function(){for(var a=0,b=null,c=(this.scroll.x/this.tilesize).toInt(),d=(this.scroll.y/this.tilesize).toInt(),e=this.scroll.x%this.tilesize,f=this.scroll.y%this.tilesize,g=-e-this.tilesize,e=ig.system.width+this.tilesize-
e,j=ig.system.height+this.tilesize-f,l=-1,f=-f-this.tilesize;f<j;l++,f+=this.tilesize){var m=l+d;if(m>=this.height||0>m){if(!this.repeat)continue;m=0<m?m%this.height:(m+1)%this.height+this.height-1}for(var p=-1,q=g;q<e;p++,q+=this.tilesize){a=p+c;if(a>=this.width||0>a){if(!this.repeat)continue;a=0<a?a%this.width:(a+1)%this.width+this.width-1}if(a=this.data[m][a])(b=this.anims[a-1])?b.draw(q,f):this.tiles.drawTile(q,f,a-1,this.tilesize)}}}})});ig.baked=!0;
ig.module("impact.game").requires("impact.impact","impact.entity","impact.collision-map","impact.background-map").defines(function(){ig.Game=ig.Class.extend({clearColor:"#000000",gravity:0,screen:{x:0,y:0},_rscreen:{x:0,y:0},entities:[],namedEntities:{},collisionMap:ig.CollisionMap.staticNoCollision,backgroundMaps:[],backgroundAnims:{},autoSort:!1,sortBy:null,cellSize:64,_deferredKill:[],_levelToLoad:null,_doSortEntities:!1,staticInstantiate:function(){this.sortBy=this.sortBy||ig.Game.SORT.Z_INDEX;
ig.game=this;return null},loadLevelWithoutEntities:function(a){this.screen={x:0,y:0};this.collisionMap=ig.CollisionMap.staticNoCollision;this.backgroundMaps=[];for(var b=0;b<a.layer.length;b++){var c=a.layer[b];if("collision"==c.name)this.collisionMap=new ig.CollisionMap(c.tilesize,c.data);else{var d=new ig.BackgroundMap(c.tilesize,c.data,c.tilesetName);d.anims=this.backgroundAnims[c.tilesetName]||{};d.repeat=c.repeat;d.distance=c.distance;d.foreground=!!c.foreground;d.preRender=!!c.preRender;d.name=
c.name;this.backgroundMaps.push(d)}}},loadLevel:function(a){this.screen={x:0,y:0};this.entities=[];this.namedEntities={};for(var b=0;b<a.entities.length;b++){var c=a.entities[b];this.spawnEntity(c.type,c.x,c.y,c.settings)}this.sortEntities();this.collisionMap=ig.CollisionMap.staticNoCollision;this.backgroundMaps=[];for(b=0;b<a.layer.length;b++)if(c=a.layer[b],"collision"==c.name)this.collisionMap=new ig.CollisionMap(c.tilesize,c.data);else{var d=new ig.BackgroundMap(c.tilesize,c.data,c.tilesetName);
d.anims=this.backgroundAnims[c.tilesetName]||{};d.repeat=c.repeat;d.distance=c.distance;d.foreground=!!c.foreground;d.preRender=!!c.preRender;d.name=c.name;this.backgroundMaps.push(d)}for(b=0;b<this.entities.length;b++)this.entities[b].ready()},loadLevelDeferred:function(a){this._levelToLoad=a},getMapByName:function(a){if("collision"==a)return this.collisionMap;for(var b=0;b<this.backgroundMaps.length;b++)if(this.backgroundMaps[b].name==a)return this.backgroundMaps[b];return null},getEntityByName:function(a){return this.namedEntities[a]},
getEntitiesByType:function(a){a="string"===typeof a?ig.global[a]:a;for(var b=[],c=0;c<this.entities.length;c++){var d=this.entities[c];d instanceof a&&!d._killed&&b.push(d)}return b},spawnEntity:function(a,b,c,d){var e="string"===typeof a?ig.global[a]:a;if(!e)throw"Can't spawn entity of type "+a;a=new e(b,c,d||{});this.entities.push(a);a.name&&(this.namedEntities[a.name]=a);return a},sortEntities:function(){this.entities.sort(this.sortBy)},sortEntitiesDeferred:function(){this._doSortEntities=!0},
removeEntity:function(a){a.name&&delete this.namedEntities[a.name];a._killed=!0;a.type=ig.Entity.TYPE.NONE;a.checkAgainst=ig.Entity.TYPE.NONE;a.collides=ig.Entity.COLLIDES.NEVER;this._deferredKill.push(a)},run:function(){this.update();this.draw()},update:function(){this._levelToLoad&&(this.loadLevel(this._levelToLoad),this._levelToLoad=null);if(this._doSortEntities||this.autoSort)this.sortEntities(),this._doSortEntities=!1;this.updateEntities();this.checkEntities();for(var a=0;a<this._deferredKill.length;a++)this.entities.erase(this._deferredKill[a]);
this._deferredKill=[];for(var b in this.backgroundAnims){var a=this.backgroundAnims[b],c;for(c in a)a[c].update()}},updateEntities:function(){for(var a=0;a<this.entities.length;a++){var b=this.entities[a];b._killed||b.update()}},draw:function(){this.clearColor&&ig.system.clear(this.clearColor);this._rscreen.x=ig.system.getDrawPos(this.screen.x)/ig.system.scale;this._rscreen.y=ig.system.getDrawPos(this.screen.y)/ig.system.scale;var a;for(a=0;a<this.backgroundMaps.length;a++){var b=this.backgroundMaps[a];
if(b.foreground)break;b.setScreenPos(this.screen.x,this.screen.y);b.draw()}this.drawEntities();for(a;a<this.backgroundMaps.length;a++)b=this.backgroundMaps[a],b.setScreenPos(this.screen.x,this.screen.y),b.draw()},drawEntities:function(){for(var a=0;a<this.entities.length;a++)this.entities[a].draw()},checkEntities:function(){for(var a={},b=0;b<this.entities.length;b++){var c=this.entities[b];if(!(c.type==ig.Entity.TYPE.NONE&&c.checkAgainst==ig.Entity.TYPE.NONE&&c.collides==ig.Entity.COLLIDES.NEVER))for(var d=
{},e=Math.floor(c.pos.y/this.cellSize),f=Math.floor((c.pos.x+c.size.x)/this.cellSize)+1,g=Math.floor((c.pos.y+c.size.y)/this.cellSize)+1,j=Math.floor(c.pos.x/this.cellSize);j<f;j++)for(var l=e;l<g;l++)if(a[j])if(a[j][l]){for(var m=a[j][l],p=0;p<m.length;p++)c.touches(m[p])&&!d[m[p].id]&&(d[m[p].id]=!0,ig.Entity.checkPair(c,m[p]));m.push(c)}else a[j][l]=[c];else a[j]={},a[j][l]=[c]}}});ig.Game.SORT={Z_INDEX:function(a,b){return a.zIndex-b.zIndex},POS_X:function(a,b){return a.pos.x+a.size.x-(b.pos.x+
b.size.x)},POS_Y:function(a,b){return a.pos.y+a.size.y-(b.pos.y+b.size.y)}}});ig.baked=!0;
ig.module("plugins.splash-loader").requires("impact.loader","impact.animation").defines(function(){ig.SplashLoader=ig.Loader.extend({splash:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/splash/cover.jpg"),loadingBar:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/splash/loading-bar.png"),init:function(a,b){this.parent(a,b);"undefined"!=typeof AdInGamePreroll&&AdInGamePreroll.Initialize();console.log("Checking for BrandingSplashScreen ...");"undefined"!=typeof BrandingSplashScreen&&InitializeSplashScreen();
console.log("Injecting Loading Game API ...");try{console.log('enabled loading api13');}catch(c){console.log(c.message)}},end:function(){this.parent();var a=0<=document.URL.indexOf("localhost")?500:3E3;window.setTimeout("ig.system.setGame(MyGame)",a)},setupCustomAnimation:function(){this.customAnim=new ig.Animation(this.customAnim,0.05,[0,1,2,3,4,5]);this.customAnim.currentFrame=0;ig.loadingScreen=this;ig.loadingScreen.animationTimer=window.setInterval("ig.loadingScreen.animate()",100)},animate:function(){this.customAnim.currentFrame<
this.customAnim.sequence.length?this.customAnim.currentFrame++:this.customAnim.currentFrame=0;this.customAnim.gotoFrame(this.customAnim.currentFrame)},draw:function(){this._drawStatus+=(this.status-this._drawStatus)/5;ig.system.context.fillStyle="#000";ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);var a=ig.system.scale;this.splash.draw(0,0);this.loadingBar.draw(145*a,570*a,0,0,189*a,31*a);this.loadingBar.draw(145*a,570*a,0,31*a,(3+186*this._drawStatus)*a,31*a)}})});ig.baked=!0;
ig.module("plugins.tween").requires("impact.entity").defines(function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;++b)if(this[b]===a)return b;return-1});ig.Entity.prototype.tweens=[];ig.Entity.prototype._preTweenUpdate=ig.Entity.prototype.update;ig.Entity.prototype.update=function(){this._preTweenUpdate();if(0<this.tweens.length){for(var a=[],b=0;b<this.tweens.length;b++)this.tweens[b].update(),this.tweens[b].complete||a.push(this.tweens[b]);this.tweens=
a}};ig.Entity.prototype.tween=function(a,b,c){a=new ig.Tween(this,a,b,c);this.tweens.push(a);return a};ig.Entity.prototype.pauseTweens=function(){for(var a=0;a<this.tweens.length;a++)this.tweens[a].pause()};ig.Entity.prototype.resumeTweens=function(){for(var a=0;a<this.tweens.length;a++)this.tweens[a].resume()};ig.Entity.prototype.stopTweens=function(a){for(var b=0;b<this.tweens.length;b++)this.tweens[b].stop(a)};ig.Tween=function(a,b,c,d){var e={},f={},g={},j=0,l=!1,m=!1,p=!1;this.duration=c;this.paused=
this.complete=!1;this.easing=ig.Tween.Easing.Linear.EaseNone;this.onComplete=!1;this.loop=this.delay=0;this.loopCount=-1;ig.merge(this,d);this.loopNum=this.loopCount;this.chain=function(a){p=a};this.initEnd=function(a,b,c){if("object"!==typeof b[a])c[a]=b[a];else for(subprop in b[a])c[a]||(c[a]={}),this.initEnd(subprop,b[a],c[a])};this.initStart=function(a,b,c,d){if("object"!==typeof c[a])"undefined"!==typeof b[a]&&(d[a]=c[a]);else for(subprop in c[a])d[a]||(d[a]={}),"undefined"!==typeof b[a]&&this.initStart(subprop,
b[a],c[a],d[a])};this.start=function(){this.paused=this.complete=!1;this.loopNum=this.loopCount;j=0;-1==a.tweens.indexOf(this)&&a.tweens.push(this);m=!0;l=new ig.Timer;for(var c in b)this.initEnd(c,b,f);for(c in f)this.initStart(c,f,a,e),this.initDelta(c,g,a,f)};this.initDelta=function(a,b,c,d){if("object"!==typeof d[a])b[a]=d[a]-c[a];else for(subprop in d[a])b[a]||(b[a]={}),this.initDelta(subprop,b[a],c[a],d[a])};this.propUpdate=function(a,b,c,d,e){if("object"!==typeof c[a])b[a]="undefined"!=typeof c[a]?
c[a]+d[a]*e:b[a];else for(subprop in c[a])this.propUpdate(subprop,b[a],c[a],d[a],e)};this.propSet=function(a,b,c){if("object"!==typeof b[a])c[a]=b[a];else for(subprop in b[a])c[a]||(c[a]={}),this.propSet(subprop,b[a],c[a])};this.update=function(){if(!m)return!1;if(this.delay){if(l.delta()<this.delay)return;this.delay=0;l.reset()}if(this.paused||this.complete)return!1;var b=(l.delta()+j)/this.duration,b=1<b?1:b,c=this.easing(b);for(property in g)this.propUpdate(property,a,e,g,c);if(1<=b){if(0==this.loopNum||
!this.loop){this.complete=!0;if(this.onComplete)this.onComplete();p&&p.start();return!1}if(this.loop==ig.Tween.Loop.Revert){for(property in e)this.propSet(property,e,a);j=0;l.reset();-1!=this.loopNum&&this.loopNum--}else if(this.loop==ig.Tween.Loop.Reverse){b={};c={};ig.merge(b,f);ig.merge(c,e);ig.merge(e,b);ig.merge(f,c);for(property in f)this.initDelta(property,g,a,f);j=0;l.reset();-1!=this.loopNum&&this.loopNum--}}};this.pause=function(){this.paused=!0;j+=l.delta()};this.resume=function(){this.paused=
!1;l.reset()};this.stop=function(a){a&&(this.loop=this.complete=this.paused=!1,j+=c,this.update());this.complete=!0}};ig.Tween.Loop={Revert:1,Reverse:2};ig.Tween.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};ig.Tween.Easing.Linear.EaseNone=function(a){return a};ig.Tween.Easing.Quadratic.EaseIn=function(a){return a*a};ig.Tween.Easing.Quadratic.EaseOut=function(a){return-a*(a-2)};ig.Tween.Easing.Quadratic.EaseInOut=
function(a){return 1>(a*=2)?0.5*a*a:-0.5*(--a*(a-2)-1)};ig.Tween.Easing.Cubic.EaseIn=function(a){return a*a*a};ig.Tween.Easing.Cubic.EaseOut=function(a){return--a*a*a+1};ig.Tween.Easing.Cubic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a:0.5*((a-=2)*a*a+2)};ig.Tween.Easing.Quartic.EaseIn=function(a){return a*a*a*a};ig.Tween.Easing.Quartic.EaseOut=function(a){return-(--a*a*a*a-1)};ig.Tween.Easing.Quartic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)};ig.Tween.Easing.Quintic.EaseIn=
function(a){return a*a*a*a*a};ig.Tween.Easing.Quintic.EaseOut=function(a){return(a-=1)*a*a*a*a+1};ig.Tween.Easing.Quintic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)};ig.Tween.Easing.Sinusoidal.EaseIn=function(a){return-Math.cos(a*Math.PI/2)+1};ig.Tween.Easing.Sinusoidal.EaseOut=function(a){return Math.sin(a*Math.PI/2)};ig.Tween.Easing.Sinusoidal.EaseInOut=function(a){return-0.5*(Math.cos(Math.PI*a)-1)};ig.Tween.Easing.Exponential.EaseIn=function(a){return 0==a?0:Math.pow(2,
10*(a-1))};ig.Tween.Easing.Exponential.EaseOut=function(a){return 1==a?1:-Math.pow(2,-10*a)+1};ig.Tween.Easing.Exponential.EaseInOut=function(a){return 0==a?0:1==a?1:1>(a*=2)?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2)};ig.Tween.Easing.Circular.EaseIn=function(a){return-(Math.sqrt(1-a*a)-1)};ig.Tween.Easing.Circular.EaseOut=function(a){return Math.sqrt(1- --a*a)};ig.Tween.Easing.Circular.EaseInOut=function(a){return 1>(a/=0.5)?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)};ig.Tween.Easing.Elastic.EaseIn=
function(a){var b,c=0.1,d=0.4;if(0==a)return 0;if(1==a)return 1;d||(d=0.3);!c||1>c?(c=1,b=d/4):b=d/(2*Math.PI)*Math.asin(1/c);return-(c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/d))};ig.Tween.Easing.Elastic.EaseOut=function(a){var b,c=0.1,d=0.4;if(0==a)return 0;if(1==a)return 1;d||(d=0.3);!c||1>c?(c=1,b=d/4):b=d/(2*Math.PI)*Math.asin(1/c);return c*Math.pow(2,-10*a)*Math.sin((a-b)*2*Math.PI/d)+1};ig.Tween.Easing.Elastic.EaseInOut=function(a){var b,c=0.1,d=0.4;if(0==a)return 0;if(1==a)return 1;
d||(d=0.3);!c||1>c?(c=1,b=d/4):b=d/(2*Math.PI)*Math.asin(1/c);return 1>(a*=2)?-0.5*c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/d):0.5*c*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*2*Math.PI/d)+1};ig.Tween.Easing.Back.EaseIn=function(a){return a*a*(2.70158*a-1.70158)};ig.Tween.Easing.Back.EaseOut=function(a){return(a-=1)*a*(2.70158*a+1.70158)+1};ig.Tween.Easing.Back.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*(3.5949095*a-2.5949095):0.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)};ig.Tween.Easing.Bounce.EaseIn=
function(a){return 1-ig.Tween.Easing.Bounce.EaseOut(1-a)};ig.Tween.Easing.Bounce.EaseOut=function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375};ig.Tween.Easing.Bounce.EaseInOut=function(a){return 0.5>a?0.5*ig.Tween.Easing.Bounce.EaseIn(2*a):0.5*ig.Tween.Easing.Bounce.EaseOut(2*a-1)+0.5}});ig.baked=!0;
ig.module("plugins.url-parameters").defines(function(){ig.UrlParameters=ig.Class.extend({init:function(){switch(getQueryVariable("iphone")){case "true":ig.ua.iPhone=!0,console.log("iPhone mode")}var a=getQueryVariable("webview");if(a)switch(a){case "true":ig.ua.is_uiwebview=!0,console.log("webview mode")}if(a=getQueryVariable("debug"))switch(a){case "true":ig.game.showDebugMenu(),console.log("debug mode")}switch(getQueryVariable("view")){case "stats":ig.game.resetPlayerStats(),ig.game.endGame()}getQueryVariable("ad")}})});
ig.baked=!0;ig.module("plugins.jukebox").defines(function(){ig.Jukebox=ig.Class.extend({init:function(){this.player=new jukebox.Player({resources:["http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/bgm.mp3","http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/bgm.ogg"],autoplay:!1,spritemap:{music:{start:0,end:44,loop:!0}}})}})});ig.baked=!0;
ig.module("plugins.director").requires("impact.impact").defines(function(){ig.Director=ig.Class.extend({init:function(a,b){this.game=a;this.levels=[];this.currentLevel=0;this.append(b)},loadLevel:function(a){for(key in dynamicClickableEntityDivs)ig.game.hideOverlay([key]);for(var b=document.getElementsByClassName("dummy-btn"),c=b.length;c--;)b[c].style.display="none";this.currentLevel=a;this.game.loadLevel(this.levels[a]);return!0},loadLevelWithoutEntities:function(a){this.currentLevel=a;this.game.loadLevelWithoutEntities(this.levels[a]);
return!0},append:function(a){newLevels=[];return"object"===typeof a?(a.constructor===[].constructor?newLevels=a:newLevels[0]=a,this.levels=this.levels.concat(newLevels),!0):!1},nextLevel:function(){if(this.currentLevel+1<this.levels.length){for(key in dynamicClickableEntityDivs)ig.game.hideOverlay([key]);return this.loadLevel(this.currentLevel+1)}return!1},previousLevel:function(){return 0<=this.currentLevel-1?this.loadLevel(this.currentLevel-1):!1},jumpTo:function(a){var b=null;for(i=0;i<this.levels.length;i++)this.levels[i]==
a&&(b=i);return 0<=b?this.loadLevel(b):!1},firstLevel:function(){return this.loadLevel(0)},lastLevel:function(){return this.loadLevel(this.levels.length-1)},reloadLevel:function(){return this.loadLevel(this.currentLevel)}})});ig.baked=!0;
ig.module("plugins.impact-storage").requires("impact.game").defines(function(){ig.Storage=ig.Class.extend({staticInstantiate:function(){return!ig.Storage.instance?null:ig.Storage.instance},init:function(){ig.Storage.instance=this},isCapable:function(){return"undefined"!==typeof window.localStorage},isSet:function(a){return null!==this.get(a)},initUnset:function(a,b){null===this.get(a)&&this.set(a,b)},get:function(a){if(!this.isCapable())return null;try{return JSON.parse(localStorage.getItem(a))}catch(b){return window.localStorage.getItem(a)}},
getInt:function(a){return~~this.get(a)},getFloat:function(a){return parseFloat(this.get(a))},getBool:function(a){return!!this.get(a)},key:function(a){return this.isCapable()?window.localStorage.key(a):null},set:function(a,b){if(!this.isCapable())return null;try{window.localStorage.setItem(a,JSON.stringify(b))}catch(c){c==QUOTA_EXCEEDED_ERR&&console.log("localStorage quota exceeded")}},setHighest:function(a,b){b>this.getFloat(a)&&this.set(a,b)},remove:function(a){if(!this.isCapable())return null;window.localStorage.removeItem(a)},
clear:function(){if(!this.isCapable())return null;window.localStorage.clear()}})});ig.baked=!0;
ig.module("plugins.customer-settings").requires("impact.animation").defines(function(){ig.CustomerSettings=ig.Class.extend({settings:[{animSheetOrder:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/customer0-order.png",130,186),animSheetEat:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/customer0-eat.png",130,187),animSheetFail:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/customer0-fail.png",177,180),animOffsetOrder:{x:66,y:178},animOffsetEat:{x:66,
y:178},animOffsetFail:{x:90,y:172},attack:10,animFade:{duration:1,frames:[0]},animOrder:{duration:0.18,frames:[0,0,1,0,1,0]},animEatIdle:{duration:1,frames:[1]},animEat:{duration:0.3,frames:[0,1]},animFail:{duration:0.2,frames:[0,1]}},{animSheetOrder:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/customer1-order.png",162,196),animSheetEat:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/customer1-eat.png",184,195),animSheetFail:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/customer1-fail.png",
171,196),animOffsetOrder:{x:56,y:183},animOffsetEat:{x:78,y:183},animOffsetFail:{x:63,y:183},attack:15,animFade:{duration:1,frames:[0]},animOrder:{duration:0.18,frames:[0,1]},animEatIdle:{duration:1,frames:[0]},animEat:{duration:0.3,frames:[0,1]},animFail:{duration:0.15,frames:[0,1]}},{animSheetOrder:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/customer2-order.png",128,193),animSheetEat:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/customer2-eat.png",
159,192),animSheetFail:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/customer2-fail.png",168,194),animOffsetOrder:{x:59,y:180},animOffsetEat:{x:77,y:180},animOffsetFail:{x:77,y:180},attack:15,animFade:{duration:1,frames:[0]},animOrder:{duration:0.18,frames:[0,1]},animEatIdle:{duration:1,frames:[1]},animEat:{duration:0.3,frames:[0,1]},animFail:{duration:0.13,frames:[0,1]}},{animSheetOrder:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/customer3-order.png",
195,191),animSheetEat:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/customer3-eat.png",194,170),animSheetClear:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/customer3-clear.png",273,176),animSheetFail:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/customer3-fail.png",192,181),animOffsetOrder:{x:103,y:169},animOffsetEat:{x:103,y:161},animOffsetClear:{x:141,y:162},animOffsetFail:{x:101,y:171},attack:30,animFade:{duration:1,frames:[0]},
animOrder:{duration:0.15,frames:[0,1,0,1,1]},animEatIdle:{duration:1,frames:[2]},animEat:{duration:0.18,frames:[0,1,2,1]},animClearStage:{duration:0.15,frames:[0,1,2,3]},animFail:{duration:0.13,frames:[0,1]}}],init:function(){}})});ig.baked=!0;
ig.module("game.entities.opening").requires("impact.entity").defines(function(){EntityOpening=ig.Entity.extend({size:{x:48,y:48},kittyAnim:-1,kittyImage:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/opening/kitty.png"),kittyTitleImage:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/opening/kittytitle.png"),init:function(a,b,c){this.parent(a,b,c)},ready:function(){if(!ig.wm)if(_SETTINGS.DeveloperBranding.Splash.Enabled){this.initTimer=new ig.Timer(0.1);try{ig.game.openingSound.play()}catch(a){console.log(a)}}else ig.game.director.nextLevel(),
ig.system.context.globalAlpha=1,this.kill()},update:function(){this.parent();this.updateKittyOpening()},draw:function(){this.parent();ig.global.wm||(this.nextLevelTimer&&0>this.nextLevelTimer.delta()&&(ig.system.context.globalAlpha=-this.nextLevelTimer.delta()),this.drawKittyOpening())},updateKittyOpening:function(){this.initTimer&&0<this.initTimer.delta()&&(this.initTimer=null,this.kittyTimer=new ig.Timer(0.15));this.kittyTimer&&0<this.kittyTimer.delta()&&(7>this.kittyAnim?(this.kittyAnim++,this.kittyTimer.reset()):
(this.kittyTimer=null,this.nextLevelTimer=new ig.Timer(2)));this.nextLevelTimer&&0<this.nextLevelTimer.delta()&&(this.nextLevelTimer=null,ig.game.director.nextLevel(),ig.game.playBackgroundMusic(),ig.system.context.globalAlpha=1)},drawKittyOpening:function(){var a=ig.system.context.createLinearGradient(0,0,0,ig.system.height);a.addColorStop(0,"#ffed94");a.addColorStop(1,"#ffcd85");ig.system.context.fillStyle=a;ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);this.kittyImage.drawTile(ig.system.width/
2-this.kittyImage.width/8,ig.system.height/2-this.kittyImage.height/4,this.kittyAnim,218,325);this.kittyTitleImage.drawTile(ig.system.width/2-this.kittyTitleImage.width/2,ig.system.height/2+this.kittyImage.height/4+10,this.kittyAnim,380,37);ig.system.context.globalAlpha=1}})});ig.baked=!0;
ig.module("game.entities.pointer").requires("impact.entity").defines(function(){EntityPointer=ig.Entity.extend({type:ig.Entity.TYPE.A,checkAgainst:ig.Entity.TYPE.B,isClicking:!1,selectedItem:null,check:function(a){this.isClicking&&"function"==typeof a.clicked&&(a.clicked(),"function"===typeof a.released&&(this.selectedItem=a));"function"==typeof a.hovered&&a.hovered()},update:function(){if(ig.ua.mobile){var a=window.innerHeight/mobileHeight;this.pos.x=ig.input.mouse.x/(window.innerWidth/mobileWidth)-
this.size.x/2+ig.game.screen.x;this.pos.y=ig.input.mouse.y/a-this.size.y/2}else this.pos.x=ig.input.mouse.x/multiplier-this.size.x/2+ig.game.screen.x,this.pos.y=ig.input.mouse.y/multiplier-this.size.y/2;this.isClicking=ig.input.pressed("click");ig.input.released("click")&&this.selectedItem&&this.selectedItem.released()}})});ig.baked=!0;
ig.module("game.entities.pointer-selector").requires("game.entities.pointer").defines(function(){EntityPointerSelector=EntityPointer.extend({zIndex:1E3,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},init:function(a,b,c){this.parent(a,b,c)}})});ig.baked=!0;
ig.module("game.entities.select").requires("impact.entity").defines(function(){EntitySelect=ig.Entity.extend({type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,canSelect:!1,canSelectTimerDuration:0.35,zIndex:99999,isHovering:!1,isSelected:!1,init:function(a,b,c){this.parent(a,b,c);this.canSelectTimer=new ig.Timer(this.canSelectTimerDuration)},doesClickableLayerExist:function(a){for(k in dynamicClickableEntityDivs)if(k==a)return!0;return!1},checkClickableLayer:function(a,
b,c){"undefined"==typeof wm&&(this.doesClickableLayerExist(a)?(ig.game.showOverlay([a]),$("#"+a).find("[href]").attr("href",b)):this.createClickableOutboundLayer(a,b,"../cdn.marketjs.net/games/sushi-challenge/localization/en/media/misc/invisible.html",c))},createClickableOutboundLayer:function(a,b,c,d){var e=ig.$new("div");e.id=a;document.body.appendChild(e);$("#"+e.id).css("float","left");$("#"+e.id).css("width",this.size.x*multiplier);$("#"+e.id).css("height",this.size.y*multiplier);$("#"+e.id).css("position","absolute");var f=w/
2-destW/2,g=h/2-destH/2;w==mobileWidth?($("#"+e.id).css("left",this.pos.x),$("#"+e.id).css("top",this.pos.y)):($("#"+e.id).css("left",f+this.pos.x*multiplier),$("#"+e.id).css("top",g+this.pos.y*multiplier));d?$("#"+e.id).html("<a target='_blank' href='"+b+"'><img style='width:100%;height:100%' src='"+c+"'></a>"):$("#"+e.id).html("<a href='"+b+"'><img style='width:100%;height:100%' src='"+c+"'></a>");dynamicClickableEntityDivs[a]={};dynamicClickableEntityDivs[a].width=$("#"+e.id).width();dynamicClickableEntityDivs[a].height=
$("#"+e.id).height();dynamicClickableEntityDivs[a].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[a].entity_pos_y=this.pos.y},hovered:function(){this.isHovering=!0;this.dehoverOthers()},dehoverOthers:function(){var a=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<a.length;i++)a[i]!=this&&(a[i].isHovering=!1)},deselectOthers:function(){var a=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<a.length;i++)a[i]!=this&&(a[i].isSelected=!1)},update:function(){this.parent();this.canSelectTimer&&0<
this.canSelectTimer.delta()&&(this.canSelect=!0,this.canSelectTimer=null)}})});ig.baked=!0;
ig.module("game.entities.brain-tutorial").requires("impact.entity").defines(function(){EntityBrainTutorial=ig.Entity.extend({titleImg:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/tutorial_title.png"),pages:[{x:0,doDraw:!0,img:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/tutorial1.jpg")},{x:0,doDraw:!1,img:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/tutorial2.jpg")},{x:0,doDraw:!1,img:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/tutorial3.jpg")}],
currentIndex:0,previousIndex:0,flipTimer:null,flipDirection:1,init:function(a,b,c){this.parent(a,b,c);"undefined"===typeof wm&&(ig.game.spawnEntity(EntityButtonArrow,0,0,{size:{x:55,y:55},clickedAction:this.prevPage}),ig.game.spawnEntity(EntityButtonArrow,ig.system.width-55,0,{size:{x:55,y:55},clickedAction:this.nextPage,isFlipped:!0}),ig.game.spawnEntity(EntityButtonBack,ig.system.width+100,0))},flipPage:function(){this.flipTimer=new ig.Timer(0.3);var a=ig.game.getEntitiesByType(EntityButtonBack);
a&&(this.currentIndex===this.pages.length-1?a[0].tween({pos:{x:ig.system.width-a[0].size.x-10}},0.3).start():this.previousIndex===this.pages.length-1&&a[0].tween({pos:{x:ig.system.width+20}},0.3).start())},nextPage:function(){var a=ig.game.getEntitiesByType(EntityBrainTutorial)[0];a.flipTimer||(a.flipDirection=1,a.previousIndex=a.currentIndex,a.currentIndex=(a.currentIndex+1)%a.pages.length,a.pages[a.currentIndex].x=ig.system.width,a.pages[a.currentIndex].doDraw=!0,a.flipPage())},prevPage:function(){var a=
ig.game.getEntitiesByType(EntityBrainTutorial)[0];a.isFlipping||(a.flipDirection=-1,a.previousIndex=a.currentIndex,a.currentIndex=(a.currentIndex+a.pages.length-1)%a.pages.length,a.pages[a.currentIndex].x=-ig.system.width,a.pages[a.currentIndex].doDraw=!0,a.flipPage())},update:function(){this.parent();if(this.flipTimer){var a=this.flipTimer.delta(),b=this.previousIndex;0<a?(this.flipTimer=null,this.pages[b].doDraw=!1,this.pages[this.currentIndex].x=0):(a=a/this.flipTimer.target*ig.system.width,0<
this.flipDirection?(this.pages[b].x=-ig.system.width-a,this.pages[this.currentIndex].x=-a):(this.pages[b].x=ig.system.width+a,this.pages[this.currentIndex].x=a))}},draw:function(){this.parent();this.pages[this.previousIndex].doDraw&&this.pages[this.previousIndex].img.draw(this.pages[this.previousIndex].x,0);this.pages[this.currentIndex].img.draw(this.pages[this.currentIndex].x,0);this.titleImg.draw(120,13);for(var a=this.pages.length,b=ig.system.width/2+18*(a-1)/2;a--;)ig.system.context.fillStyle=
"rgba(255,255,255,"+(a===this.currentIndex?0.9:0.5)+")",ig.system.context.beginPath(),ig.system.context.arc(b,55,3,0,2*Math.PI),ig.system.context.fill(),b-=18}})});ig.baked=!0;
ig.module("game.entities.button-arrow").requires("impact.entity").defines(function(){EntityButtonArrow=ig.Entity.extend({type:ig.Entity.TYPE.B,size:{x:49,y:49},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/arrow.png",45,39),isClicked:!1,isClickedTimerDuration:0.15,alphaFade:0.5,zIndex:50,init:function(a,b,c){this.parent(a,b,c);this.offset.x=(this.animSheet.width-this.size.x)/2;this.offset.y=(this.animSheet.height-this.size.y)/2;this.addAnim("idle",1,[0],!0);this.currentAnim=
this.anims.idle;this.isFlipped&&(this.currentAnim.flip.x=!0)},clicked:function(){this.isClicked||(this.currentAnim.alpha=this.alphaFade,this.clickedTimer=new ig.Timer(this.isClickedTimerDuration),this.isClicked=!0)},draw:function(){this.parent();this.clickedTimer&&0<this.clickedTimer.delta()&&("function"===typeof this.clickedAction&&this.clickedAction(),this.clickedTimer=null,this.isClicked=!1,this.currentAnim.alpha=1)}})});ig.baked=!0;
ig.module("game.entities.brain").requires("impact.entity").defines(function(){this.START_WHITELABEL_ENCAPSULATOR;Q3JJ.b2=1;Q3JJ.H2="1";Q3JJ.Y2=8;Q3JJ.L2=4;Q3JJ.p2="3";Q3JJ.A2="400";Q3JJ.D2="91";Q3JJ.U2='../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/happiness-icon.png';Q3JJ.o2='http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/attacked.*';Q3JJ.u1='#f00';Q3JJ.Z2="4";Q3JJ.v2=5;Q3JJ.r2=2;Q3JJ.u2=function (){return typeof Q3JJ.s8.e8==='function'?Q3JJ.s8.e8.apply(Q3JJ.s8,arguments):Q3JJ.s8.e8;};Q3JJ.B2="110";Q3JJ.g2="245";Q3JJ.Q2="420";Q3JJ.a2="9";Q3JJ.S2='rgba(255, 0, 0, 0.5)';Q3JJ.G1='';Q3JJ.F2="217";Q3JJ.e2="70";Q3JJ.R2="6";function Q3JJ(){}Q3JJ.f2=true;Q3JJ.I2="46";Q3JJ.s8=function(o8){return{T8:function(){var d8,V8=arguments;switch(o8){case 0:d8=V8[0]*V8[1];break;case 1:d8=V8[0]-V8[1];break;case 3:d8=V8[1]-V8[2]*V8[0];break;case 8:d8=V8[5]+V8[1]+V8[6]+V8[3]+V8[4]+V8[2]+V8[0]+V8[7]+V8[8];break;case 10:d8=V8[2]+(V8[1]-V8[0]);break;case 6:d8=(V8[0]-V8[1])*V8[2];break;case 2:d8=V8[0]|V8[1];break;case 7:d8=V8[2]-V8[1]+V8[0];break;case 9:d8=V8[0]*V8[4]*V8[2]-V8[3]+V8[1];break;case 5:d8=(V8[2]+V8[1])*+V8[0];break;case 4:d8=(V8[3]+V8[0]*V8[2])*(V8[1]*V8[4]);break;}return d8;},e8:function(k8){o8=k8;}};}();Q3JJ.l2=null;Q3JJ.C2=0;Q3JJ.n2='brain';Q3JJ.m8=function (){return typeof Q3JJ.s8.T8==='function'?Q3JJ.s8.T8.apply(Q3JJ.s8,arguments):Q3JJ.s8.T8;};Q3JJ.s2="0";Q3JJ.q1="0.2";Q3JJ.m2="2";Q3JJ.H8=function (){return typeof Q3JJ.s8.T8==='function'?Q3JJ.s8.T8.apply(Q3JJ.s8,arguments):Q3JJ.s8.T8;};Q3JJ.P2=100;Q3JJ.t2='../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/happiness-star.png';Q3JJ.d2='http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/fail.*';Q3JJ.X2="1000";Q3JJ.Y1="32";Q3JJ.x2=16;Q3JJ.J2=10;Q3JJ.M2=false;Q3JJ.Z8=function (){return typeof Q3JJ.s8.e8==='function'?Q3JJ.s8.e8.apply(Q3JJ.s8,arguments):Q3JJ.s8.e8;};Q3JJ.z2="20";Q3JJ.V2='http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/thankyou.*';Q3JJ.j2="79";Q3JJ.T2='../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/happiness-steam.png';Q3JJ.v1="0.5";Q3JJ.O2=58;Q3JJ.G2=6;Q3JJ.W2="5";EntityBrain=ig.Entity.extend({size:{x:+Q3JJ.z2,y:Q3JJ.z2-Q3JJ.C2},_wmScalable:Q3JJ.f2,_wmDrawBox:Q3JJ.f2,_wmBoxColor:Q3JJ.S2,name:Q3JJ.n2,gridPos:{x:Q3JJ.p2-Q3JJ.C2,y:Q3JJ.g2|Q3JJ.C2},gridSize:{x:Q3JJ.R2-Q3JJ.C2,y:+Q3JJ.W2},tileSize:{x:+Q3JJ.j2,y:+Q3JJ.j2},isFinishedChecking:Q3JJ.f2,doDrawOverlay:Q3JJ.M2,serveOrder:[],happinessPos:{x:+Q3JJ.I2,y:Q3JJ.F2|Q3JJ.C2},happinessSize:{x:Q3JJ.Q2|Q3JJ.C2,y:+Q3JJ.a2},happinessMaxLevel:Q3JJ.X2-Q3JJ.C2,happinessLevel:+Q3JJ.A2,happinessLevelStart:Q3JJ.A2*Q3JJ.b2,happinessLevelOffset:Q3JJ.l2,happinessImg:new ig.Image(Q3JJ.U2),happinessStar:new ig.Image(Q3JJ.t2),happinessStarSize:{x:Q3JJ.B2*Q3JJ.b2,y:Q3JJ.D2*Q3JJ.b2},happinessSteam:new ig.Image(Q3JJ.T2),happinessSteamSize:{x:Q3JJ.e2|Q3JJ.C2,y:Q3JJ.O2},happinessEffectTimer:Q3JJ.l2,attack:Q3JJ.P2,soundAttacked:new ig.Sound(Q3JJ.o2),soundClear:new ig.Sound(Q3JJ.V2),soundFail:new ig.Sound(Q3JJ.d2),init:function(Q,s,W){var L0=Q3JJ;var C1='#fffc06';var k2='undefined';this.parent(Q,s,W);if(typeof wm===k2){L0.Z8(L0.C2);this.pieces=[L0.m8(L0.s2,L0.b2),+L0.H2,+L0.m2,+L0.p2,L0.H8(L0.Z2,L0.b2),L0.v2];this.gradHappiness=ig.system.context.createLinearGradient(this.happinessPos.x,this.happinessPos.y,this.happinessSize.x,this.happinessPos.y);this.gradHappiness.addColorStop(L0.C2,L0.u1);this.gradHappiness.addColorStop(L0.b2,C1);}},startGame:function(){var q0=Q3JJ;var r1="179";var b1="240";q0.Z8(q0.b2);ig.game.spawnEntity(EntityCustomer,q0.H8(b1,q0.C2),q0.H8(r1,q0.C2));this.spawnGrid();this.gameTimer=new ig.Timer();q0.u2(q0.C2);this.gameTimerTime=q0.H8(q0.s2,q0.b2);q0.u2(q0.C2);this.happinessEffectTimer=q0.m8(q0.s2,q0.b2);},resumeGame:function(){if(this.gameTimer){this.pauseGame();}},pauseGame:function(){var r0=Q3JJ;if(this.gameTimer&&this.gameTimer.pausedAt===+r0.s2){this.gameTimer.pause();r0.u2(r0.r2);ig.game.spawnEntity(EntityPauseMenu,r0.C2,r0.m8(r0.s2,r0.C2));}},unpauseGame:function(){var t;t=ig.game.getEntitiesByType(EntityPauseMenu);if(t.length>Q3JJ.C2){t[Q3JJ.C2].kill();}this.gameTimer.unpause();},spawnGrid:function(){var C0=Q3JJ;var l;this.grid=[];for(var K=+C0.s2;K<this.gridSize.y;K++){this.grid[K]=[];for(var D=C0.C2;D<this.gridSize.x;D++){l=Math.floor(Math.random()*this.pieces.length);while(C0.f2){if(D>(C0.H2|C0.C2)&&this.grid[K][D-(C0.H2-C0.C2)].piece===l&&this.grid[K][D-+C0.m2].piece===l||K>+C0.H2&&this.grid[K-+C0.H2][D].piece===l&&this.grid[K-C0.r2][D].piece===l){l=(l+C0.H2*C0.b2)%this.pieces.length;}else{break;}}this.grid[K][D]=ig.game.spawnEntity(EntityPiece,D*this.tileSize.x+this.gridPos.x,K*this.tileSize.y+this.gridPos.y,{size:this.tileSize,gridCoords:{x:D,y:K},piece:l});}}},checkTilePos:function(Z){var G,O,z,L;G=Math.round((Z.pos.x-Z.posOffset-this.gridPos.x)/this.tileSize.x);O=Math.round((Z.pos.y-Z.posOffset-this.gridPos.y)/this.tileSize.y);z=Z.gridCoords.x;L=Z.gridCoords.y;if(G===z&&O===L){}else{this.grid[L][z]=this.grid[O][G];this.grid[L][z].gridCoords={x:z,y:L};this.grid[L][z].tween({pos:{x:z*this.tileSize.x+this.gridPos.x+Z.posOffset,y:L*this.tileSize.y+this.gridPos.y+Z.posOffset}},Q3JJ.q1*Q3JJ.b2).start();Z.gridCoords={x:G,y:O};Z.isUpdated=Q3JJ.f2;this.grid[O][G]=Z;}},spawnPieces:function(){var Z1=Q3JJ;var q2=3;var U,A,m,e;this.dropCount=+Z1.s2;U=this.gridSize.x;while(U--){A=+Z1.H2;m=this.gridSize.y;while(m--){if(this.grid[m][U]===Z1.l2){Z1.u2(q2);e=Z1.H8(Z1.b2,m,Z1.H2);while(e>-+Z1.H2&&this.grid[e][U]===Z1.l2){e--;}if(e===-(Z1.H2*Z1.b2)){ig.game.spawnEntity(EntityPiece,U*this.tileSize.x+this.gridPos.x,-A++*this.tileSize.y+this.gridPos.y,{size:this.tileSize,gridCoords:{x:U,y:m},isNewPiece:Z1.f2,doDrop:Z1.f2,piece:Math.floor(Math.random()*this.pieces.length)});}else{this.grid[e][U].gridCoords.y=m;this.grid[e][U].doDrop=Z1.f2;this.grid[e][U]=Z1.l2;}this.dropCount++;}}}ig.game.sortEntitiesDeferred();},endCheck:function(r){var m1=Q3JJ;var L1="0.365";var T,C,E,V;this.matchTimer=m1.l2;if(r===m1.s2-m1.C2){this.setDrawOverlay(m1.f2);T=ig.game.getEntitiesByType(EntityCustomer)[m1.C2];C=ig.game.getEntitiesByType(EntityTextCombo);if(this.serveOrder.length===m1.C2){this.setAttackUser();E=C.length;while(E--){C[E].kill();}this.comboTimer=m1.l2;}else{C.sort(function(B,M){return B.combo-M.combo;});C.shift().kill();E=C.length;V=+m1.s2;m1.u2(m1.L2);ig.game.getEntitiesByType(EntityTextAttack)[m1.s2-m1.C2].attackTimer=new ig.Timer(m1.m8(m1.m2,L1,m1.b2,E,m1.b2));while(E--){m1.Z8(m1.v2);C[E].killTimer=new ig.Timer(m1.m8(L1,m1.r2,E));}}this.isFinishedChecking=m1.f2;}else{m1.Z8(m1.G2);this.matchTimer=new ig.Timer(m1.H8(m1.v1,m1.C2,r));this.spawnPieces();}},findMatch:function(X){var H1=Q3JJ;var Y,P,F,S,c,J,v,H;Y=this.checkIndex.x;P=this.checkIndex.y;if(this.grid[P][Y]&&this.grid[P][Y].isMatched===H1.f2){F=this.grid[P][Y].piece;S=ig.game.getEntitiesByType(EntityCustomer)[H1.s2-H1.C2].order;c=S.length;while(c--){if(S[c]===F){v=this.serveOrder.length;while(v--){if(this.serveOrder[v]===S[c]){break;}}if(v===-+H1.H2){this.serveOrder.push(S[c]);}J=H1.f2;break;}}H=this.findMatchGroup(X,Y,P,J);if(J){H1.Z8(H1.b2);var n3=H1.H8(H1.J2,H1.G2);this.grid[P][Y].attackValue=this.attack+this.attack*(H.length-+H1.p2)/n3;}this.checkCombo(X,Y,P,H);}else{this.findNextMatch(X);}},findNextMatch:function(q){var s1=Q3JJ;if(++this.checkIndex.x===this.gridSize.x){s1.Z8(s1.b2);this.checkIndex.x=s1.m8(s1.s2,s1.C2);this.checkIndex.y++;}if(this.checkIndex.y===this.gridSize.y){this.endCheck(q);}else{this.findMatch(q);}},checkCombo:function(R,w,N,n){var k1=Q3JJ;var i1='Combo ';var d,u,g,o,h;d=w;u=w;g=N;o=N;h=n.length;while(h--){if(n[h].x>u){u=n[h].x;}else if(n[h].x<d){d=n[h].x;}if(n[h].y>o){o=n[h].y;}else if(n[h].y<g){g=n[h].y;}this.grid[n[h].y][n[h].x]=k1.l2;}if(this.comboTimer){}else{this.comboTimer=new ig.Timer();}ig.game.spawnEntity(EntityTextCombo,this.gridPos.x+((u-d)/+k1.m2+d)*this.tileSize.x+this.tileSize.x/(k1.m2-k1.C2),this.gridPos.y+((o-g)/+k1.m2+g)*this.tileSize.y+this.tileSize.y/+k1.m2,{combo:++this.matchCombo,drawTimer:new ig.Timer(+k1.v1+R*(k1.v1-k1.C2)-this.matchTimer.delta()),useLanguageFile:k1.M2,text:this.matchCombo===+k1.H2?k1.G1:i1+this.matchCombo,fontSize:k1.z2|k1.C2});R++;this.findNextMatch(R);},findMatchGroup:function(Q3,f,I,s3){var d1=Q3JJ;var p,W3;p=[{x:f,y:I}];this.grid[I][f].doSparkle=s3;this.grid[I][f].isMatched=d1.M2;this.grid[I][f].killTimer=new ig.Timer(+d1.v1+Q3*(d1.v1-d1.C2)-this.matchTimer.delta());W3=this.grid[I][f].piece;if(I+d1.b2<this.gridSize.y&&this.grid[I+(d1.H2-d1.C2)][f]&&this.grid[I+d1.b2][f].piece===W3&&this.grid[I+ +d1.H2][f].isMatched){p=p.concat(this.findMatchGroup(Q3,f,I+(d1.H2|d1.C2),s3));}if(I>d1.C2&&this.grid[I-+d1.H2][f]&&this.grid[I-(d1.H2-d1.C2)][f].piece===W3&&this.grid[I-+d1.H2][f].isMatched){p=p.concat(this.findMatchGroup(Q3,f,I-(d1.H2-d1.C2),s3));}if(f+ +d1.H2<this.gridSize.x&&this.grid[I][f+(d1.H2|d1.C2)]&&this.grid[I][f+(d1.H2-d1.C2)].piece===W3&&this.grid[I][f+(d1.H2-d1.C2)].isMatched){p=p.concat(this.findMatchGroup(Q3,f+(d1.H2-d1.C2),I,s3));}if(f>d1.s2-d1.C2&&this.grid[I][f-(d1.H2|d1.C2)]&&this.grid[I][f-(d1.H2-d1.C2)].piece===W3&&this.grid[I][f-+d1.H2].isMatched){p=p.concat(this.findMatchGroup(Q3,f-(d1.H2-d1.C2),I,s3));}return p;},makeMove:function(){var Q1=Q3JJ;var t3,K3,k3,D3;t3=this.gridSize.y;while(t3--){K3=this.gridSize.x;while(K3--){k3=this.grid[t3][K3].piece;if(K3>+Q1.H2&&this.grid[t3][K3-Q1.b2].piece===k3&&this.grid[t3][K3-Q1.r2].piece===k3){this.grid[t3][K3-Q1.r2].isMatched=Q1.f2;this.grid[t3][K3-(Q1.H2|Q1.C2)].isMatched=Q1.f2;this.grid[t3][K3].isMatched=Q1.f2;}if(t3>+Q1.H2&&this.grid[t3-(Q1.H2-Q1.C2)][K3].piece===k3&&this.grid[t3-Q1.r2][K3].piece===k3){this.grid[t3-Q1.m2*Q1.b2][K3].isMatched=Q1.f2;this.grid[t3-Q1.b2][K3].isMatched=Q1.f2;this.grid[t3][K3].isMatched=Q1.f2;}}}D3=+Q1.s2;this.matchTimer=new ig.Timer();this.checkIndex={x:Q1.C2,y:Q1.s2-Q1.C2};this.findMatch(D3);},startMakeMove:function(){this.isFinishedChecking=Q3JJ.M2;this.matchCombo=+Q3JJ.s2;this.makeMove();this.gameTimer.pause();},switchCustomer:function(Z3){var l3;l3=ig.game.getEntitiesByType(EntityCustomer)[Q3JJ.C2];l3.fadeOut();ig.game.spawnEntity(EntityCustomer,l3.pos.x,l3.pos.y,{customerIndex:Z3});},setAttackUser:function(){var T1=Q3JJ;var z3;z3=ig.game.getEntitiesByType(EntityCustomer)[T1.m8(T1.s2,T1.C2,T1.u2(T1.r2))];z3.wrongOrder();this.happinessLevelOffset={offset:z3.settings.attack,timer:new ig.Timer(),mult:-(T1.H2|T1.C2),speed:z3.settings.attack};ig.game.spawnEntity(EntityTextAttack,ig.system.width/+T1.m2,this.happinessPos.y+this.happinessSize.y/(T1.m2|T1.C2),{text:-z3.settings.attack,drawTimer:new ig.Timer(T1.q1*T1.b2),fontColor:T1.u1,useLanguageFile:T1.M2,fontSize:T1.Y1|T1.C2});try{ig.game.attackedSound.play();}catch(L3){this.soundAttacked.play();}},setAttack:function(O3){var D1=Q3JJ;var h1='#0c9';var G3;G3=ig.game.getEntitiesByType(EntityTextAttack);if(G3.length===(D1.s2|D1.C2)){G3=ig.game.spawnEntity(EntityTextAttack,ig.system.width/(D1.m2*D1.b2),this.happinessPos.y+this.happinessSize.y/D1.r2,{text:O3,drawTimer:new ig.Timer(D1.q1*D1.b2),fontColor:h1,useLanguageFile:D1.M2,fontSize:D1.Y1*D1.b2});}else{G3[D1.C2].bounceUp();G3[+D1.s2].text+=O3;}},killHappinessLevelOffset:function(){var B1=Q3JJ;var U3;U3=ig.game.getEntitiesByType(EntityCustomer)[+B1.s2];if(this.happinessLevelOffset.mult===-+B1.H2){ig.game.getEntitiesByType(EntityCustomer)[B1.s2*B1.b2].makeOrder();}this.happinessLevelOffset=B1.l2;ig.game.getEntitiesByType(EntityTextAttack)[+B1.s2].kill();},setDrawOverlay:function(e3){var J1="0.25";this.doDrawOverlay=e3;this.overlayTimer=new ig.Timer(+J1);},updateCheckHappiness:function(){var t1=Q3JJ;var x1="0.3";var E2=1000;var m3,A3;if(this.happinessLevel===t1.s2-t1.C2){this.gameTimer=t1.l2;m3=ig.game.getEntitiesByType(EntityCustomer)[t1.H8(t1.s2,t1.C2,t1.Z8(t1.b2))];if(m3.currentAnim===m3.anims.fail){}else{this.zIndex=E2;m3.setFailAnim();try{ig.game.failSound.play();}catch(E3){this.soundFail.play();}ig.game.sortEntitiesDeferred();}}else if(this.happinessLevel===this.happinessMaxLevel){A3=ig.game.getEntitiesByType(EntityCustomer);if(A3.length>+t1.H2){return;}m3=A3[t1.C2];if(m3.customerIndex===ig.game.customers.settings.length-+t1.H2&&m3.serveTimer===t1.l2&&m3.eatTimer===t1.l2){if(m3.currentAnim===m3.anims.clearStage){}else{this.gameTimer=t1.l2;t1.u2(t1.C2);ig.music.volume=t1.m8(x1,t1.b2);this.zIndex=+t1.X2;this.winSpinTimer=new ig.Timer();m3.setClearAnim();try{ig.game.thankyouSound.play();}catch(C3){this.soundClear.play();}ig.game.sortEntitiesDeferred();}}else if(m3.serveTimer===t1.l2&&m3.eatTimer===t1.l2){this.switchCustomer(m3.customerIndex+ +t1.H2);this.happinessLevel=this.happinessLevelStart;}}},drawHappiness:function(){var U1=Q3JJ;var w1="1.2";var E1="160";var c1="25";var y1="1.6";var P1='number';var O1="33";var K1="206";var N1="8";var y2=160;var r3,j3,T3;if(this.happinessLevelOffset){r3=this.happinessLevelOffset.timer.delta()*this.happinessLevelOffset.speed;if(r3>this.happinessLevelOffset.offset){r3=this.happinessLevelOffset.offset*this.happinessLevelOffset.mult;this.killHappinessLevelOffset();}else{this.happinessLevelOffset.offset-=r3;U1.u2(U1.b2);this.happinessLevelOffset.timer.set(U1.m8(U1.s2,U1.C2));r3*=this.happinessLevelOffset.mult;}if(-r3>this.happinessLevel){this.happinessLevel=U1.C2;this.killHappinessLevelOffset();}else if(r3+this.happinessLevel>this.happinessMaxLevel){this.happinessLevel=this.happinessMaxLevel;this.killHappinessLevelOffset();}else{this.happinessLevel+=r3;}}j3=this.happinessLevel===this.happinessMaxLevel?U1.Z2|U1.C2:Math.floor(this.happinessLevel/(this.happinessMaxLevel/(U1.W2*U1.b2)));ig.system.context.fillStyle=this.gradHappiness;ig.system.context.fillRect(this.happinessPos.x,this.happinessPos.y,this.happinessLevel/this.happinessMaxLevel*this.happinessSize.x,this.happinessSize.y);U1.Z8(U1.r2);this.happinessImg.drawTile(U1.m8(N1,U1.C2),+K1,j3,+O1,U1.m8(U1.Y1,U1.b2,U1.u2(U1.C2)));if(this.gameTimer){if(typeof this.happinessEffectTimer===P1){if((j3===+U1.Z2||j3===U1.C2)&&this.gameTimer.delta()-this.happinessEffectTimer>+U1.W2){this.happinessEffectTimer=new ig.Timer();}}else if(j3===U1.L2){T3=this.happinessEffectTimer.delta();if(T3>y1-U1.C2){this.happinessEffectTimer=this.gameTimer.delta();}else{U1.Z8(U1.r2);this.happinessStar.drawTile(-+c1,U1.m8(E1,U1.C2),Math.floor(T3*(U1.W2*U1.b2)),this.happinessStarSize.x,this.happinessStarSize.y);}}else if(j3===U1.s2*U1.b2){T3=this.happinessEffectTimer.delta();if(T3>w1*U1.b2){this.happinessEffectTimer=this.gameTimer.delta();}else{this.happinessSteam.drawTile(-+U1.W2,y2,Math.floor(T3*+U1.W2%+U1.p2),this.happinessSteamSize.x,this.happinessSteamSize.y);}}else{this.happinessEffectTimer=this.gameTimer.delta();}}},drawOverlay:function(){var l1=Q3JJ;var p1='rgba(0,0,0,0.5)';var n1=')';var S1='rgba(';var f1=',';var z1="255";var c2=510;var i2=7;var V3,B3;if(this.winSpinTimer&&this.winSpinTimer.delta()<+l1.v1){V3=Math.ceil(+z1-this.winSpinTimer.delta()*c2);l1.u2(i2);var d3=l1.H8(i2,l1.x2,l1.J2);B3=l1.H2*d3-this.winSpinTimer.delta();l1.Z8(l1.Y2);ig.system.context.fillStyle=l1.H8(f1,V3,V3,V3,f1,S1,f1,B3,n1);}else{ig.system.context.fillStyle=p1;}ig.system.context.fillRect(+l1.s2,+l1.s2,ig.system.width,ig.system.height);},drawWinSpin:function(){var A1=Q3JJ;var W1="#ff8a00";var R1="64";var g1="96";var w2=1535;var K2=19;var N2=17;var h2=9;var M3,c3,v3,Y3,P3,S3,y3;if(this.winSpinTimer){}else{this.winSpinTimer=new ig.Timer();}M3=ig.system.context;A1.u2(A1.r2);c3=A1.m8(g1,A1.C2);v3=ig.system.width;A1.Z8(h2);var x3=A1.m8(A1.Y2,A1.x2,A1.J2,w2,K2);Y3=ig.system.width/(A1.m2*x3);A1.u2(A1.b2);var g3=A1.H8(N2,A1.x2);P3=ig.system.height/(A1.m2*g3);A1.u2(A1.J2);S3=A1.H8(A1.C2,A1.H2,c3);y3=this.winSpinTimer.delta();M3.save();M3.translate(Y3,P3);M3.rotate(Math.PI/+R1*y3);M3.translate(-Y3,-P3);M3.beginPath();M3.moveTo(Y3,P3);while(S3>(A1.s2|A1.C2)){if(S3%(A1.Z2-A1.C2)===+A1.H2){M3.lineTo(Y3,P3);}M3.lineTo(Y3+v3*Math.cos(S3*(A1.m2|A1.C2)*Math.PI/c3),P3+v3*Math.sin(S3*+A1.m2*Math.PI/c3));S3-=+A1.m2;}M3.closePath();M3.fillStyle=W1;M3.fill();M3.restore();},printGrid:function(){var X1=Q3JJ;var M1=' ';var j1='- ';var a3;for(var X3=X1.C2;X3<this.gridSize.y;X3++){a3=X1.G1;for(var J3=X1.s2-X1.C2;J3<this.gridSize.x;J3++){a3+=this.grid[X3][J3]===X1.l2?j1:this.grid[X3][J3].piece+M1;}console.log(a3);}},update:function(){var V1=Q3JJ;var F1="10";var I1="0.01";var H3;this.parent();this.updateCheckHappiness();if(this.matchTimer&&this.matchTimer.delta()>+V1.s2&&this.dropCount===V1.s2-V1.C2){this.matchTimer=V1.l2;this.makeMove();}if(this.gameTimer&&this.gameTimer.pausedAt===V1.C2){if(Math.random()<I1*V1.b2){ig.game.spawnEntity(EntitySushiSparkle,Math.floor(Math.random()*this.gridSize.x)*this.tileSize.x+this.gridPos.x,Math.floor(Math.random()*this.gridSize.y)*this.tileSize.y+this.gridPos.y);}H3=(this.gameTimer.delta()-this.gameTimerTime)*(F1|V1.C2);this.gameTimerTime=this.gameTimer.delta();if(this.happinessLevel-H3<V1.C2){this.happinessLevel=V1.C2;}else{this.happinessLevel-=H3;}}if(this.overlayTimer&&this.overlayTimer.delta()>+V1.s2){this.overlayTimer=V1.l2;}},draw:function(){var a1=Q3JJ;var F3,q3;this.parent();this.drawHappiness();if(this.gameTimer){}else if(this.happinessLevel===+a1.s2){F3=ig.game.getEntitiesByType(EntityCustomer)[+a1.s2];if(F3.serveTimer===a1.l2&&F3.eatTimer===a1.l2){this.drawOverlay();}}else if(this.happinessLevel===this.happinessMaxLevel){F3=ig.game.getEntitiesByType(EntityCustomer)[+a1.s2];if(F3.serveTimer===a1.l2&&F3.eatTimer===a1.l2){if(this.winSpinTimer){q3=this.winSpinTimer.delta();if(q3<a1.b2){ig.system.context.globalAlpha=q3;}this.drawOverlay();this.drawWinSpin();ig.system.context.globalAlpha=a1.b2;}}}}});this.END_WHITELABEL_ENCAPSULATOR;});ig.baked=!0;
ig.module("game.entities.count-down").requires("impact.entity").defines(function(){EntityCountDown=ig.Entity.extend({type:ig.Entity.TYPE.B,size:{x:287,y:136},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/count-down.png",287,136),zIndex:1200,currentFrame:0,init:function(a,b,c){"undefined"===typeof wm&&(a=(ig.system.width-this.size.x)/2,b=20,this.parent(a,b-100,c),this.addAnim("idle0",1,[0],!0),this.addAnim("idle1",1,[1],!0),this.addAnim("idle2",1,[2],!0),this.addAnim("idle3",
1,[3],!0),this.currentAnim=this.anims.idle0,this.drawTimer=new ig.Timer(1),this.tween({pos:{y:b}},0.5).start())},draw:function(){if("undefined"===typeof wm){if(this.drawTimer){var a=this.drawTimer.delta();0<a?(3===this.currentFrame&&(ig.game.getEntitiesByType(EntityBrain)[0].startGame(),this.kill()),ig.system.context.globalAlpha=0,this.currentAnim=this.anims["idle"+ ++this.currentFrame],this.drawTimer.set(1),this.pos.y-=100,this.tween({pos:{y:this.pos.y+100}},0.5).start()):ig.system.context.globalAlpha=
-0.5<a?-2*a:1+2*(a+0.5);this.parent();ig.system.context.globalAlpha=1}}else this.parent()}})});ig.baked=!0;
ig.module("game.entities.customer").requires("impact.entity").defines(function(){EntityCustomer=ig.Entity.extend({zIndex:450,settings:{},customerIndex:0,order:[],orderImg:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/sushi-order.png"),orderLength:1,orderPlateImg:null,orderPlateImgSrc:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/sushi-plate.png"),orderPlateImgTileSize:{x:110,y:82},orderLightImg:null,orderLightImgSrc:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/light.png"),
orderStarImg:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/star.png"),orderStarImgTileSize:{x:149,y:83},orderOffset:30,wrongOrderImg:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/wrong-order.png"),serveOrder:[],servingOrder:null,soundWelcome:new ig.Sound("http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/welcome.*"),soundServe:new ig.Sound("http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/serve.*"),init:function(a,b,c){this.parent(a,b,c);"undefined"===typeof wm&&(this.settings=ig.game.customers.settings[this.customerIndex],
this.anims.fade=new ig.Animation(this.settings.animSheetOrder,this.settings.animFade.duration,this.settings.animFade.frames),this.anims.order=new ig.Animation(this.settings.animSheetOrder,this.settings.animOrder.duration,this.settings.animOrder.frames),this.anims.eatIdle=new ig.Animation(this.settings.animSheetEat,this.settings.animEatIdle.duration,this.settings.animEatIdle.frames,!0),this.anims.eat=new ig.Animation(this.settings.animSheetEat,this.settings.animEat.duration,this.settings.animEat.frames),
this.settings.animSheetClear&&(this.anims.clearStage=new ig.Animation(this.settings.animSheetClear,this.settings.animClearStage.duration,this.settings.animClearStage.frames)),this.anims.fail=new ig.Animation(this.settings.animSheetFail,this.settings.animFail.duration,this.settings.animFail.frames),this.fadeIn(),null===document.getElementById("orderPlateImg")?(this.orderPlateImg=document.createElement("img"),this.orderPlateImg.setAttribute("src",this.orderPlateImgSrc.path),this.orderPlateImg.setAttribute("style",
"display:none"),this.orderPlateImg.setAttribute("id","orderPlateImg"),document.body.appendChild(this.orderPlateImg)):this.orderPlateImg=document.getElementById("orderPlateImg"),null===document.getElementById("orderLightImg")?(this.orderLightImg=document.createElement("img"),this.orderLightImg.setAttribute("src",this.orderLightImgSrc.path),this.orderLightImg.setAttribute("style","display:none"),this.orderLightImg.setAttribute("id","orderLightImg"),document.body.appendChild(this.orderLightImg)):this.orderLightImg=
document.getElementById("orderLightImg"))},makeOrder:function(){this.serveTimer=null;var a=ig.game.getEntitiesByType(EntityBrain)[0];if(a.happinessLevel<a.happinessMaxLevel){var b=this.orderLength-this.order.length;if(a.gameTimer){for(;b--;)this.order.push(Math.floor(Math.random()*a.pieces.length));a.doDrawOverlay&&(a.gameTimer.unpause(),a.setDrawOverlay(!1));this.makeOrderTime=a.gameTimer.delta()}this.currentAnim=this.anims.order.rewind();this.offset.x=this.settings.animOffsetOrder.x;this.offset.y=
this.settings.animOffsetOrder.y}},eatOrder:function(a){"undefined"!==typeof a&&(this.serveOrder=a,this.currentAnim=this.anims.eatIdle,this.offset.x=this.settings.animOffsetEat.x,this.offset.y=this.settings.animOffsetEat.y);for(a=this.order.length;a--;){for(var b=this.serveOrder.length;b--;)if(this.serveOrder[b]===this.order[a]){this.servingOrder=this.serveOrder.splice(b,1);this.order.splice(a,1);this.setServeAnim();return}if(0===this.serveOrder.length&&null===this.eatTimer){this.makeOrder();break}}},
wrongOrder:function(){this.currentAnim=this.anims.fail.rewind();this.offset.x=this.settings.animOffsetFail.x;this.offset.y=this.settings.animOffsetFail.y;this.wrongOrderTimer=new ig.Timer(0.5)},fadeIn:function(){try{ig.game.welcomeSound.play()}catch(a){this.soundWelcome.play()}this.eatTimer=new ig.Timer(0.45);this.currentAnim=this.anims.fade;this.currentAnim.alpha=0;this.offset.x=this.settings.animOffsetOrder.x-ig.system.width;this.offset.y=this.settings.animOffsetOrder.y;this.tween({offset:{x:this.settings.animOffsetOrder.x},
currentAnim:{alpha:1}},0.45).start()},fadeOut:function(){this.killTimer=new ig.Timer(0.45);this.currentAnim=this.anims.fade;this.offset.x=this.settings.animOffsetOrder.x;this.offset.y=this.settings.animOffsetOrder.y;this.tween({offset:{x:this.settings.animOffsetOrder.x+ig.system.width},currentAnim:{alpha:0}},0.45).start()},setClearAnim:function(){this.zIndex=1100;this.currentAnim=this.anims.clearStage;this.offset.x=this.settings.animOffsetClear.x;this.offset.y=this.settings.animOffsetClear.y;this.tween({pos:{y:ig.system.height/
2}},1).start();ig.game.spawnEntity(EntityStageClear,this.pos.x-145,this.pos.y-15)},setEatAnim:function(){this.eatTimer=new ig.Timer(1.8);this.currentAnim=this.anims.eat.rewind();this.offset.x=this.settings.animOffsetEat.x;this.offset.y=this.settings.animOffsetEat.y;0!==this.serveOrder.length&&this.eatOrder()},setFailAnim:function(){this.zIndex=1100;this.currentAnim=this.anims.fail.rewind();this.offset.x=this.settings.animOffsetFail.x;this.offset.y=this.settings.animOffsetFail.y;this.tween({pos:{y:ig.system.height/
2}},1).start();ig.game.spawnEntity(EntityStageFail,this.pos.x-168,this.pos.y-10)},setServeAnim:function(){this.serveTimer=new ig.Timer;try{ig.game.serveSound.play()}catch(a){this.soundServe.play()}},update:function(){this.parent();if(this.eatTimer&&0<this.eatTimer.delta()&&0===this.serveOrder.length)this.serveTimer=this.eatTimer=null,this.makeOrder();else if(this.killTimer&&0<this.killTimer.delta())this.killTimer=null,this.kill();else if(this.makeOrderTime){var a=ig.game.getEntitiesByType(EntityBrain)[0];
a.gameTimer?6<a.gameTimer.delta()-this.makeOrderTime&&(this.makeOrderTime=null,this.order=[],a.setAttackUser()):this.makeOrderTime=null}},draw:function(){this.parent();if(this.serveTimer){var a=this.serveTimer.delta();if(2<a)this.currentAnim!==this.anims.eat&&this.setEatAnim();else if(1<a){ig.system.context.globalAlpha=1.5>a?a-1:2-a;var b=this.orderLightImgSrc.width*(a*a/2),c=this.orderLightImgSrc.height*(a*a/2);ig.system.context.drawImage(this.orderLightImg,this.pos.x-b/2,this.pos.y-this.orderOffset+
this.orderPlateImgSrc.height/4-c,b,c);ig.system.context.globalAlpha=1;this.orderStarImg.drawTile(this.pos.x-this.orderStarImgTileSize.x/2,this.pos.y-this.orderOffset-this.orderStarImgTileSize.y/2,Math.floor(10*(a-1)),this.orderStarImgTileSize.x,this.orderStarImgTileSize.y)}1>a?(ig.system.context.globalAlpha=a,b=1.5-a*a/2,ig.system.context.drawImage(this.orderPlateImg,this.servingOrder%2*this.orderPlateImgTileSize.x,Math.floor(this.servingOrder/2)*this.orderPlateImgTileSize.y,this.orderPlateImgTileSize.x,
this.orderPlateImgTileSize.y,this.pos.x-this.orderPlateImgTileSize.x*b/2,this.pos.y-this.orderOffset+100*(1-a),this.orderPlateImgTileSize.x*b,this.orderPlateImgTileSize.y*b),ig.system.context.globalAlpha=1):ig.system.context.drawImage(this.orderPlateImg,(2.3>a?this.servingOrder%2:1)*this.orderPlateImgTileSize.x,(2.3>a?Math.floor(this.servingOrder/2):4)*this.orderPlateImgTileSize.y,this.orderPlateImgTileSize.x,this.orderPlateImgTileSize.y,this.pos.x-0.3*this.orderPlateImgTileSize.x,this.pos.y-this.orderOffset,
0.6*this.orderPlateImgTileSize.x,0.6*this.orderPlateImgTileSize.y)}else this.currentAnim===this.anims.fail?this.wrongOrderTimer&&(a=this.wrongOrderTimer.delta(),0<a?(this.wrongOrderTimer=null,this.makeOrder()):this.wrongOrderImg.drawTile(this.pos.x+60,this.pos.y-135,3+Math.floor(15*a%3),144,102)):this.currentAnim===this.anims.clearStage||this.currentAnim===this.anims.fadeOut||0<this.order.length&&this.orderImg.drawTile(this.pos.x+60,this.pos.y-135,this.order[0],144,102)}})});ig.baked=!0;
ig.module("game.entities.piece").requires("impact.entity").defines(function(){EntityPiece=ig.Entity.extend({type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/sushi-pieces.png",79,60),offset:{x:9,y:2},zIndex:500,posOffset:10,offsetToMouse:{x:0,y:0},isDragging:!1,isUpdated:!1,isMatched:!1,gridCoords:{x:0,y:0},effectImg:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/sushi-effect.png"),effectImgSize:{x:188,y:188},fingerImg:new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/finger.png"),
releaseSound:new ig.Sound("http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/release.*"),init:function(a,b,c){this.parent(a,b,c);this.size.x-=2*this.posOffset;this.size.y-=2*this.posOffset;this.pos.x+=this.posOffset;this.pos.y+=this.posOffset;this.addAnim("idle",1,[this.piece],!0);this.currentAnim=this.anims.idle},clicked:function(){var a=ig.game.getEntitiesByType(EntityBrain)[0];a.gameTimer&&(0===a.gameTimer.pausedAt&&a.isFinishedChecking&&!a.doDrawOverlay)&&(this.offsetToMouse={x:this.pos.x-ig.game.getEntitiesByType(EntityPointer)[0].pos.x,
y:this.pos.y-ig.game.getEntitiesByType(EntityPointer)[0].pos.y},this.isDragging=!0,this.zIndex+=50,ig.game.sortEntitiesDeferred());ig.game.getEntitiesByType(EntityCustomer)[0].makeOrderTime=null},released:function(){if(this.isDragging){try{ig.game.releaseSound.play()}catch(a){this.releaseSound.play()}this.isDragging=!1;var b=ig.game.getEntitiesByType(EntityBrain)[0];this.pos.x=this.gridCoords.x*b.tileSize.x+b.gridPos.x+this.posOffset;this.pos.y=this.gridCoords.y*b.tileSize.y+b.gridPos.y+this.posOffset;
this.zIndex-=50;this.isUpdated&&(this.isUpdated=!1,this.startTime=null,b.startMakeMove())}},update:function(){this.parent();var a=ig.game.getEntitiesByType(EntityBrain)[0];if(this.isDragging)if(!a.gameTimer||this.startTime&&5<a.gameTimer.delta()-this.startTime)this.released();else{var b=ig.game.getEntitiesByType(EntityPointer)[0].pos,c=this.offsetToMouse.x+b.x,b=this.offsetToMouse.y+b.y;this.pos.x=c<a.gridPos.x?a.gridPos.x:c>a.gridPos.x+a.tileSize.x*(a.gridSize.x-1)+2*this.posOffset?a.gridPos.x+a.tileSize.x*
(a.gridSize.x-1)+2*this.posOffset:c;this.pos.y=b<a.gridPos.y?a.gridPos.y:b>a.gridPos.y+a.tileSize.y*(a.gridSize.y-1)+2*this.posOffset?a.gridPos.y+a.tileSize.y*(a.gridSize.y-1)+2*this.posOffset:b;a.checkTilePos(this);this.isUpdated&&!this.startTime&&(this.startTime=a.gameTimer.delta())}else this.doDrop&&a.matchTimer&&(c=a.matchTimer.delta(),0<c?this.isNewPiece=this.doDrop=!1:-0.1<c&&null===a.grid[this.gridCoords.y][this.gridCoords.x]&&(a.grid[this.gridCoords.y][this.gridCoords.x]=this,a=this.gridCoords.y*
a.tileSize.y+a.gridPos.y+this.posOffset,this.tween({pos:{y:a}},(a-this.pos.y)/(this.size.y+2*this.offset.y)/10,{onComplete:function(){ig.game.getEntitiesByType(EntityBrain)[0].dropCount-=1}}).start()))},draw:function(){var a=ig.game.getEntitiesByType(EntityBrain)[0],b;if(this.isNewPiece&&a.matchTimer){var c=a.matchTimer.delta();if(-0.1<c)ig.system.context.globalAlpha=1+10*c;else return}else if(this.killTimer){c=this.killTimer.delta();if(0<c){this.attackValue&&a.setAttack(this.attackValue);this.killTimer=
null;this.kill();return}-0.5<c&&(this.doSparkle&&(this.doSparkle=!1,ig.game.spawnEntity(EntitySparkle,this.pos.x+this.size.x/2,this.pos.y+this.size.y/2,{dest:{x:ig.system.width/2,y:a.happinessPos.y+a.happinessSize.y/2}})),ig.system.context.globalAlpha=2*-c,b=13+Math.floor(26*c))}else if(a.doDrawOverlay||a.overlayTimer)ig.system.context.globalAlpha=a.overlayTimer?a.doDrawOverlay?0.5-2*a.overlayTimer.delta():1+2*a.overlayTimer.delta():0.5;this.parent();b&&this.effectImg.drawTile(this.pos.x-(this.effectImgSize.x-
this.size.x)/2,this.pos.y-(this.effectImgSize.y-this.size.y)/2,b,this.effectImgSize.x,this.effectImgSize.y);ig.system.context.globalAlpha=1;this.isDragging&&this.startTime&&(c=a.gameTimer.delta()-this.startTime,2<c&&(a=this.pos.y,b=ig.system.context.createLinearGradient(0,a,0,a+9),b.addColorStop(0,"#cdf0a0"),b.addColorStop(1,"#70b11c"),ig.system.context.fillStyle=b,ig.system.context.fillRect(this.pos.x+5,a,20*(5-c),9),this.fingerImg.draw(this.pos.x,a-45)))}})});ig.baked=!0;
ig.module("game.entities.text").requires("impact.entity").defines(function(){EntityText=ig.Entity.extend({text:"",size:{x:32,y:32},_wmDrawBox:!0,_wmBoxColor:"rgba(255, 255, 255, 0.5)",zIndex:1E4,init:function(a,b,c){this.parent(a,b,c);"undefined"==typeof wm&&c&&(this.name=c.name,this.useLanguageFile=c.useLanguageFile,this.languageFileSectionName=c.languageFileSectionName,this.text=eval(this.useLanguageFile)?ig.game.language.selected[this.languageFileSectionName][c.text]:c.text,this.fontSize=c.fontSize,
this.fontSize||(this.fontSize="24"),this.fontStyle=c.fontStyle,this.fontStyle||(this.fontStyle="Arial"),this.fontWeight=c.fontWeight,this.fontWeight||(this.fontWeight="bold"),this.fontColor=c.fontColor,this.fontColor||(this.fontColor="#fff"),this.backgroundBorderColor=c.backgroundBorderColor,this.backgroundColor=c.backgroundColor,this.backgroundHeight=c.backgroundHeight)},draw:function(){this.parent();this.backgroundBorderColor&&(ig.system.context.fillStyle=this.backgroundBorderColor,ig.system.context.fillRect(0,
this.pos.y-this.size.y+10-5,ig.system.width,this.backgroundHeight+10));this.backgroundColor&&(ig.system.context.fillStyle=this.backgroundColor,ig.system.context.fillRect(0,this.pos.y-this.size.y+10,ig.system.width,this.backgroundHeight));"undefined"==typeof wm&&(ig.system.context.fillStyle=this.fontColor,ig.system.context.font=this.fontWeight+" "+this.fontSize+"px "+this.fontStyle,ig.system.context.fillText(this.text,this.pos.x-ig.system.context.measureText(this.text).width/2,this.pos.y+this.size.y))}})});
ig.baked=!0;
ig.module("game.entities.text-combo").requires("game.entities.text").defines(function(){EntityTextCombo=EntityText.extend({zIndex:800,drawTimer:null,time:0,fontColors:["#F00","#FF0","#0F6","#03F","#60F"],colorIndex:0,soundMatch:new ig.Sound("http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/match.*"),soundCombo:new ig.Sound("http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/combo.*"),init:function(a,b,c){this.parent(a,b,c);this.pos.y-=7*(this.fontSize/5);this.time=ig.game.getEntitiesByType(EntityBrain)[0].comboTimer.delta()},bounceUp:function(){var a=
ig.game.getEntitiesByType(EntityTextAttack)[0];ig.game.spawnEntity(EntitySparkle,this.pos.x,this.pos.y+this.size.y-this.fontSize/2,{dest:{x:a.pos.x,y:a.pos.y+a.size.y-a.fontSize/2}});this.tween({pos:{y:this.pos.y-26}},0.18).start();try{ig.game.comboSound.play()}catch(b){this.soundCombo.play()}},bounceDown:function(){this.tween({pos:{y:this.pos.y+26}},0.18).start()},update:function(){this.parent();this.killTimer&&(0<this.killTimer.delta()?0===this.tweens.length&&(this.killTimer=null,this.kill()):-0.18<
this.killTimer.delta()?0===this.tweens.length&&(this.bounceDown(),ig.game.getEntitiesByType(EntityTextAttack)[0].text+=ig.game.getEntitiesByType(EntityBrain)[0].attack/4):-0.36<this.killTimer.delta()&&0===this.tweens.length&&(this.bounceUp(),ig.game.getEntitiesByType(EntityTextAttack)[0].bounceUp(),this.zIndex=1E3,ig.game.sortEntitiesDeferred()))},draw:function(){if(this.drawTimer){var a=this.drawTimer.delta();if(0<a){try{ig.game.matchSound.play()}catch(b){this.soundMatch.play()}this.drawTimer=null}else if(-0.5<
a)ig.system.context.globalAlpha=1+2*a;else return}a=ig.game.getEntitiesByType(EntityBrain)[0];a.comboTimer&&0.05<a.comboTimer.delta()-this.time&&(this.time=a.comboTimer.delta(),this.colorIndex=++this.colorIndex===this.fontColors.length?0:this.colorIndex,this.fontColor=this.fontColors[this.colorIndex]);ig.system.context.font=this.fontWeight+" "+this.fontSize+"px "+this.fontStyle;ig.system.context.lineWidth=5;ig.system.context.strokeStyle="#FFF";ig.system.context.strokeText(this.text,this.pos.x-ig.system.context.measureText(this.text).width/
2,this.pos.y+this.size.y);this.parent();ig.system.context.lineWidth=2;ig.system.context.strokeStyle="#000";ig.system.context.strokeText(this.text,this.pos.x-ig.system.context.measureText(this.text).width/2,this.pos.y+this.size.y);ig.system.context.globalAlpha=1;0===window.location.search.substring(window.location.search.search("test")+5).search("true")&&(ig.system.context.strokeStyle="#F00",ig.system.context.strokeRect(this.pos.x,this.pos.y,this.size.x,this.size.y))}})});ig.baked=!0;
ig.module("game.entities.text-attack").requires("game.entities.text").defines(function(){EntityTextAttack=EntityText.extend({zIndex:800,drawTimer:null,init:function(a,b,c){this.parent(a,b,c);this.pos.y-=24-(this.fontSize-24)/2;this.bounceUp()},bounceUp:function(){this.tween({pos:{y:this.pos.y-20}},0.18).start();this.bounceTimer=new ig.Timer(0.18)},bounceDown:function(){this.tween({pos:{y:this.pos.y+20}},0.16).start()},setAttack:function(){var a=ig.game.getEntitiesByType(EntityBrain)[0];a.happinessLevelOffset=
{offset:this.text,timer:new ig.Timer,mult:1,speed:this.text};ig.game.getEntitiesByType(EntityCustomer)[0].eatOrder(a.serveOrder);a.serveOrder=[];a.comboTimer=null},update:function(){this.parent();this.attackTimer&&0<this.attackTimer.delta()&&(this.attackTimer=null,this.setAttack());this.bounceTimer&&0<this.bounceTimer.delta()&&(this.bounceTimer=null,this.bounceDown())},draw:function(){if(this.drawTimer){var a=this.drawTimer.delta();if(0<a)this.drawTimer=null;else if(-0.2<a)ig.system.context.globalAlpha=
1+5*a;else return}this.parent();ig.system.context.strokeStyle="#000";ig.system.context.strokeText(this.text,this.pos.x-ig.system.context.measureText(this.text).width/2,this.pos.y+this.size.y);ig.system.context.globalAlpha=1}})});ig.baked=!0;
ig.module("game.entities.sparkle").requires("impact.entity").defines(function(){EntitySparkle=ig.Entity.extend({offset:{x:25,y:25},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/sparkle.png",51,51),zIndex:1200,init:function(a,b,c){this.parent(a,b,c);this.addAnim("idle",0.05,[0,1,2,3,4,5]);this.currentAnim=this.anims.idle;this.killTimer=new ig.Timer(0.5);this.tween({pos:{x:this.dest.x}},0.5,{easing:ig.Tween.Easing.Cubic.EaseIn}).start();this.tween({pos:{y:this.dest.y}},
0.5,{easing:ig.Tween.Easing.Quadratic.EaseInOut}).start()},update:function(){this.parent();this.killTimer&&0<this.killTimer.delta()&&(this.killTimer=null,this.kill())}})});ig.baked=!0;
ig.module("game.entities.sushi-sparkle").requires("impact.entity").defines(function(){EntitySushiSparkle=ig.Entity.extend({animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/sushi-sparkle.png",74,57),zIndex:1200,init:function(a,b,c){this.parent(a,b,c);this.addAnim("idle",0.08,[0,1,2,3,4,5,6,7,8,9,10,11,12]);this.currentAnim=this.anims.idle;this.killTimer=new ig.Timer(0.8)},update:function(){this.parent();this.killTimer&&0<this.killTimer.delta()&&(this.killTimer=null,this.kill())}})});
ig.baked=!0;
ig.module("game.entities.stage-clear").requires("impact.entity").defines(function(){EntityStageClear=ig.Entity.extend({animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/stage-clear.png",291,104),zIndex:1200,init:function(a,b,c){this.parent(a,b,c);this.addAnim("idle",0.2,[0,1,2,3]);this.currentAnim=this.anims.idle;this.spawnTimer=new ig.Timer(1);ig.game.spawnEntity(EntityButtonAgain,0,463);ig.game.spawnEntity(EntityButtonHome,0,463)},draw:function(){if(this.spawnTimer){var a=this.spawnTimer.delta();
this.pos.y=ig.game.getEntitiesByType(EntityCustomer)[0].pos.y-15;0<a?this.spawnTimer=null:-0.5<a||(ig.system.context.globalAlpha=1+2*a);this.parent();ig.system.context.globalAlpha=1}else this.parent()}})});ig.baked=!0;
ig.module("game.entities.stage-fail").requires("impact.entity").defines(function(){EntityStageFail=ig.Entity.extend({animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/stage-fail.png",337,93),zIndex:1200,init:function(a,b,c){this.parent(a,b,c);this.addAnim("idle",0.2,[0,1,0,2,0]);this.currentAnim=this.anims.idle;this.spawnTimer=new ig.Timer(1);ig.game.spawnEntity(EntityButtonAgain,0,413);ig.game.spawnEntity(EntityButtonHome,0,413)},draw:function(){if(this.spawnTimer){var a=
this.spawnTimer.delta();this.pos.y=ig.game.getEntitiesByType(EntityCustomer)[0].pos.y-10;0<a?this.spawnTimer=null:-0.5<a||(ig.system.context.globalAlpha=1+2*a);this.parent();ig.system.context.globalAlpha=1}else this.parent()}})});ig.baked=!0;
ig.module("game.entities.button-again").requires("impact.entity").defines(function(){EntityButtonAgain=ig.Entity.extend({type:ig.Entity.TYPE.B,size:{x:167,y:59},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/btn_again.png",171,65),isClicked:!1,isClickedTimerDuration:0.15,alphaFade:0.5,zIndex:1200,init:function(a,b,c){"undefined"===typeof wm?(this.parent(0===a?264:a-this.size.x/2,0===b?563:ig.system.height-this.size.y,c),this.addAnim("idle",1,[0],!0),this.currentAnim=
this.anims.idle,0!==b&&this.tween({pos:{y:b}},0.9,{easing:ig.Tween.Easing.Elastic.EaseOut}).start()):this.parent(a,b,c)},clicked:function(){if(!this.isClicked){this.currentAnim.alpha=this.alphaFade;this.clickedTimer=new ig.Timer(this.isClickedTimerDuration);this.isClicked=!0;console.log("Checking for AdInGameEndgame ...");"undefined"!=typeof AdInGameEndgame&&(console.log("AdInGameEndgame Initializing ..."),AdInGameEndgame.Initialize());console.log("Checking for MarketJS Leaderboard ...");"undefined"!=
typeof MarketJS&&(console.log("Leaderboard SubmitScore ..."),MarketJS.Leaderboard.SubmitScore(100));console.log("Injecting End Game API ...");try{console.log('enabled endgame api11');}catch(a){console.log(a.message)}}},draw:function(){this.parent();this.clickedTimer&&0<this.clickedTimer.delta()&&(ig.game.restartGame(),this.clickedTimer=null)}})});ig.baked=!0;
ig.module("game.entities.button-home").requires("impact.entity").defines(function(){EntityButtonHome=ig.Entity.extend({type:ig.Entity.TYPE.B,size:{x:167,y:59},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/btn_home.png",171,65),isClicked:!1,isClickedTimerDuration:0.15,alphaFade:0.5,zIndex:1200,init:function(a,b,c){"undefined"===typeof wm?(this.parent(0===a?54:a-this.size.x/2,0===b?563:ig.system.height-this.size.y,c),this.addAnim("idle",1,[0],!0),this.currentAnim=this.anims.idle,
0!==b&&this.tween({pos:{y:b}},0.9,{easing:ig.Tween.Easing.Elastic.EaseOut}).start()):this.parent(a,b,c)},clicked:function(){this.isClicked||(this.currentAnim.alpha=this.alphaFade,this.clickedTimer=new ig.Timer(this.isClickedTimerDuration),this.isClicked=!0)},draw:function(){this.parent();if(this.clickedTimer&&0<this.clickedTimer.delta()){for(var a=ig.game.director.levels.length;a--;)if(ig.game.director.levels[a]===LevelHome){ig.game.director.loadLevel(a);break}this.clickedTimer=null}}})});
ig.baked=!0;
ig.module("game.entities.button-back").requires("impact.entity").defines(function(){EntityButtonBack=ig.Entity.extend({type:ig.Entity.TYPE.B,size:{x:167,y:59},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/btn_back.png",171,65),isClicked:!1,isClickedTimerDuration:0.15,alphaFade:0.5,zIndex:1200,init:function(a,b,c){"undefined"===typeof wm?(this.parent(0===a?54:a-this.size.x/2,0===b?563:ig.system.height-this.size.y,c),this.addAnim("idle",1,[0],!0),this.currentAnim=this.anims.idle,
0!==b&&this.tween({pos:{y:b}},0.9,{easing:ig.Tween.Easing.Elastic.EaseOut}).start()):this.parent(a,b,c)},clicked:function(){this.isClicked||(this.currentAnim.alpha=this.alphaFade,this.clickedTimer=new ig.Timer(this.isClickedTimerDuration),this.isClicked=!0)},draw:function(){this.parent();this.clickedTimer&&0<this.clickedTimer.delta()&&("function"===typeof this.clickedAction?this.clickedAction():ig.game.director.previousLevel(),this.clickedTimer=null)}})});ig.baked=!0;
ig.module("game.entities.button-start").requires("impact.entity").defines(function(){EntityButtonStart=ig.Entity.extend({type:ig.Entity.TYPE.B,size:{x:230,y:49},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/btn_start.png",230,49),isClicked:!1,isClickedTimerDuration:0.15,alphaFade:0.5,init:function(a,b,c){this.parent(a,b,c);this.addAnim("idle",1,[0],!0);this.currentAnim=this.anims.idle;"undefined"==typeof wm&&this.tween({pos:{x:124,y:334}},0.9,{easing:ig.Tween.Easing.Elastic.EaseOut}).start()},
clicked:function(){this.isClicked||(this.currentAnim.alpha=this.alphaFade,this.clickedTimer=new ig.Timer(this.isClickedTimerDuration),this.isClicked=!0)},draw:function(){this.parent();if(this.clickedTimer&&0<this.clickedTimer.delta()){for(var a=ig.game.director.levels.length;a--;)if(ig.game.director.levels[a]===LevelGame){ig.game.director.loadLevel(a);break}this.clickedTimer=null}}})});ig.baked=!0;
ig.module("game.entities.button-tutorial").requires("impact.entity").defines(function(){EntityButtonTutorial=ig.Entity.extend({type:ig.Entity.TYPE.B,size:{x:230,y:49},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/btn_tutorial.png",230,49),isClicked:!1,isClickedTimerDuration:0.15,alphaFade:0.5,init:function(a,b,c){this.parent(a,b,c);this.addAnim("idle",1,[0],!0);this.currentAnim=this.anims.idle;"undefined"==typeof wm&&this.tween({pos:{x:124,y:406}},0.9,{easing:ig.Tween.Easing.Elastic.EaseOut}).start()},
clicked:function(){this.isClicked||(this.currentAnim.alpha=this.alphaFade,this.clickedTimer=new ig.Timer(this.isClickedTimerDuration),this.isClicked=!0)},draw:function(){this.parent();if(this.clickedTimer&&0<this.clickedTimer.delta()){for(var a=ig.game.director.levels.length;a--;)if(ig.game.director.levels[a]===LevelTutorial){ig.game.director.loadLevel(a);break}this.clickedTimer=null}}})});ig.baked=!0;
ig.module("game.entities.button-more-games").requires("impact.entity").defines(function(){EntityButtonMoreGames=ig.Entity.extend({gravityFactor:0,logo:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/btn_more_games.png",230,49),size:{x:230,y:49},zIndex:750,fixedPosX:124,fixedPosY:478,init:function(a,b,c){this.parent(a,b,c);this.anims.idle=new ig.Animation(this.logo,0,[0],!0);this.currentAnim=this.anims.idle;"undefined"==typeof wm&&(_SETTINGS.MoreGames.Enabled?("undefined"==typeof wm&&
this.tween({pos:{x:124,y:478}},0.9,{easing:ig.Tween.Easing.Elastic.EaseOut}).start(),c?(console.log("settings found ... using that div layer name"),a=c.div_layer_name):a="more-games",console.log("div_layer_name:",a),this.checkClickableLayer(a,_SETTINGS.MoreGames.Link,!0)):this.kill())},doesClickableLayerExist:function(a){for(k in dynamicClickableEntityDivs)if(k==a)return console.log("clickable layer already exists ..."),!0;console.log("doesnt exist yet ...");return!1},checkClickableLayer:function(a,
b,c){"undefined"==typeof wm&&(this.doesClickableLayerExist(a)?(ig.game.showOverlay([a]),$("#"+a).find("[href]").attr("href",b)):this.createClickableOutboundLayer(a,b,"../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/misc/invisible.png",c))},createClickableOutboundLayer:function(a,b,c,d){var e=ig.$new("div");e.id=a;document.body.appendChild(e);$("#"+e.id).css("float","left");$("#"+e.id).css("position","absolute");if(ig.ua.mobile){var f=window.innerHeight/mobileHeight,g=window.innerWidth/mobileWidth;$("#"+e.id).css("left",
this.fixedPosX*g);$("#"+e.id).css("top",this.fixedPosY*f);$("#"+e.id).css("width",this.size.x*g);$("#"+e.id).css("height",this.size.y*f)}else f=document.getElementById("game").offsetLeft,g=document.getElementById("game").offsetTop,$("#"+e.id).css("left",f+this.fixedPosX*multiplier),$("#"+e.id).css("top",g+this.fixedPosY*multiplier),$("#"+e.id).css("width",this.size.x*multiplier),$("#"+e.id).css("height",this.size.y*multiplier);d?$("#"+e.id).html("<a target='_blank' href='"+b+"'><img style='width:100%;height:100%' src='"+
c+"'></a>"):$("#"+e.id).html("<a href='"+b+"'><img style='width:100%;height:100%' src='"+c+"'></a>");dynamicClickableEntityDivs[a]={};dynamicClickableEntityDivs[a].width=this.size.x*multiplier;dynamicClickableEntityDivs[a].height=this.size.y*multiplier;dynamicClickableEntityDivs[a].entity_pos_x=this.fixedPosX;dynamicClickableEntityDivs[a].entity_pos_y=this.fixedPosY}})});ig.baked=!0;
ig.module("game.entities.button-pause").requires("impact.entity").defines(function(){EntityButtonPause=ig.Entity.extend({type:ig.Entity.TYPE.B,size:{x:42,y:42},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/btn_pause.png",43,44),isClicked:!1,isClickedTimerDuration:0.15,alphaFade:0.5,init:function(a,b,c){this.parent(a,b,c);this.addAnim("idle",1,[0],!0);this.currentAnim=this.anims.idle},clicked:function(){this.isClicked||(this.currentAnim.alpha=this.alphaFade,this.clickedTimer=
new ig.Timer(this.isClickedTimerDuration),this.isClicked=!0)},draw:function(){this.parent();if(this.clickedTimer&&0<this.clickedTimer.delta()){var a=ig.game.getEntitiesByType(EntityBrain);0<a.length&&a[0].pauseGame();this.clickedTimer=null;this.isClicked=!1;this.currentAnim.alpha=1}}})});ig.baked=!0;
ig.module("game.entities.pause-menu").requires("impact.entity").defines(function(){EntityPauseMenu=ig.Entity.extend({size:{x:363,y:405},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/pause_menu.png",363,405),zIndex:1150,init:function(a,b,c){"undefined"===typeof wm?(a=(ig.system.width-this.size.x)/2,b=(ig.system.height-this.size.y)/2,this.parent(a,b-ig.system.height,c),this.addAnim("idle",1,[0],!0),this.currentAnim=this.anims.idle,0!==b&&this.tween({pos:{y:b}},0.8,{easing:ig.Tween.Easing.Elastic.EaseOut}).start(),
a=ig.system.width/2,b+=135,ig.game.spawnEntity(EntityButtonAgain,a,b),b+=80,ig.game.spawnEntity(EntityButtonHome,a,b),ig.game.spawnEntity(EntityButtonBack,a,b+80,{clickedAction:function(){var a=ig.game.getEntitiesByType(EntityBrain);0<a.length&&a[0].unpauseGame()}}),this.fadeInTimer=new ig.Timer(0.5),ig.game.sortEntitiesDeferred()):this.parent(a,b,c)},kill:function(){ig.game.getEntitiesByType(EntityButtonAgain)[0].kill();ig.game.getEntitiesByType(EntityButtonHome)[0].kill();ig.game.getEntitiesByType(EntityButtonBack)[0].kill();
this.parent()},draw:function(){if(this.fadeInTimer){var a=this.fadeInTimer.delta();0<a&&(this.fadeInTimer=null,a=0);ig.system.context.fillStyle="rgba(0,0,0,"+(0.5+a)+")"}else ig.system.context.fillStyle="rgba(0,0,0,0.5)";ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);this.parent()}})});ig.baked=!0;ig.module("game.levels.opening").requires("impact.image","game.entities.opening").defines(function(){LevelOpening={entities:[{type:"EntityOpening",x:396,y:164}],layer:[]}});ig.baked=!0;
ig.module("game.entities.branding-logo-placeholder").requires("impact.entity").defines(function(){EntityBrandingLogoPlaceholder=ig.Entity.extend({gravityFactor:0,size:{x:32,y:32},_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",init:function(a,b,c){this.parent(a,b,c);if(c)switch(console.log("settings found ... using that div layer name"),a=c.div_layer_name,console.log("settings.centralize:",c.centralize),c.centralize){case "true":console.log("centralize true");centralize=!0;break;case "false":console.log("centralize false");
centralize=!1;break;default:console.log("default ... centralize false"),centralize=!1}else a="branding-logo",centralize=!1;if("undefined"==typeof wm){if(_SETTINGS.Branding.Logo.Enabled)try{ig.game.spawnEntity(EntityBrandingLogo,this.pos.x,this.pos.y,{div_layer_name:a,centralize:centralize})}catch(d){console.log(d)}this.kill()}}})});ig.baked=!0;
ig.module("game.entities.title").requires("impact.entity").defines(function(){EntityTitle=ig.Entity.extend({type:ig.Entity.TYPE.B,size:{x:474,y:270},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/title-chef.png",474,270),init:function(a,b,c){this.parent(a,b,c);this.addAnim("idle",1,[0],!0);this.currentAnim=this.anims.idle;"undefined"==typeof wm&&this.tween({pos:{x:3,y:24}},0.9,{easing:ig.Tween.Easing.Elastic.EaseOut}).start()}})});ig.baked=!0;
ig.module("game.levels.home").requires("impact.image","game.entities.branding-logo-placeholder","game.entities.button-start","game.entities.button-tutorial","game.entities.title","game.entities.button-more-games","game.entities.pointer-selector").defines(function(){LevelHome={entities:[{type:"EntityBrandingLogoPlaceholder",x:208,y:566,settings:{centralize:"true",div_layer_name:"logo_branding_mainmenu"}},{type:"EntityButtonStart",x:124,y:-180},{type:"EntityButtonTutorial",x:124,y:-100},{type:"EntityTitle",
x:2,y:28},{type:"EntityButtonMoreGames",x:124,y:-200,settings:{div_layer_name:"layer_more_games"}},{type:"EntityPointerSelector",x:504,y:180}],layer:[{name:"BG",width:60,height:80,linkWithCollision:!1,visible:1,tilesetName:"http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/backgrounds/background.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:8,foreground:!1,data:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,
52,53,54,55,56,57,58,59,60],[61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180],[181,182,183,184,185,186,187,
188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240],[241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300],[301,302,303,304,305,306,307,308,309,310,311,312,
313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360],[361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420],[421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,
438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480],[481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540],[541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,
563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600],[601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660],[661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,
688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720],[721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780],[781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,
813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840],[841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900],[901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,
938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960],[961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,988,989,990,991,992,993,994,995,996,997,998,999,1E3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020],[1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,
1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080],[1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1120,1121,1122,1123,1124,1125,1126,1127,1128,1129,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140],[1141,1142,1143,1144,1145,1146,1147,1148,1149,
1150,1151,1152,1153,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1168,1169,1170,1171,1172,1173,1174,1175,1176,1177,1178,1179,1180,1181,1182,1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1193,1194,1195,1196,1197,1198,1199,1200],[1201,1202,1203,1204,1205,1206,1207,1208,1209,1210,1211,1212,1213,1214,1215,1216,1217,1218,1219,1220,1221,1222,1223,1224,1225,1226,1227,1228,1229,1230,1231,1232,1233,1234,1235,1236,1237,1238,1239,1240,1241,1242,1243,1244,1245,1246,1247,1248,1249,
1250,1251,1252,1253,1254,1255,1256,1257,1258,1259,1260],[1261,1262,1263,1264,1265,1266,1267,1268,1269,1270,1271,1272,1273,1274,1275,1276,1277,1278,1279,1280,1281,1282,1283,1284,1285,1286,1287,1288,1289,1290,1291,1292,1293,1294,1295,1296,1297,1298,1299,1300,1301,1302,1303,1304,1305,1306,1307,1308,1309,1310,1311,1312,1313,1314,1315,1316,1317,1318,1319,1320],[1321,1322,1323,1324,1325,1326,1327,1328,1329,1330,1331,1332,1333,1334,1335,1336,1337,1338,1339,1340,1341,1342,1343,1344,1345,1346,1347,1348,1349,
1350,1351,1352,1353,1354,1355,1356,1357,1358,1359,1360,1361,1362,1363,1364,1365,1366,1367,1368,1369,1370,1371,1372,1373,1374,1375,1376,1377,1378,1379,1380],[1381,1382,1383,1384,1385,1386,1387,1388,1389,1390,1391,1392,1393,1394,1395,1396,1397,1398,1399,1400,1401,1402,1403,1404,1405,1406,1407,1408,1409,1410,1411,1412,1413,1414,1415,1416,1417,1418,1419,1420,1421,1422,1423,1424,1425,1426,1427,1428,1429,1430,1431,1432,1433,1434,1435,1436,1437,1438,1439,1440],[1441,1442,1443,1444,1445,1446,1447,1448,1449,
1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463,1464,1465,1466,1467,1468,1469,1470,1471,1472,1473,1474,1475,1476,1477,1478,1479,1480,1481,1482,1483,1484,1485,1486,1487,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500],[1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1515,1516,1517,1518,1519,1520,1521,1522,1523,1524,1525,1526,1527,1528,1529,1530,1531,1532,1533,1534,1535,1536,1537,1538,1539,1540,1541,1542,1543,1544,1545,1546,1547,1548,1549,
1550,1551,1552,1553,1554,1555,1556,1557,1558,1559,1560],[1561,1562,1563,1564,1565,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1611,1612,1613,1614,1615,1616,1617,1618,1619,1620],[1621,1622,1623,1624,1625,1626,1627,1628,1629,1630,1631,1632,1633,1634,1635,1636,1637,1638,1639,1640,1641,1642,1643,1644,1645,1646,1647,1648,1649,
1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680],[1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740],[1741,1742,1743,1744,1745,1746,1747,1748,1749,
1750,1751,1752,1753,1754,1755,1756,1757,1758,1759,1760,1761,1762,1763,1764,1765,1766,1767,1768,1769,1770,1771,1772,1773,1774,1775,1776,1777,1778,1779,1780,1781,1782,1783,1784,1785,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800],[1801,1802,1803,1804,1805,1806,1807,1808,1809,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1840,1841,1842,1843,1844,1845,1846,1847,1848,1849,
1850,1851,1852,1853,1854,1855,1856,1857,1858,1859,1860],[1861,1862,1863,1864,1865,1866,1867,1868,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920],[1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,
1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980],[1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040],[2041,2042,2043,2044,2045,2046,2047,2048,2049,
2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2070,2071,2072,2073,2074,2075,2076,2077,2078,2079,2080,2081,2082,2083,2084,2085,2086,2087,2088,2089,2090,2091,2092,2093,2094,2095,2096,2097,2098,2099,2100],[2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2137,2138,2139,2140,2141,2142,2143,2144,2145,2146,2147,2148,2149,
2150,2151,2152,2153,2154,2155,2156,2157,2158,2159,2160],[2161,2162,2163,2164,2165,2166,2167,2168,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2181,2182,2183,2184,2185,2186,2187,2188,2189,2190,2191,2192,2193,2194,2195,2196,2197,2198,2199,2200,2201,2202,2203,2204,2205,2206,2207,2208,2209,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220],[2221,2222,2223,2224,2225,2226,2227,2228,2229,2230,2231,2232,2233,2234,2235,2236,2237,2238,2239,2240,2241,2242,2243,2244,2245,2246,2247,2248,2249,
2250,2251,2252,2253,2254,2255,2256,2257,2258,2259,2260,2261,2262,2263,2264,2265,2266,2267,2268,2269,2270,2271,2272,2273,2274,2275,2276,2277,2278,2279,2280],[2281,2282,2283,2284,2285,2286,2287,2288,2289,2290,2291,2292,2293,2294,2295,2296,2297,2298,2299,2300,2301,2302,2303,2304,2305,2306,2307,2308,2309,2310,2311,2312,2313,2314,2315,2316,2317,2318,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340],[2341,2342,2343,2344,2345,2346,2347,2348,2349,
2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400],[2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,
2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460],[2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520],[2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,
2550,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580],[2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640],[2641,2642,2643,2644,2645,2646,2647,2648,2649,
2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700],[2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2736,2737,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,
2750,2751,2752,2753,2754,2755,2756,2757,2758,2759,2760],[2761,2762,2763,2764,2765,2766,2767,2768,2769,2770,2771,2772,2773,2774,2775,2776,2777,2778,2779,2780,2781,2782,2783,2784,2785,2786,2787,2788,2789,2790,2791,2792,2793,2794,2795,2796,2797,2798,2799,2800,2801,2802,2803,2804,2805,2806,2807,2808,2809,2810,2811,2812,2813,2814,2815,2816,2817,2818,2819,2820],[2821,2822,2823,2824,2825,2826,2827,2828,2829,2830,2831,2832,2833,2834,2835,2836,2837,2838,2839,2840,2841,2842,2843,2844,2845,2846,2847,2848,2849,
2850,2851,2852,2853,2854,2855,2856,2857,2858,2859,2860,2861,2862,2863,2864,2865,2866,2867,2868,2869,2870,2871,2872,2873,2874,2875,2876,2877,2878,2879,2880],[2881,2882,2883,2884,2885,2886,2887,2888,2889,2890,2891,2892,2893,2894,2895,2896,2897,2898,2899,2900,2901,2902,2903,2904,2905,2906,2907,2908,2909,2910,2911,2912,2913,2914,2915,2916,2917,2918,2919,2920,2921,2922,2923,2924,2925,2926,2927,2928,2929,2930,2931,2932,2933,2934,2935,2936,2937,2938,2939,2940],[2941,2942,2943,2944,2945,2946,2947,2948,2949,
2950,2951,2952,2953,2954,2955,2956,2957,2958,2959,2960,2961,2962,2963,2964,2965,2966,2967,2968,2969,2970,2971,2972,2973,2974,2975,2976,2977,2978,2979,2980,2981,2982,2983,2984,2985,2986,2987,2988,2989,2990,2991,2992,2993,2994,2995,2996,2997,2998,2999,3E3],[3001,3002,3003,3004,3005,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3031,3032,3033,3034,3035,3036,3037,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,
3050,3051,3052,3053,3054,3055,3056,3057,3058,3059,3060],[3061,3062,3063,3064,3065,3066,3067,3068,3069,3070,3071,3072,3073,3074,3075,3076,3077,3078,3079,3080,3081,3082,3083,3084,3085,3086,3087,3088,3089,3090,3091,3092,3093,3094,3095,3096,3097,3098,3099,3100,3101,3102,3103,3104,3105,3106,3107,3108,3109,3110,3111,3112,3113,3114,3115,3116,3117,3118,3119,3120],[3121,3122,3123,3124,3125,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3141,3142,3143,3144,3145,3146,3147,3148,3149,
3150,3151,3152,3153,3154,3155,3156,3157,3158,3159,3160,3161,3162,3163,3164,3165,3166,3167,3168,3169,3170,3171,3172,3173,3174,3175,3176,3177,3178,3179,3180],[3181,3182,3183,3184,3185,3186,3187,3188,3189,3190,3191,3192,3193,3194,3195,3196,3197,3198,3199,3200,3201,3202,3203,3204,3205,3206,3207,3208,3209,3210,3211,3212,3213,3214,3215,3216,3217,3218,3219,3220,3221,3222,3223,3224,3225,3226,3227,3228,3229,3230,3231,3232,3233,3234,3235,3236,3237,3238,3239,3240],[3241,3242,3243,3244,3245,3246,3247,3248,3249,
3250,3251,3252,3253,3254,3255,3256,3257,3258,3259,3260,3261,3262,3263,3264,3265,3266,3267,3268,3269,3270,3271,3272,3273,3274,3275,3276,3277,3278,3279,3280,3281,3282,3283,3284,3285,3286,3287,3288,3289,3290,3291,3292,3293,3294,3295,3296,3297,3298,3299,3300],[3301,3302,3303,3304,3305,3306,3307,3308,3309,3310,3311,3312,3313,3314,3315,3316,3317,3318,3319,3320,3321,3322,3323,3324,3325,3326,3327,3328,3329,3330,3331,3332,3333,3334,3335,3336,3337,3338,3339,3340,3341,3342,3343,3344,3345,3346,3347,3348,3349,
3350,3351,3352,3353,3354,3355,3356,3357,3358,3359,3360],[3361,3362,3363,3364,3365,3366,3367,3368,3369,3370,3371,3372,3373,3374,3375,3376,3377,3378,3379,3380,3381,3382,3383,3384,3385,3386,3387,3388,3389,3390,3391,3392,3393,3394,3395,3396,3397,3398,3399,3400,3401,3402,3403,3404,3405,3406,3407,3408,3409,3410,3411,3412,3413,3414,3415,3416,3417,3418,3419,3420],[3421,3422,3423,3424,3425,3426,3427,3428,3429,3430,3431,3432,3433,3434,3435,3436,3437,3438,3439,3440,3441,3442,3443,3444,3445,3446,3447,3448,3449,
3450,3451,3452,3453,3454,3455,3456,3457,3458,3459,3460,3461,3462,3463,3464,3465,3466,3467,3468,3469,3470,3471,3472,3473,3474,3475,3476,3477,3478,3479,3480],[3481,3482,3483,3484,3485,3486,3487,3488,3489,3490,3491,3492,3493,3494,3495,3496,3497,3498,3499,3500,3501,3502,3503,3504,3505,3506,3507,3508,3509,3510,3511,3512,3513,3514,3515,3516,3517,3518,3519,3520,3521,3522,3523,3524,3525,3526,3527,3528,3529,3530,3531,3532,3533,3534,3535,3536,3537,3538,3539,3540],[3541,3542,3543,3544,3545,3546,3547,3548,3549,
3550,3551,3552,3553,3554,3555,3556,3557,3558,3559,3560,3561,3562,3563,3564,3565,3566,3567,3568,3569,3570,3571,3572,3573,3574,3575,3576,3577,3578,3579,3580,3581,3582,3583,3584,3585,3586,3587,3588,3589,3590,3591,3592,3593,3594,3595,3596,3597,3598,3599,3600],[3601,3602,3603,3604,3605,3606,3607,3608,3609,3610,3611,3612,3613,3614,3615,3616,3617,3618,3619,3620,3621,3622,3623,3624,3625,3626,3627,3628,3629,3630,3631,3632,3633,3634,3635,3636,3637,3638,3639,3640,3641,3642,3643,3644,3645,3646,3647,3648,3649,
3650,3651,3652,3653,3654,3655,3656,3657,3658,3659,3660],[3661,3662,3663,3664,3665,3666,3667,3668,3669,3670,3671,3672,3673,3674,3675,3676,3677,3678,3679,3680,3681,3682,3683,3684,3685,3686,3687,3688,3689,3690,3691,3692,3693,3694,3695,3696,3697,3698,3699,3700,3701,3702,3703,3704,3705,3706,3707,3708,3709,3710,3711,3712,3713,3714,3715,3716,3717,3718,3719,3720],[3721,3722,3723,3724,3725,3726,3727,3728,3729,3730,3731,3732,3733,3734,3735,3736,3737,3738,3739,3740,3741,3742,3743,3744,3745,3746,3747,3748,3749,
3750,3751,3752,3753,3754,3755,3756,3757,3758,3759,3760,3761,3762,3763,3764,3765,3766,3767,3768,3769,3770,3771,3772,3773,3774,3775,3776,3777,3778,3779,3780],[3781,3782,3783,3784,3785,3786,3787,3788,3789,3790,3791,3792,3793,3794,3795,3796,3797,3798,3799,3800,3801,3802,3803,3804,3805,3806,3807,3808,3809,3810,3811,3812,3813,3814,3815,3816,3817,3818,3819,3820,3821,3822,3823,3824,3825,3826,3827,3828,3829,3830,3831,3832,3833,3834,3835,3836,3837,3838,3839,3840],[3841,3842,3843,3844,3845,3846,3847,3848,3849,
3850,3851,3852,3853,3854,3855,3856,3857,3858,3859,3860,3861,3862,3863,3864,3865,3866,3867,3868,3869,3870,3871,3872,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3886,3887,3888,3889,3890,3891,3892,3893,3894,3895,3896,3897,3898,3899,3900],[3901,3902,3903,3904,3905,3906,3907,3908,3909,3910,3911,3912,3913,3914,3915,3916,3917,3918,3919,3920,3921,3922,3923,3924,3925,3926,3927,3928,3929,3930,3931,3932,3933,3934,3935,3936,3937,3938,3939,3940,3941,3942,3943,3944,3945,3946,3947,3948,3949,
3950,3951,3952,3953,3954,3955,3956,3957,3958,3959,3960],[3961,3962,3963,3964,3965,3966,3967,3968,3969,3970,3971,3972,3973,3974,3975,3976,3977,3978,3979,3980,3981,3982,3983,3984,3985,3986,3987,3988,3989,3990,3991,3992,3993,3994,3995,3996,3997,3998,3999,4E3,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020],[4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4039,4040,4041,4042,4043,4044,4045,4046,4047,4048,4049,
4050,4051,4052,4053,4054,4055,4056,4057,4058,4059,4060,4061,4062,4063,4064,4065,4066,4067,4068,4069,4070,4071,4072,4073,4074,4075,4076,4077,4078,4079,4080],[4081,4082,4083,4084,4085,4086,4087,4088,4089,4090,4091,4092,4093,4094,4095,4096,4097,4098,4099,4100,4101,4102,4103,4104,4105,4106,4107,4108,4109,4110,4111,4112,4113,4114,4115,4116,4117,4118,4119,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140],[4141,4142,4143,4144,4145,4146,4147,4148,4149,
4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4177,4178,4179,4180,4181,4182,4183,4184,4185,4186,4187,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200],[4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4217,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,
4250,4251,4252,4253,4254,4255,4256,4257,4258,4259,4260],[4261,4262,4263,4264,4265,4266,4267,4268,4269,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4290,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4305,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4320],[4321,4322,4323,4324,4325,4326,4327,4328,4329,4330,4331,4332,4333,4334,4335,4336,4337,4338,4339,4340,4341,4342,4343,4344,4345,4346,4347,4348,4349,
4350,4351,4352,4353,4354,4355,4356,4357,4358,4359,4360,4361,4362,4363,4364,4365,4366,4367,4368,4369,4370,4371,4372,4373,4374,4375,4376,4377,4378,4379,4380],[4381,4382,4383,4384,4385,4386,4387,4388,4389,4390,4391,4392,4393,4394,4395,4396,4397,4398,4399,4400,4401,4402,4403,4404,4405,4406,4407,4408,4409,4410,4411,4412,4413,4414,4415,4416,4417,4418,4419,4420,4421,4422,4423,4424,4425,4426,4427,4428,4429,4430,4431,4432,4433,4434,4435,4436,4437,4438,4439,4440],[4441,4442,4443,4444,4445,4446,4447,4448,4449,
4450,4451,4452,4453,4454,4455,4456,4457,4458,4459,4460,4461,4462,4463,4464,4465,4466,4467,4468,4469,4470,4471,4472,4473,4474,4475,4476,4477,4478,4479,4480,4481,4482,4483,4484,4485,4486,4487,4488,4489,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500],[4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,
4550,4551,4552,4553,4554,4555,4556,4557,4558,4559,4560],[4561,4562,4563,4564,4565,4566,4567,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4590,4591,4592,4593,4594,4595,4596,4597,4598,4599,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620],[4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4647,4648,4649,
4650,4651,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680],[4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740],[4741,4742,4743,4744,4745,4746,4747,4748,4749,
4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800]]}]};LevelHomeResources=[new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/backgrounds/background.jpg")]});ig.baked=!0;
ig.module("game.entities.game-time").requires("impact.entity").defines(function(){EntityGameTime=ig.Entity.extend({size:{x:165,y:57},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/timer.png",165,57),zIndex:1100,fontSheetPath:"http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/sprites/font_timer.png",fontSheet:null,fontSize:{x:14,y:18},timePosOffset:0,currentTime:0,init:function(a,b,c){this.parent(a,b,c);this.timePosOffset=(this.size.y-this.fontSize.y)/2;this.addAnim("idle",1,[0],
!0);this.currentAnim=this.anims.idle;null===document.getElementById("fontTimerImg")?(this.fontSheet=document.createElement("img"),this.fontSheet.setAttribute("src",this.fontSheetPath),this.fontSheet.setAttribute("style","display:none"),this.fontSheet.setAttribute("id","fontTimerImg"),document.body.appendChild(this.fontSheet)):this.fontSheet=document.getElementById("fontTimerImg")},draw:function(){this.parent();if(this.fontSheet){var a=ig.game.getEntitiesByType(EntityBrain);0<a.length&&a[0].gameTimer&&
(this.currentTime=Math.floor(a[0].gameTimer.delta()));var a=this.currentTime,b=this.pos.x+this.size.x-this.timePosOffset-this.fontSize.x,c=this.pos.y+this.timePosOffset;ig.system.context.drawImage(this.fontSheet,a%10*this.fontSize.x,0,this.fontSize.x,this.fontSize.y,b,c,this.fontSize.x,this.fontSize.y);b-=this.fontSize.x;ig.system.context.drawImage(this.fontSheet,Math.floor(a%60/10)*this.fontSize.x,0,this.fontSize.x,this.fontSize.y,b,c,this.fontSize.x,this.fontSize.y);b-=this.fontSize.x;ig.system.context.drawImage(this.fontSheet,
10*this.fontSize.x,0,this.fontSize.x,this.fontSize.y,b,c,this.fontSize.x,this.fontSize.y);b-=this.fontSize.x;ig.system.context.drawImage(this.fontSheet,Math.floor(a/60)%10*this.fontSize.x,0,this.fontSize.x,this.fontSize.y,b,c,this.fontSize.x,this.fontSize.y);10>a/60||(b-=this.fontSize.x,ig.system.context.drawImage(this.fontSheet,Math.floor(a/600)*this.fontSize.x,0,this.fontSize.x,this.fontSize.y,b,c,this.fontSize.x,this.fontSize.y))}}})});ig.baked=!0;
ig.module("game.levels.game").requires("impact.image","game.entities.brain","game.entities.button-pause","game.entities.game-time","game.entities.pointer-selector","game.entities.count-down").defines(function(){LevelGame={entities:[{type:"EntityBrain",x:-40,y:40},{type:"EntityButtonPause",x:428,y:8},{type:"EntityGameTime",x:4,y:4},{type:"EntityPointerSelector",x:-20,y:-20},{type:"EntityCountDown",x:0,y:0}],layer:[{name:"BG",width:60,height:80,linkWithCollision:!1,visible:1,tilesetName:"http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/backgrounds/background.jpg",
repeat:!1,preRender:!0,distance:"1",tilesize:8,foreground:!1,data:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],[61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,
136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180],[181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240],[241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,
261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300],[301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360],[361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,
386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420],[421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480],[481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,
511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540],[541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600],[601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,
636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660],[661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720],[721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,
761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780],[781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840],[841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,
886,887,888,889,890,891,892,893,894,895,896,897,898,899,900],[901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960],[961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,988,989,990,991,992,993,994,995,996,997,998,999,1E3,1001,1002,1003,1004,1005,1006,1007,1008,
1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020],[1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080],[1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,
1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1120,1121,1122,1123,1124,1125,1126,1127,1128,1129,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140],[1141,1142,1143,1144,1145,1146,1147,1148,1149,1150,1151,1152,1153,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1168,1169,1170,1171,1172,1173,1174,1175,1176,1177,1178,1179,1180,1181,1182,1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1193,1194,1195,1196,1197,1198,1199,1200],[1201,1202,1203,1204,1205,1206,1207,1208,
1209,1210,1211,1212,1213,1214,1215,1216,1217,1218,1219,1220,1221,1222,1223,1224,1225,1226,1227,1228,1229,1230,1231,1232,1233,1234,1235,1236,1237,1238,1239,1240,1241,1242,1243,1244,1245,1246,1247,1248,1249,1250,1251,1252,1253,1254,1255,1256,1257,1258,1259,1260],[1261,1262,1263,1264,1265,1266,1267,1268,1269,1270,1271,1272,1273,1274,1275,1276,1277,1278,1279,1280,1281,1282,1283,1284,1285,1286,1287,1288,1289,1290,1291,1292,1293,1294,1295,1296,1297,1298,1299,1300,1301,1302,1303,1304,1305,1306,1307,1308,
1309,1310,1311,1312,1313,1314,1315,1316,1317,1318,1319,1320],[1321,1322,1323,1324,1325,1326,1327,1328,1329,1330,1331,1332,1333,1334,1335,1336,1337,1338,1339,1340,1341,1342,1343,1344,1345,1346,1347,1348,1349,1350,1351,1352,1353,1354,1355,1356,1357,1358,1359,1360,1361,1362,1363,1364,1365,1366,1367,1368,1369,1370,1371,1372,1373,1374,1375,1376,1377,1378,1379,1380],[1381,1382,1383,1384,1385,1386,1387,1388,1389,1390,1391,1392,1393,1394,1395,1396,1397,1398,1399,1400,1401,1402,1403,1404,1405,1406,1407,1408,
1409,1410,1411,1412,1413,1414,1415,1416,1417,1418,1419,1420,1421,1422,1423,1424,1425,1426,1427,1428,1429,1430,1431,1432,1433,1434,1435,1436,1437,1438,1439,1440],[1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452,1453,1454,1455,1456,1457,1458,1459,1460,1461,1462,1463,1464,1465,1466,1467,1468,1469,1470,1471,1472,1473,1474,1475,1476,1477,1478,1479,1480,1481,1482,1483,1484,1485,1486,1487,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500],[1501,1502,1503,1504,1505,1506,1507,1508,
1509,1510,1511,1512,1513,1514,1515,1516,1517,1518,1519,1520,1521,1522,1523,1524,1525,1526,1527,1528,1529,1530,1531,1532,1533,1534,1535,1536,1537,1538,1539,1540,1541,1542,1543,1544,1545,1546,1547,1548,1549,1550,1551,1552,1553,1554,1555,1556,1557,1558,1559,1560],[1561,1562,1563,1564,1565,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,
1609,1610,1611,1612,1613,1614,1615,1616,1617,1618,1619,1620],[1621,1622,1623,1624,1625,1626,1627,1628,1629,1630,1631,1632,1633,1634,1635,1636,1637,1638,1639,1640,1641,1642,1643,1644,1645,1646,1647,1648,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680],[1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,
1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740],[1741,1742,1743,1744,1745,1746,1747,1748,1749,1750,1751,1752,1753,1754,1755,1756,1757,1758,1759,1760,1761,1762,1763,1764,1765,1766,1767,1768,1769,1770,1771,1772,1773,1774,1775,1776,1777,1778,1779,1780,1781,1782,1783,1784,1785,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800],[1801,1802,1803,1804,1805,1806,1807,1808,
1809,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1840,1841,1842,1843,1844,1845,1846,1847,1848,1849,1850,1851,1852,1853,1854,1855,1856,1857,1858,1859,1860],[1861,1862,1863,1864,1865,1866,1867,1868,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,
1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920],[1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980],[1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,
2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030,2031,2032,2033,2034,2035,2036,2037,2038,2039,2040],[2041,2042,2043,2044,2045,2046,2047,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2070,2071,2072,2073,2074,2075,2076,2077,2078,2079,2080,2081,2082,2083,2084,2085,2086,2087,2088,2089,2090,2091,2092,2093,2094,2095,2096,2097,2098,2099,2100],[2101,2102,2103,2104,2105,2106,2107,2108,
2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2137,2138,2139,2140,2141,2142,2143,2144,2145,2146,2147,2148,2149,2150,2151,2152,2153,2154,2155,2156,2157,2158,2159,2160],[2161,2162,2163,2164,2165,2166,2167,2168,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2181,2182,2183,2184,2185,2186,2187,2188,2189,2190,2191,2192,2193,2194,2195,2196,2197,2198,2199,2200,2201,2202,2203,2204,2205,2206,2207,2208,
2209,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220],[2221,2222,2223,2224,2225,2226,2227,2228,2229,2230,2231,2232,2233,2234,2235,2236,2237,2238,2239,2240,2241,2242,2243,2244,2245,2246,2247,2248,2249,2250,2251,2252,2253,2254,2255,2256,2257,2258,2259,2260,2261,2262,2263,2264,2265,2266,2267,2268,2269,2270,2271,2272,2273,2274,2275,2276,2277,2278,2279,2280],[2281,2282,2283,2284,2285,2286,2287,2288,2289,2290,2291,2292,2293,2294,2295,2296,2297,2298,2299,2300,2301,2302,2303,2304,2305,2306,2307,2308,
2309,2310,2311,2312,2313,2314,2315,2316,2317,2318,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340],[2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400],[2401,2402,2403,2404,2405,2406,2407,2408,
2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460],[2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,
2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520],[2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2550,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580],[2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,
2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640],[2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700],[2701,2702,2703,2704,2705,2706,2707,2708,
2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2736,2737,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2759,2760],[2761,2762,2763,2764,2765,2766,2767,2768,2769,2770,2771,2772,2773,2774,2775,2776,2777,2778,2779,2780,2781,2782,2783,2784,2785,2786,2787,2788,2789,2790,2791,2792,2793,2794,2795,2796,2797,2798,2799,2800,2801,2802,2803,2804,2805,2806,2807,2808,
2809,2810,2811,2812,2813,2814,2815,2816,2817,2818,2819,2820],[2821,2822,2823,2824,2825,2826,2827,2828,2829,2830,2831,2832,2833,2834,2835,2836,2837,2838,2839,2840,2841,2842,2843,2844,2845,2846,2847,2848,2849,2850,2851,2852,2853,2854,2855,2856,2857,2858,2859,2860,2861,2862,2863,2864,2865,2866,2867,2868,2869,2870,2871,2872,2873,2874,2875,2876,2877,2878,2879,2880],[2881,2882,2883,2884,2885,2886,2887,2888,2889,2890,2891,2892,2893,2894,2895,2896,2897,2898,2899,2900,2901,2902,2903,2904,2905,2906,2907,2908,
2909,2910,2911,2912,2913,2914,2915,2916,2917,2918,2919,2920,2921,2922,2923,2924,2925,2926,2927,2928,2929,2930,2931,2932,2933,2934,2935,2936,2937,2938,2939,2940],[2941,2942,2943,2944,2945,2946,2947,2948,2949,2950,2951,2952,2953,2954,2955,2956,2957,2958,2959,2960,2961,2962,2963,2964,2965,2966,2967,2968,2969,2970,2971,2972,2973,2974,2975,2976,2977,2978,2979,2980,2981,2982,2983,2984,2985,2986,2987,2988,2989,2990,2991,2992,2993,2994,2995,2996,2997,2998,2999,3E3],[3001,3002,3003,3004,3005,3006,3007,3008,
3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3031,3032,3033,3034,3035,3036,3037,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3052,3053,3054,3055,3056,3057,3058,3059,3060],[3061,3062,3063,3064,3065,3066,3067,3068,3069,3070,3071,3072,3073,3074,3075,3076,3077,3078,3079,3080,3081,3082,3083,3084,3085,3086,3087,3088,3089,3090,3091,3092,3093,3094,3095,3096,3097,3098,3099,3100,3101,3102,3103,3104,3105,3106,3107,3108,
3109,3110,3111,3112,3113,3114,3115,3116,3117,3118,3119,3120],[3121,3122,3123,3124,3125,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3141,3142,3143,3144,3145,3146,3147,3148,3149,3150,3151,3152,3153,3154,3155,3156,3157,3158,3159,3160,3161,3162,3163,3164,3165,3166,3167,3168,3169,3170,3171,3172,3173,3174,3175,3176,3177,3178,3179,3180],[3181,3182,3183,3184,3185,3186,3187,3188,3189,3190,3191,3192,3193,3194,3195,3196,3197,3198,3199,3200,3201,3202,3203,3204,3205,3206,3207,3208,
3209,3210,3211,3212,3213,3214,3215,3216,3217,3218,3219,3220,3221,3222,3223,3224,3225,3226,3227,3228,3229,3230,3231,3232,3233,3234,3235,3236,3237,3238,3239,3240],[3241,3242,3243,3244,3245,3246,3247,3248,3249,3250,3251,3252,3253,3254,3255,3256,3257,3258,3259,3260,3261,3262,3263,3264,3265,3266,3267,3268,3269,3270,3271,3272,3273,3274,3275,3276,3277,3278,3279,3280,3281,3282,3283,3284,3285,3286,3287,3288,3289,3290,3291,3292,3293,3294,3295,3296,3297,3298,3299,3300],[3301,3302,3303,3304,3305,3306,3307,3308,
3309,3310,3311,3312,3313,3314,3315,3316,3317,3318,3319,3320,3321,3322,3323,3324,3325,3326,3327,3328,3329,3330,3331,3332,3333,3334,3335,3336,3337,3338,3339,3340,3341,3342,3343,3344,3345,3346,3347,3348,3349,3350,3351,3352,3353,3354,3355,3356,3357,3358,3359,3360],[3361,3362,3363,3364,3365,3366,3367,3368,3369,3370,3371,3372,3373,3374,3375,3376,3377,3378,3379,3380,3381,3382,3383,3384,3385,3386,3387,3388,3389,3390,3391,3392,3393,3394,3395,3396,3397,3398,3399,3400,3401,3402,3403,3404,3405,3406,3407,3408,
3409,3410,3411,3412,3413,3414,3415,3416,3417,3418,3419,3420],[3421,3422,3423,3424,3425,3426,3427,3428,3429,3430,3431,3432,3433,3434,3435,3436,3437,3438,3439,3440,3441,3442,3443,3444,3445,3446,3447,3448,3449,3450,3451,3452,3453,3454,3455,3456,3457,3458,3459,3460,3461,3462,3463,3464,3465,3466,3467,3468,3469,3470,3471,3472,3473,3474,3475,3476,3477,3478,3479,3480],[3481,3482,3483,3484,3485,3486,3487,3488,3489,3490,3491,3492,3493,3494,3495,3496,3497,3498,3499,3500,3501,3502,3503,3504,3505,3506,3507,3508,
3509,3510,3511,3512,3513,3514,3515,3516,3517,3518,3519,3520,3521,3522,3523,3524,3525,3526,3527,3528,3529,3530,3531,3532,3533,3534,3535,3536,3537,3538,3539,3540],[3541,3542,3543,3544,3545,3546,3547,3548,3549,3550,3551,3552,3553,3554,3555,3556,3557,3558,3559,3560,3561,3562,3563,3564,3565,3566,3567,3568,3569,3570,3571,3572,3573,3574,3575,3576,3577,3578,3579,3580,3581,3582,3583,3584,3585,3586,3587,3588,3589,3590,3591,3592,3593,3594,3595,3596,3597,3598,3599,3600],[3601,3602,3603,3604,3605,3606,3607,3608,
3609,3610,3611,3612,3613,3614,3615,3616,3617,3618,3619,3620,3621,3622,3623,3624,3625,3626,3627,3628,3629,3630,3631,3632,3633,3634,3635,3636,3637,3638,3639,3640,3641,3642,3643,3644,3645,3646,3647,3648,3649,3650,3651,3652,3653,3654,3655,3656,3657,3658,3659,3660],[3661,3662,3663,3664,3665,3666,3667,3668,3669,3670,3671,3672,3673,3674,3675,3676,3677,3678,3679,3680,3681,3682,3683,3684,3685,3686,3687,3688,3689,3690,3691,3692,3693,3694,3695,3696,3697,3698,3699,3700,3701,3702,3703,3704,3705,3706,3707,3708,
3709,3710,3711,3712,3713,3714,3715,3716,3717,3718,3719,3720],[3721,3722,3723,3724,3725,3726,3727,3728,3729,3730,3731,3732,3733,3734,3735,3736,3737,3738,3739,3740,3741,3742,3743,3744,3745,3746,3747,3748,3749,3750,3751,3752,3753,3754,3755,3756,3757,3758,3759,3760,3761,3762,3763,3764,3765,3766,3767,3768,3769,3770,3771,3772,3773,3774,3775,3776,3777,3778,3779,3780],[3781,3782,3783,3784,3785,3786,3787,3788,3789,3790,3791,3792,3793,3794,3795,3796,3797,3798,3799,3800,3801,3802,3803,3804,3805,3806,3807,3808,
3809,3810,3811,3812,3813,3814,3815,3816,3817,3818,3819,3820,3821,3822,3823,3824,3825,3826,3827,3828,3829,3830,3831,3832,3833,3834,3835,3836,3837,3838,3839,3840],[3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3853,3854,3855,3856,3857,3858,3859,3860,3861,3862,3863,3864,3865,3866,3867,3868,3869,3870,3871,3872,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3886,3887,3888,3889,3890,3891,3892,3893,3894,3895,3896,3897,3898,3899,3900],[3901,3902,3903,3904,3905,3906,3907,3908,
3909,3910,3911,3912,3913,3914,3915,3916,3917,3918,3919,3920,3921,3922,3923,3924,3925,3926,3927,3928,3929,3930,3931,3932,3933,3934,3935,3936,3937,3938,3939,3940,3941,3942,3943,3944,3945,3946,3947,3948,3949,3950,3951,3952,3953,3954,3955,3956,3957,3958,3959,3960],[3961,3962,3963,3964,3965,3966,3967,3968,3969,3970,3971,3972,3973,3974,3975,3976,3977,3978,3979,3980,3981,3982,3983,3984,3985,3986,3987,3988,3989,3990,3991,3992,3993,3994,3995,3996,3997,3998,3999,4E3,4001,4002,4003,4004,4005,4006,4007,4008,
4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020],[4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4039,4040,4041,4042,4043,4044,4045,4046,4047,4048,4049,4050,4051,4052,4053,4054,4055,4056,4057,4058,4059,4060,4061,4062,4063,4064,4065,4066,4067,4068,4069,4070,4071,4072,4073,4074,4075,4076,4077,4078,4079,4080],[4081,4082,4083,4084,4085,4086,4087,4088,4089,4090,4091,4092,4093,4094,4095,4096,4097,4098,4099,4100,4101,4102,4103,4104,4105,4106,4107,4108,
4109,4110,4111,4112,4113,4114,4115,4116,4117,4118,4119,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140],[4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4177,4178,4179,4180,4181,4182,4183,4184,4185,4186,4187,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200],[4201,4202,4203,4204,4205,4206,4207,4208,
4209,4210,4211,4212,4213,4214,4215,4216,4217,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4258,4259,4260],[4261,4262,4263,4264,4265,4266,4267,4268,4269,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4290,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4305,4306,4307,4308,
4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4320],[4321,4322,4323,4324,4325,4326,4327,4328,4329,4330,4331,4332,4333,4334,4335,4336,4337,4338,4339,4340,4341,4342,4343,4344,4345,4346,4347,4348,4349,4350,4351,4352,4353,4354,4355,4356,4357,4358,4359,4360,4361,4362,4363,4364,4365,4366,4367,4368,4369,4370,4371,4372,4373,4374,4375,4376,4377,4378,4379,4380],[4381,4382,4383,4384,4385,4386,4387,4388,4389,4390,4391,4392,4393,4394,4395,4396,4397,4398,4399,4400,4401,4402,4403,4404,4405,4406,4407,4408,
4409,4410,4411,4412,4413,4414,4415,4416,4417,4418,4419,4420,4421,4422,4423,4424,4425,4426,4427,4428,4429,4430,4431,4432,4433,4434,4435,4436,4437,4438,4439,4440],[4441,4442,4443,4444,4445,4446,4447,4448,4449,4450,4451,4452,4453,4454,4455,4456,4457,4458,4459,4460,4461,4462,4463,4464,4465,4466,4467,4468,4469,4470,4471,4472,4473,4474,4475,4476,4477,4478,4479,4480,4481,4482,4483,4484,4485,4486,4487,4488,4489,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500],[4501,4502,4503,4504,4505,4506,4507,4508,
4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4556,4557,4558,4559,4560],[4561,4562,4563,4564,4565,4566,4567,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4590,4591,4592,4593,4594,4595,4596,4597,4598,4599,4600,4601,4602,4603,4604,4605,4606,4607,4608,
4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620],[4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4647,4648,4649,4650,4651,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680],[4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,
4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740],[4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800]]}]};LevelGameResources=[new ig.Image("../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/backgrounds/background.jpg")]});
ig.baked=!0;ig.module("game.levels.tutorial").requires("impact.image","game.entities.brain-tutorial","game.entities.pointer-selector").defines(function(){LevelTutorial={entities:[{type:"EntityBrainTutorial",x:-28,y:-28},{type:"EntityPointerSelector",x:504,y:180}],layer:[]}});ig.baked=!0;
ig.module("game.main").requires("impact.game","plugins.splash-loader","plugins.tween","plugins.url-parameters","plugins.jukebox","plugins.director","plugins.impact-storage","plugins.customer-settings","game.entities.opening","game.entities.pointer","game.entities.pointer-selector","game.entities.select","game.entities.brain-tutorial","game.entities.button-arrow","game.entities.brain","game.entities.count-down","game.entities.customer","game.entities.piece","game.entities.text-combo","game.entities.text-attack",
"game.entities.sparkle","game.entities.sushi-sparkle","game.entities.stage-clear","game.entities.stage-fail","game.entities.button-again","game.entities.button-home","game.entities.button-back","game.entities.button-start","game.entities.button-tutorial","game.entities.button-more-games","game.entities.button-pause","game.entities.pause-menu","game.levels.opening","game.levels.home","game.levels.game","game.levels.tutorial").defines(function(){this.MJSSOB;MyGame=ig.Game.extend({init:function(){this.initSfx();
this.setupControls();this.setupDesktopMusic();this.setupLocalStorage();this.removeLoadingWheel();this.injectMobileLink();this.setupURLParameters();this.setupCustomerSettings();this.finalize()},initSfx:function(){ig.game.staticSound=new Howl({urls:["http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/play/static.ogg","http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/play/static.mp3"]});ig.game.openingSound=new Howl({urls:["http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/opening/kittyopening.ogg","http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/opening/kittyopening.mp3"]});
ig.game.startSound=new Howl({urls:["http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/start.ogg","http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/start.mp3"]});ig.game.attackedSound=new Howl({urls:["http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/attacked.ogg","http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/attacked.mp3"]});ig.game.comboSound=new Howl({urls:["http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/combo.ogg","http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/combo.mp3"]});ig.game.failSound=new Howl({urls:["http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/fail.ogg","http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/fail.mp3"]});
ig.game.releaseSound=new Howl({urls:["http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/release.ogg","http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/release.mp3"]});ig.game.matchSound=new Howl({urls:["http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/match.ogg","http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/match.mp3"]});ig.game.serveSound=new Howl({urls:["http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/serve.ogg","http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/serve.mp3"]});ig.game.thankyouSound=new Howl({urls:["http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/thankyou.ogg","http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/thankyou.mp3"]});
ig.game.welcomeSound=new Howl({urls:["http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/welcome.ogg","http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/welcome.mp3"]})},finalize:function(){ig.ua.mobile?ig.game.showOverlay(["play"]):_SETTINGS.Branding.Splash.Enabled?ig.game.showOverlay(["play"]):ig.game.startGame();sizeHandler()},injectMobileLink:function(){$("#play").attr("onclick","ig.game.setupJukebox();ig.game.pressPlay();ig.game.staticSound.play();")},removeLoadingWheel:function(){try{$("#ajaxbar").css("background","none")}catch(a){console.log(a)}},
showDebugMenu:function(){console.log("showing debug menu ...");ig.Entity._debugShowBoxes=!0;$(".ig_debug").show()},setupLocalStorage:function(){this.storage=new ig.Storage},setupCustomerSettings:function(){console.log("setting up Customer ...");this.customers=new ig.CustomerSettings},setupDesktopMusic:function(){ig.music.add("http://cdn.marketjs.net/games/sushi-challenge/localization/en/media/audio/bgm.*","background")},startGame:function(){this.resetPlayerStats();this.director=new ig.Director(this,[LevelOpening,LevelHome,LevelTutorial,
LevelGame]);if(_SETTINGS.Branding.Splash.Enabled)try{this.branding=new ig.BrandingSplash}catch(a){console.log(a),console.log("Loading original levels ..."),this.director.loadLevel(this.director.currentLevel)}else this.director.loadLevel(this.director.currentLevel);this.playBackgroundMusic()},restartGame:function(){for(var a=ig.game.director.levels.length;a--;)if(ig.game.director.levels[a]===LevelGame){ig.game.director.loadLevel(a);break}},startTutorial:function(){for(var a=ig.game.director.levels.length;a--;)if(ig.game.director.levels[a]===
LevelTutorial){ig.game.director.loadLevel(a);break}},playBackgroundMusic:function(){ig.ua.mobile?this.pausePosition?ig.game.jukebox.player.resume(this.pausePosition):ig.game.jukebox.player.resume(0):ig.music.play()},stopBackgroundMusic:function(){ig.ua.mobile?this.pausePosition=ig.game.jukebox.player.pause():ig.music.pause()},fpsMultiplierFunction:function(){this.fpsTimer||(this.fpsTimer=new ig.Timer(1*ig.Timer.timeScale));this.fpsTimer&&0>this.fpsTimer.delta()?null!=this.fpsCounter?this.fpsCounter++:
this.fpsCounter=0:(ig.game.fps=this.fpsCounter,31>ig.game.fps?(ig.Timer.timeScale=0.75*(60/ig.game.fps),ig.game.fpsMultiplier=0.75*(60/ig.game.fps)):(ig.Timer.timeScale=1,ig.game.fpsMultiplier=1),this.fpsCounter=0,this.fpsTimer.set(1*ig.Timer.timeScale),this.fpsTimer.reset())},endGame:function(){console.log("End game")},resetPlayerStats:function(){ig.log("resetting player stats ...");this.playerStats={id:this.playerStats?this.playerStats.id:null}},setupControls:function(){ig.input.unbindAll();ig.input.initMouse();
ig.input.bind(ig.KEY.MOUSE1,"click")},setupJukebox:function(){ig.ua.mobile&&(this.jukebox=new ig.Jukebox)},setupURLParameters:function(){this.setupURLParameters=new ig.UrlParameters},pressPlay:function(){this.hideOverlay(["play"]);this.startGame()},pauseGame:function(){0<ig.game.getEntitiesByType(EntityBrain).length&&(ig.system.stopRunLoop.call(ig.system),console.log("Game Paused"),$("#pause").show())},resumeGame:function(){var a=ig.game.getEntitiesByType(EntityBrain);0<a.length&&(a[0].resumeGame(),
ig.system.startRunLoop.call(ig.system),console.log("Game Resumed"),$("#pause").hide())},pressMute:function(){ig.Sound.enabled?($("#btn-mute").attr("src","../cdn.marketjs.net/games/sushi-challenge/localization/en/media/buttons/button-sound-off3.html"),this.mute()):($("#btn-mute").attr("src","../cdn.marketjs.net/games/sushi-challenge/localization/en/media/buttons/button-sound-on3.html"),this.unmute())},mute:function(a){a||(ig.game.muted=!0);ig.ua.mobile?ig.game.jukebox.player.pause():(ig.soundManager.volume=0,ig.music.volume=0)},unmute:function(a){if(!a||!ig.game.muted)ig.game.muted=
!1,ig.ua.mobile?ig.game.jukebox.player.resume():(ig.soundManager.volume=1,ig.music.volume=1)},showOverlay:function(a){for(i=0;i<a.length;i++)$("#"+a[i]).show(),document.getElementById(a[i]).style.visibility="visible"},hideOverlay:function(a){for(i=0;i<a.length;i++)$("#"+a[i]).hide(),document.getElementById(a[i]).style.visibility="hidden"},stopAllSounds:function(){for(i=0;i<ig.resources.length;i++)ig.resources[i].multiChannel&&ig.resources[i].stop();console.log("all sounds stopped")},update:function(){if(this.paused)for(var a=
0;a<this.entities.length;a++)this.entities[a].ignorePause&&this.entities[a].update();else this.parent()}});var a=getQueryVariable("device");if(a)switch(a){case "mobile":console.log("serving mobile version ...");ig.ua.mobile=!0;break;case "desktop":console.log("serving desktop version ...");ig.ua.mobile=!1;break;default:console.log("serving universal version ...")}else console.log("serving universal version ...");if(a=getQueryVariable("force-rotate"))switch(a){case "portrait":console.log("force rotate to portrait");
window.orientation=0;break;case "landscape":console.log("force rotate to horizontal");window.orientation=90;break;default:alert("wrong command/type in param force-rotate. Defaulting value to portrait"),window.orientation=0}ig.ua.mobile?(ig.Sound.enabled=!1,ig.main("#canvas",MyGame,60,mobileWidth,mobileHeight,1,ig.SplashLoader)):ig.main("#canvas",MyGame,60,desktopWidth,desktopHeight,1,ig.SplashLoader);ig.ua.mobile&&orientationHandler();sizeHandler();fixSamsungHandler();this.MJSEOB});
</script> 
</head>
<body onload="setTimeout(window.scrollTo(0,1),1);">
	<div id="pause" onclick="ig.game.resumeGame();"></div> 
	<div id="ajaxbar"> 
		<div id="game"><canvas id="canvas"></canvas></div>
	
		<div id="orientate"><img src="../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/orientate/landscape.jpg" /></div>
		<div id="play" class="play" onclick=""><img src="../cdn.marketjs.net/games/sushi-challenge/localization/en/media/graphics/splash/mobile/cover-start.jpg" /></div>	
	</div>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-117180225-25"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-117180225-25');

_SETTINGS.MoreGames.NewWindow=false;

</script>
</body>

<!-- Mirrored from smartfun.club/serve?portal_id=5763614147346432&game_id=4710043011252224&branding_id=5734046899372032&ad_id=4865470182195200&portal_localization_id=5092721263902720 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Sep 2023 14:10:53 GMT -->
</html>
