<!DOCTYPE html>
<html>


<!-- Mirrored from smartfun.club/serve?portal_id=5763614147346432&game_id=5621826651684864&branding_id=5734046899372032&ad_id=4865470182195200&portal_localization_id=5092721263902720 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Sep 2023 14:13:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
	<title>Skeleton Defense</title>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<link rel="icon" type="image/x-icon" href="http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/favicon.ico" />
	<meta name="viewport" content="width=device-width,height=device-height, initial-scale=1, maximum-scale=1, user-scalable=0, minimal-ui" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<script type="text/javascript" src="../whitelabel-cdn.marketjs.com/jquery.min.js"></script>
	<script type="text/javascript" src="../s3-ap-southeast-1.amazonaws.com/marketjs-lab3/en/fullscreen-patch/patch/fullscreen-patch.js"></script>
	<script type="text/javascript">
		var fullscreenPatchButtonPlacements = {
			button1: {
				levelNumber: 1,
				x: 570,
				y: 560,
				width: 50,
				height: 50
			}
		};
	</script>
	<style>html,body{background-color:#000;margin:0;padding:0;position:relative;font-family:"Arial";width:100%}#pause{position:absolute;float:left;width:100%;height:100%;top:0;left:0;z-index:99999;display:none;font-size:2em;text-align:center;background:rgba(0,0,0,0.2);color:#fff}#game{position:absolute;left:0;top:0;z-index:0}#ajaxbar{background:url('../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/loading/ajax-loader.gif') center no-repeat}#canvas{position:absolute;left:0;top:0;width:100%;height:100%;-ms-interpolation-mode:nearest-neighbor;-webkit-transform:scale3d(1,1,1);z-index:1}#orientate{position:absolute;float:left;width:100%;height:100%;top:0;left:0;z-index:10002;display:none}#orientate img{position:absolute;float:left;width:100%;height:100%}@font-face{font-family:'cloudy';src:url('http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/text/amcapternal.ttf'),url('http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/text/amcapternal.woff')}#scrollDown{border-style:none;height:0;width:0;right:0;top:0;position:absolute;z-index:12000}.play{position:absolute;float:left;width:100%;height:100%;z-index:1000;background-color:#fff;left:0;top:0;display:none}.play img{position:absolute;float:left;width:100%;height:100%;z-index:1000;left:0;top:0}#nohtml5{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000;z-index:1002;visibility:hidden}#nohtml5 img{position:absolute;width:100%;height:100%}#nohtml5-bubble{position:absolute;bottom:20px;left:50px;width:380px;height:100px;z-index:1002;color:#000;background:rgba(255,255,255,0.75);-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px}#nohtml5-text{padding:10px}.horizontal-seperator{height:10px;width:100%}.ig_debug{position:fixed;left:0;bottom:0;width:100%;background-color:#000;border-top:2px solid #f57401;font-size:12px;color:#fff;z-index:1000;-webkit-user-select:none;display:none}.ig_debug_panel_menu{height:28px;background:#222;background:-webkit-gradient(linear,left bottom,left top,color-stop(0,#000),color-stop(1,#333));background:-moz-linear-gradient(center bottom,#000 0,#333 100%);background:-o-linear-gradient(#333,#000)}.ig_debug_panel_menu div{float:left;height:22px;padding:6px 8px 0 8px;border-right:1px solid #333}.ig_debug_panel_menu .ig_debug_head{font-weight:bold;color:#888}.ig_debug_menu_item:hover{cursor:pointer;background-color:#fff;color:#000}.ig_debug_menu_item.active,.ig_debug_menu_item.active:hover{background-color:#000;color:#fff}.ig_debug_stats{position:absolute;right:0;top:0;float:right;color:#888;border-left:1px solid #333;text-align:right}.ig_debug_stats span{width:3em;display:inline-block;color:#fff !important;margin-right:.2em;margin-left:.3em;font-family:bitstream vera sans mono,courier new;white-space:nowrap}.ig_debug_panel{height:152px;overflow:auto;position:relative}.ig_debug_panel canvas{border-bottom:1px solid #444}.ig_debug_panel .ig_debug_panel{padding:8px;height:auto;float:left;background-color:#000;border-right:2px solid #222}.ig_debug_option{padding:2px 0 2px 8px;cursor:pointer}.ig_debug_option:first-child{margin-top:8px}.ig_debug_option:hover{background-color:#111}.ig_debug_graph_mark{position:absolute;color:#888;left:4px;font-size:10px;margin-top:-12px}.ig_debug_legend{color:#ccc}.ig_debug_label_mark{display:inline-block;width:10px;height:10px;margin-right:4px;-webkit-transition:.1s linear;-moz-transition:.1s linear}.ig_debug_legend_color{display:inline-block;width:6px;height:10px;margin-right:4px;margin-left:16px}.ig_debug_legend_number{width:3em;display:inline-block;text-align:right;font-family:bitstream vera sans mono,courier new;color:#fff;margin-right:.2em}.ig_debug_map_container{position:relative;overflow:hidden;border:1px solid #888}.ig_debug_map_container canvas{position:absolute}.ig_debug_map_screen{position:absolute;border:1px solid #f0f}</style>
	<!-- APICode -->
<!-- In Game Preroll Structure Template here --><div id='AdInGamePreroll'><div id='AdInGamePreroll-Box'><div id='AdInGamePreroll-Box-Header'></div><a id='AdInGamePreroll-Box-Close' onclick='AdInGamePreroll.Close();'></a><div id='AdInGamePreroll-Box-Body'><center></center></div><div id='AdInGamePreroll-Box-Footer'></div></div></div><!-- In Game Endgame Structure Template here --><div id='AdInGameEndgame'><div id='AdInGameEndgame-Box'><div id='AdInGameEndgame-Box-Header'></div><a id='AdInGameEndgame-Box-Close' onclick='AdInGameEndgame.Close();'></a><div id='AdInGameEndgame-Box-Body'><center></center></div><div id='AdInGameEndgame-Box-Footer'></div></div></div><!-- In Game Endgame Structure Template here --><div id='AdInGameEndgame'><div id='AdInGameEndgame-Box'><div id='AdInGameEndgame-Box-Header'></div><a id='AdInGameEndgame-Box-Close' onclick='AdInGameEndgame.Close();'></a><div id='AdInGameEndgame-Box-Body'><center></center></div><div id='AdInGameEndgame-Box-Footer'></div></div></div>
<script type='text/javascript'>// Setup
function getQueryVariable(variable) {
    var query = window.location.search.substring(1); // search in parent
    var vars = query.split('&');
    for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split('=');
        if (decodeURIComponent(pair[0]) == variable) {
            return decodeURIComponent(pair[1]);
        }
    }
}

var mjs_game_id = getQueryVariable('game_id')
var mjs_portal_id = getQueryVariable('portal_id')
var mjs_branding_id = getQueryVariable('branding_id')
var mjs_ad_id = getQueryVariable('ad_id')

console.log('mjs_game_id:',mjs_game_id)
console.log('mjs_portal_id:',mjs_portal_id)
console.log('mjs_branding_id:',mjs_branding_id)
console.log('mjs_ad_id:',mjs_ad_id)

//Base structure in script form
var css = "";
css+= "html,body,#sticky-container{margin:0;height:100%;color:#000;background:#e3f2fc;font-size:1.2em;font-family:Helvetica,Arial,sans-serif}#sticky-container{height:auto;min-height:100%}#sticky-footer{clear:both;position:relative;z-index:10}h1{padding:0;margin:0}h2{font-size:1.2em;padding:0;margin:0}h3{font-size:.8em;padding:0;margin:0}a{color:#128ccb}a.hover{color:#128ccb}.button{font-size:1em;font-weight:normal;-moz-border-radius:.5em;-webkit-border-radius:.5em;border-radius:.5em;padding:.5em 1em;text-decoration:none;color:#fff;background-color:#fbd305;display:inline-block}.button:hover{background-color:#fbd305;color:#fff;text-decoration:none !important}.button:active{position:relative;top:.05em}.button-large{font-size:2em}input[type=submit]{border:0}.valid{font-size:.8em;color:#1bdc24}.error{font-size:.8em;color:#ea1313;margin-top:.2em;margin-bottom:.5em;display:block}.tip{color:#ccc;font-size:.8em}.borderless{border:none !important}.pull-right{text-align:right}.padding-side{padding:0 1em 0 1em}.padding-side-small{padding:0 .5em 0 .5em}.padding-side-medium{padding:0 1.5em 0 1.5em}.container{clear:both;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-left:0 solid #ccc;border-right:0 solid #ccc;min-height:100%}.container-shadow{-webkit-box-shadow:5px 0 5px -2px #ccc,-5px 0 5px -2px #ccc;box-shadow:5px 0 5px -2px #ccc,-5px 0 5px -2px #ccc}.overlay-container-basic{background:rgba(0,0,0,0.4);width:100%;height:100%;min-height:100%;position:fixed;top:0;left:0;z-index:10004;display:none}.overlay-container{background:rgba(0,0,0,0.4);width:100%;height:100%;min-height:100%;position:fixed;top:0;left:0;z-index:10005;display:none}.overlay-container img{position:fixed;top:50%;left:50%}.horizontal-seperator{height:1em;width:100%}.horizontal-seperator-small{height:.5em;width:100%}.horizontal-seperator-line{width:100%;border-bottom:1px solid #ccc;margin-top:.2em;margin-bottom:.2em}.section{clear:both;margin:0}.inner_section{clear:both;margin:0}.col{display:block;float:left;margin:0}.col:first-child{margin-left:0}.group:before,.group:after{content:'';display:table}.group:after{clear:both}.group{zoom:1}.span_4_of_4{width:100%}.span_3_of_4{width:74.6%}.span_2_of_4{width:49.2%}.span_1_of_4{width:23.8%}.span_3_of_3{width:100%}.span_2_of_3{width:76.1%}.span_1_of_3{width:20.2%}.span_10_of_10{width:100%}.span_9_of_10{width:89.84%}.span_8_of_10{width:79.68%}.span_7_of_10{width:69.52%}.span_6_of_10{width:59.36%}.span_5_of_10{width:49.2%}.span_4_of_10{width:39.04%}.span_3_of_10{width:28.88%}.span_2_of_10{width:18.72%}.span_1_of_10{width:8.56%}.span_8_of_8{width:100%}.span_7_of_8{width:87.3%}.span_6_of_8{width:74.6%}.span_5_of_8{width:61.9%}.span_4_of_8{width:49.2%}.span_3_of_8{width:36.5%}.span_2_of_8{width:23.8%}.span_1_of_8{width:11.1%}.span_6_of_6{width:100%}.span_5_of_6{width:83.06%}.span_4_of_6{width:66.13%}.span_3_of_6{width:49.2%}.span_2_of_6{width:33.00%}.span_1_of_6{width:16.00%}.right_bar_module_span_2_of_6{width:100%}.overlay_span_middle{width:32.26%}.overlay_span_side{width:32.26%}@media only screen and (max-width:480px){.col{margin:1% 0 1% 0}.span_2_of_3{width:80%}.span_1_of_3{width:20%}.span_4_of_4{width:100%}.span_3_of_4{width:100%}.span_2_of_4{width:100%}.span_1_of_4{width:100%}.span_2_of_6{width:100%}.span_1_of_6{width:33%}.span_10_of_10{width:100%}.span_9_of_10{width:100%}.span_8_of_10{width:100%}.span_7_of_10{width:100%}.span_6_of_10{width:100%}.span_5_of_10{width:100%}.span_4_of_10{width:100%}.span_3_of_10{width:100%}.span_2_of_10{width:100%}.span_1_of_10{width:100%}.overlay_span_middle{width:100%}.overlay_span_side{width:100%}.container{margin:0}.navigation{line-height:1.8em;font-size:.8em}.css_btn_class{font-size:2em}.right_bar_module_span_2_of_6{width:100%}.box-action{margin:.2em}.featured-short-description{display:none}.box-more-games{height:140px !important}}@media only screen and (min-width:480px) and (max-width:768px){.span_2_of_3{width:80%}.span_1_of_3{width:20%}.span_6_of_10{width:50.0%}.span_4_of_10{width:50.0%}.span_7_of_10{width:100%}.span_2_of_10{width:100%}.span_3_of_10{width:100%}.span_2_of_6{width:50%}.navigation{line-height:2em}.right_bar_module_span_2_of_6{width:50%}.span_1_of_4{width:100%}.span_3_of_4{width:100%}.overlay_span_middle{width:50%}.overlay_span_side{width:25%}}@media only screen and (min-width :768px) and (max-width:1152px){.tablet-left{width:60%}.tablet-right{width:40%}.span_3_of_4{width:65%}.span_1_of_4{width:33%}.span_2_of_6{width:50.00%}.span_1_of_6{width:19.7%}.right_bar_module_span_2_of_6{width:100%}.overlay_span_middle{width:45%}.overlay_span_side{width:27.5%}.container{margin:0}.navigation{line-height:1.8em}.box-embed{width:92%}}@media only screen and (max-width:1165px){.AdPortalLeaderboard{display:none}}@media only screen and (max-width:1280px){.container{margin:0}.AdPortalSkyscraperLeft{display:none}.AdPortalSkyscraperRight{display:none}}@media only screen and (min-device-width :320px) and (max-device-width :568px) and (orientation :landscape){.span_6_of_10{width:60.0%}.span_4_of_10{width:40.0%}}";
css+= "/*BRANDING_IN_GAME_MENUBAR_THEME*/"; //can't fit in one line. Do we minify and remove all spaces?
css+= "/*BRANDING_IN_GAME_MENUBAR_USER_PANEL_LOGGED_THEME*/";
css+= "/*BRANDING_IN_GAME_MENUBAR_USER_PANEL_UNLOGGED_THEME*/";
css+= "/*BRANDING_IN_GAME_MENUBAR_LOGIN_THEME*/";
css+= "/*BRANDING_IN_GAME_MENUBAR_REGISTER_THEME*/";
css+= "/*BRANDING_IN_GAME_MENUBAR_LOGOUT_THEME*/";
css+= "/*BRANDING_IN_GAME_MENUBAR_LEADERBOARD_THEME*/";
css+= "/*BRANDING_CHANGE_USERNAME_THEME*/";
css+= "#AdInGamePreroll{position:absolute;float:left;min-width:320px;z-index:10000;left:0;top:0;display:none;background:rgba(0,0,0,0.7);-webkit-transition:all .6s ease;-moz-transition:all .6s ease;-o-transition:all .6s ease}#AdInGamePreroll-Box{z-index:10000;position:absolute;width:302px;height:250px}#AdInGamePreroll-Box-Body{z-index:10000;position:relative;background:transparent}#AdInGamePreroll-Box-Footer{z-index:10000;position:relative;font-size:11px;height:20px;color:#fff;background:transparent}#AdInGamePreroll-Box-Header{z-index:10000;position:relative;margin-top:-2px;font-size:11px;height:20px;text-align:right;color:#fff;background:transparent}#AdInGamePreroll-Box-Close{position:absolute;z-index:10005;background-image:url('static/test/images/ad/close-button.png');background-repeat:no-repeat;width:22px;height:22px;top:-4px;margin-right:-1px;display:none}";
css+= "#AdInGameEndgame{position:absolute;float:left;min-width:320px;z-index:10000;left:0;top:0;display:none;background:rgba(0,0,0,0.7);-webkit-transition:all .6s ease;-moz-transition:all .6s ease;-o-transition:all .6s ease}#AdInGameEndgame-Box{z-index:10000;position:absolute;width:302px;height:250px}#AdInGameEndgame-Box-Body{z-index:10000;position:relative;background:transparent}#AdInGameEndgame-Box-Footer{z-index:10000;position:relative;font-size:11px;height:20px;color:#fff;background:transparent}#AdInGameEndgame-Box-Header{z-index:10000;position:relative;margin-top:-2px;font-size:11px;height:20px;text-align:right;color:#fff;background:transparent}#AdInGameEndgame-Box-Close{position:absolute;z-index:10005;background-image:url('static/test/images/ad/close-button.png');background-repeat:no-repeat;width:22px;height:22px;top:-4px;margin-right:-1px;display:none}";

var html = "";
html+= "<!--BRANDING_IN_GAME_MENUBAR_STRUCTURE-->";
html+= "<!--BRANDING_IN_GAME_MENUBAR_LOGIN_STRUCTURE-->";
html+= "<!--BRANDING_IN_GAME_MENUBAR_REGISTER_STRUCTURE-->";
html+= "<!--BRANDING_IN_GAME_MENUBAR_LOGOUT_STRUCTURE-->";
html+= "<!--BRANDING_IN_GAME_MENUBAR_LEADERBOARD_STRUCTURE-->";
html+= "<!--BRANDING_CHANGE_USERNAME_STRUCTURE-->";
html+= "<!--AD_IN_GAME_PREROLL_STRUCTURE-->";
html+= "<!--AD_IN_GAME_ENDGAME_STRUCTURE-->";

$('head').append("<style>"+css+"</style>");
$('html').append(html);

//Base script contains all that important juice (language.jsvalidate,forms,validate extra,etc)

var _CONFIG={LOGGING:!0};var Language=new function(){this.en={Validation:{urlshort:"Please enter a valid url: Eg: mysite.com",alphanumeric:"Letters, numbers, and dashes only please",lettersonly:"Letters only please",letterswithbasicpunc:"Letters or punctuation only please",letterswithwhitespace:"Letters with white spaces only please",alphanumericnodash:"Letters and numbers only please",alphanumericwhitespace:"Letters and numbers only please",nowhitespace:"No white space please",ziprange:"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx",
integer:"A positive or negative non-decimal number please",vinUS:"The specified vehicle identification number (VIN) is invalid",dateITA:"Please enter a correct date","user-password-retype":"Please type in the same password",maxWords:"Please enter {0} words or less",minWords:"Please enter at least {0} words",rangeWords:"Please enter between {0} and {1} words",valueNotEquals:"Value must not equal arg",required:"This field is required",remote:"Please fix this field",email:"Valid email address required",
url:"Please enter a valid URL",date:"Please enter a valid date",dateISO:"Please enter a valid date (ISO)",number:"Please enter a valid number",digits:"Please enter only digits",creditcard:"Please enter a valid credit card number",equalTo:"Please enter the same value again",accept:"Please enter a value with a valid extension",maxlength:"Please enter no more than {0} characters",minlength:"Please enter at least {0} characters",rangelength:"Please enter a value between {0} and {1} characters long",range:"Please enter a value between {0} and {1}",
max:"Please enter a value less than or equal to {0}",min:"Please enter a value greater than or equal to {0}"}};this.zh={}},Localization=Language.en;(function(b){b.extend(b.fn,{validate:function(a){if(this.length){var c=b.data(this[0],"validator");if(c)return c;this.attr("novalidate","novalidate");c=new b.validator(a,this[0]);b.data(this[0],"validator",c);c.settings.onsubmit&&(a=this.find("input, button"),a.filter(".cancel").click(function(){c.cancelSubmit=!0}),c.settings.submitHandler&&a.filter(":submit").click(function(){c.submitButton=this}),this.submit(function(a){function f(){if(c.settings.submitHandler){if(c.submitButton)var a=b("<input type='hidden'/>").attr("name",
c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm);c.settings.submitHandler.call(c,c.currentForm);c.submitButton&&a.remove();return!1}return!0}c.settings.debug&&a.preventDefault();if(c.cancelSubmit)return c.cancelSubmit=!1,f();if(c.form())return c.pendingRequest?(c.formSubmitted=!0,!1):f();c.focusInvalid();return!1}));return c}a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(b(this[0]).is("form"))return this.validate().form();
var a=!0,c=b(this[0].form).validate();this.each(function(){a&=c.element(this)});return a},removeAttrs:function(a){var c={},d=this;b.each(a.split(/\s/),function(a,b){c[b]=d.attr(b);d.removeAttr(b)});return c},rules:function(a,c){var d=this[0];if(a){var f=b.data(d.form,"validator").settings,g=f.rules,r=b.validator.staticRules(d);switch(a){case "add":b.extend(r,b.validator.normalizeRule(c));g[d.name]=r;c.messages&&(f.messages[d.name]=b.extend(f.messages[d.name],c.messages));break;case "remove":if(!c)return delete g[d.name],
r;var u={};b.each(c.split(/\s/),function(a,b){u[b]=r[b];delete r[b]});return u}}d=b.validator.normalizeRules(b.extend({},b.validator.metadataRules(d),b.validator.classRules(d),b.validator.attributeRules(d),b.validator.staticRules(d)),d);d.required&&(f=d.required,delete d.required,d=b.extend({required:f},d));return d}});b.extend(b.expr[":"],{blank:function(a){return!b.trim(""+a.value)},filled:function(a){return!!b.trim(""+a.value)},unchecked:function(a){return!a.checked}});b.validator=function(a,c){this.settings=
b.extend(!0,{},b.validator.defaults,a);this.currentForm=c;this.init()};b.validator.format=function(a,c){if(1==arguments.length)return function(){var c=b.makeArray(arguments);c.unshift(a);return b.validator.format.apply(this,c)};2<arguments.length&&c.constructor!=Array&&(c=b.makeArray(arguments).slice(1));c.constructor!=Array&&(c=[c]);b.each(c,function(b,c){a=a.replace(RegExp("\\{"+b+"\\}","g"),c)});return a};b.extend(b.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",
errorElement:"label",focusInvalid:!0,errorContainer:b([]),errorLabelContainer:b([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))&&this.element(a)},onkeyup:function(a){(a.name in
this.submitted||a==this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,c,d){"radio"===a.type?this.findByName(a.name).addClass(c).removeClass(d):b(a).addClass(c).removeClass(d)},unhighlight:function(a,c,d){"radio"===a.type?this.findByName(a.name).removeClass(c).addClass(d):b(a).removeClass(c).addClass(d)}},setDefaults:function(a){b.extend(b.validator.defaults,a)},messages:{required:Localization.Validation.required,
remote:Localization.Validation.remote,email:Localization.Validation.email,url:Localization.Validation.url,date:Localization.Validation.date,dateISO:Localization.Validation.dateISO,number:Localization.Validation.number,digits:Localization.Validation.digits,creditcard:Localization.Validation.creditcard,equalTo:Localization.Validation.equalTo,accept:Localization.Validation.accept,maxlength:b.validator.format(Localization.Validation.maxlength),minlength:b.validator.format(Localization.Validation.minlength),
rangelength:b.validator.format(Localization.Validation.rangelength),range:b.validator.format(Localization.Validation.range),max:b.validator.format(Localization.Validation.max),min:b.validator.format(Localization.Validation.min)},autoCreateRanges:!1,prototype:{init:function(){function a(a){var c=b.data(this[0].form,"validator"),d="on"+a.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],a)}this.labelContainer=b(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&
this.labelContainer||b(this.currentForm);this.containers=b(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var c=this.groups={};b.each(this.settings.groups,function(a,d){b.each(d.split(/\s/),function(b,d){c[d]=a})});var d=this.settings.rules;b.each(d,function(a,c){d[a]=b.validator.normalizeRule(c)});b(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ",
"focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",a);this.settings.invalidHandler&&b(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();b.extend(this.submitted,this.errorMap);this.invalid=b.extend({},this.errorMap);this.valid()||b(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=
this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(a){this.lastElement=a=this.validationTargetFor(this.clean(a));this.prepareElement(a);this.currentElements=b(a);var c=this.check(a);c?delete this.invalid[a.name]:this.invalid[a.name]=!0;this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers));this.showErrors();return c},showErrors:function(a){if(a){b.extend(this.errorMap,a);this.errorList=[];for(var c in a)this.errorList.push({message:a[c],element:this.findByName(c)[0]});
this.successList=b.grep(this.successList,function(b){return!(b.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){b.fn.resetForm&&b(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0,d;for(d in a)b++;
return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0==this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{b(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&1==b.grep(this.errorList,function(b){return b.element.name==a.name}).length&&a},elements:function(){var a=
this,c={};return b(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&a.settings.debug&&window.console&&console.error("%o has no name assigned",this);return this.name in c||!a.objectLength(b(this).rules())?!1:c[this.name]=!0})},clean:function(a){return b(a)[0]},errors:function(){return b(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=
[];this.errorMap={};this.toShow=b([]);this.toHide=b([]);this.currentElements=b([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.validationTargetFor(this.clean(a));var c=b(a).rules(),d=!1,f;for(f in c){var g={method:f,parameters:c[f]};try{var r=b.validator.methods[f].call(this,a.value.replace(/\r/g,""),a,g.parameters);if("dependency-mismatch"==r)d=!0;else{d=!1;if("pending"==
r){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!r)return this.formatAndAdd(a,g),!1}}catch(u){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+a.id+", check the '"+g.method+"' method",u),u;}}if(!d)return this.objectLength(c)&&this.successList.push(a),!0},customMetaMessage:function(a,c){if(b.metadata){var d=this.settings.meta?b(a).metadata()[this.settings.meta]:b(a).metadata();return d&&d.messages&&d.messages[c]}},customMessage:function(a,
b){var d=this.settings.messages[a];return d&&(d.constructor==String?d:d[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(a,c){return this.findDefined(this.customMessage(a.name,c),this.customMetaMessage(a,c),!this.settings.ignoreTitle&&a.title||void 0,b.validator.messages[c],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,b){var d=this.defaultMessage(a,b.method),f=/\$?\{(\d+)\}/g;
"function"==typeof d?d=d.call(this,b.parameters,a):f.test(d)&&(d=jQuery.format(d.replace(f,"{$1}"),b.parameters));this.errorList.push({message:d,element:a});this.errorMap[a.name]=d;this.submitted[a.name]=d},addWrapper:function(a){this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper)));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);
this.showLabel(b.element,b.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},
invalidElements:function(){return b(this.errorList).map(function(){return this.element})},showLabel:function(a,c){var d=this.errorsFor(a);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.attr("generated")&&d.html(c)):(d=b("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:!0}).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||
(this.settings.errorPlacement?this.settings.errorPlacement(d,b(a)):d.insertAfter(a)));!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d));this.toShow=this.toShow.add(d)},errorsFor:function(a){var c=this.idOrName(a);return this.errors().filter(function(){return b(this).attr("for")==c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){this.checkable(a)&&
(a=this.findByName(a.name).not(this.settings.ignore)[0]);return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var c=this.currentForm;return b(document.getElementsByName(a)).map(function(b,f){return f.form==c&&f.name==a&&f||null})},getLength:function(a,c){switch(c.nodeName.toLowerCase()){case "select":return b("option:selected",c).length;case "input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return a.length},depend:function(a,
b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(a,c){return!!b(a,c.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!b.validator.methods.required.call(this,b.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(a,c){this.pendingRequest--;0>this.pendingRequest&&(this.pendingRequest=
0);delete this.pending[a.name];c&&0==this.pendingRequest&&this.formSubmitted&&this.form()?(b(this.currentForm).submit(),this.formSubmitted=!1):!c&&(0==this.pendingRequest&&this.formSubmitted)&&(b(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(a){return b.data(a,"previousValue")||b.data(a,"previousValue",{old:null,valid:!0,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},
dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(a,c){a.constructor==String?this.classRuleSettings[a]=c:b.extend(this.classRuleSettings,a)},classRules:function(a){var c={};(a=b(a).attr("class"))&&b.each(a.split(" "),function(){this in b.validator.classRuleSettings&&b.extend(c,b.validator.classRuleSettings[this])});return c},attributeRules:function(a){var c={};a=b(a);for(var d in b.validator.methods){var f;
(f="required"===d&&"function"===typeof b.fn.prop?a.prop(d):a.attr(d))?c[d]=f:a[0].getAttribute("type")===d&&(c[d]=!0)}c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength;return c},metadataRules:function(a){if(!b.metadata)return{};var c=b.data(a.form,"validator").settings.meta;return c?b(a).metadata()[c]:b(a).metadata()},staticRules:function(a){var c={},d=b.data(a.form,"validator");d.settings.rules&&(c=b.validator.normalizeRule(d.settings.rules[a.name])||{});return c},normalizeRules:function(a,
c){b.each(a,function(d,f){if(!1===f)delete a[d];else if(f.param||f.depends){var g=!0;switch(typeof f.depends){case "string":g=!!b(f.depends,c.form).length;break;case "function":g=f.depends.call(c,c)}g?a[d]=void 0!==f.param?f.param:!0:delete a[d]}});b.each(a,function(d,f){a[d]=b.isFunction(f)?f(c):f});b.each(["minlength","maxlength","min","max"],function(){a[this]&&(a[this]=Number(a[this]))});b.each(["rangelength","range"],function(){a[this]&&(a[this]=[Number(a[this][0]),Number(a[this][1])])});b.validator.autoCreateRanges&&
(a.min&&a.max&&(a.range=[a.min,a.max],delete a.min,delete a.max),a.minlength&&a.maxlength&&(a.rangelength=[a.minlength,a.maxlength],delete a.minlength,delete a.maxlength));a.messages&&delete a.messages;return a},normalizeRule:function(a){if("string"==typeof a){var c={};b.each(a.split(/\s/),function(){c[this]=!0});a=c}return a},addMethod:function(a,c,d){b.validator.methods[a]=c;b.validator.messages[a]=void 0!=d?d:b.validator.messages[a];3>c.length&&b.validator.addClassRules(a,b.validator.normalizeRule(a))},
methods:{required:function(a,c,d){if(!this.depend(d,c))return"dependency-mismatch";switch(c.nodeName.toLowerCase()){case "select":return(a=b(c).val())&&0<a.length;case "input":if(this.checkable(c))return 0<this.getLength(a,c);default:return 0<b.trim(a).length}},remote:function(a,c,d){if(this.optional(c))return"dependency-mismatch";var f=this.previousValue(c);this.settings.messages[c.name]||(this.settings.messages[c.name]={});f.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=
f.message;d="string"==typeof d&&{url:d}||d;if(this.pending[c.name])return"pending";if(f.old===a)return f.valid;f.old=a;var g=this;this.startRequest(c);var r={};r[c.name]=a;b.ajax(b.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:r,success:function(d){g.settings.messages[c.name].remote=f.originalMessage;var n=!0===d;if(n){var s=g.formSubmitted;g.prepareElement(c);g.formSubmitted=s;g.successList.push(c);g.showErrors()}else s={},d=d||g.defaultMessage(c,"remote"),s[c.name]=f.message=
b.isFunction(d)?d(a):d,g.showErrors(s);f.valid=n;g.stopRequest(c,n)}},d));return"pending"},minlength:function(a,c,d){return this.optional(c)||this.getLength(b.trim(a),c)>=d},maxlength:function(a,c,d){return this.optional(c)||this.getLength(b.trim(a),c)<=d},rangelength:function(a,c,d){a=this.getLength(b.trim(a),c);return this.optional(c)||a>=d[0]&&a<=d[1]},min:function(a,b,d){return this.optional(b)||a>=d},max:function(a,b,d){return this.optional(b)||a<=d},range:function(a,b,d){return this.optional(b)||
a>=d[0]&&a<=d[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},
url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 -]+/.test(a))return!1;var d=0,f=0,g=!1;a=a.replace(/\D/g,"");for(var r=a.length-1;0<=r;r--){f=
a.charAt(r);f=parseInt(f,10);if(g&&9<(f*=2))f-=9;d+=f;g=!g}return 0==d%10},accept:function(a,b,d){d="string"==typeof d?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(RegExp(".("+d+")$","i"))},equalTo:function(a,c,d){d=b(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){b(c).valid()});return a==d.val()}}});b.format=b.validator.format})(jQuery);
(function(b){var a={};if(b.ajaxPrefilter)b.ajaxPrefilter(function(b,c,g){c=b.port;"abort"==b.mode&&(a[c]&&a[c].abort(),a[c]=g)});else{var c=b.ajax;b.ajax=function(d){var f=("port"in d?d:b.ajaxSettings).port;return"abort"==("mode"in d?d:b.ajaxSettings).mode?(a[f]&&a[f].abort(),a[f]=c.apply(this,arguments)):c.apply(this,arguments)}}})(jQuery);
(function(b){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&b.each({focus:"focusin",blur:"focusout"},function(a,c){function d(a){a=b.event.fix(a);a.type=c;return b.event.handle.call(this,a)}b.event.special[c]={setup:function(){this.addEventListener(a,d,!0)},teardown:function(){this.removeEventListener(a,d,!0)},handler:function(a){arguments[0]=b.event.fix(a);arguments[0].type=c;return b.event.handle.apply(this,arguments)}}});b.extend(b.fn,{validateDelegate:function(a,
c,d){return this.bind(c,function(c){var g=b(c.target);if(g.is(a))return d.apply(g,arguments)})}})})(jQuery);(function(){function b(a){return a.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[0-9.(),;:!?%#$'"_+=\/-]*/g,"")}jQuery.validator.addMethod("maxWords",function(a,c,d){return this.optional(c)||b(a).match(/\b\w+\b/g).length<d},jQuery.validator.format(Localization.Validation.maxWords));jQuery.validator.addMethod("minWords",function(a,c,d){return this.optional(c)||b(a).match(/\b\w+\b/g).length>=d},jQuery.validator.format(Localization.Validation.minWords));jQuery.validator.addMethod("rangeWords",
function(a,c,d){return this.optional(c)||b(a).match(/\b\w+\b/g).length>=d[0]&&a.match(/bw+b/g).length<d[1]},jQuery.validator.format(Localization.Validation.rangeWords))})();jQuery.validator.addMethod("valueNotEquals",function(b,a,c){return c!=b},Localization.Validation.valueNotEquals);jQuery.validator.addMethod("filesize",function(b,a,c){return this.optional(a)||a.files[0].size<=c});
jQuery.validator.addMethod("urlshort",function(b,a){"http://"!=b.substr(0,7)&&(b="http://"+b);"/"!=b.substr(b.length-1,1)&&(b+="/");return this.optional(a)||/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/i.test(b)},"Not valid url.");jQuery.validator.addMethod("letterswithbasicpunc",function(b,a){return this.optional(a)||/^[a-z-.,?!()'\"\s]+$/i.test(b)},Localization.Validation.letterswithbasicpunc);
jQuery.validator.addMethod("alphanumericnodash",function(b,a){return this.optional(a)||/^[\sa-zA-Z0-9]+$/i.test(b)},Localization.Validation.alphanumericnodash);jQuery.validator.addMethod("alphanumericwhitespace",function(b,a){return this.optional(a)||/^[a-zA-Z0-9-\s]+$/i.test(b)},Localization.Validation.alphanumericwhitespace);jQuery.validator.addMethod("alphanumeric",function(b,a){return this.optional(a)||/^[a-zA-Z0-9-]+$/i.test(b)},Localization.Validation.alphanumeric);
jQuery.validator.addMethod("lettersonly",function(b,a){return this.optional(a)||/^[a-z]+$/i.test(b)},Localization.Validation.lettersonly);jQuery.validator.addMethod("nowhitespace",function(b,a){return this.optional(a)||/^\S+$/i.test(b)},Localization.Validation.nowhitespace);jQuery.validator.addMethod("ziprange",function(b,a){return this.optional(a)||/^90[2-5]\d\{2}-\d{4}$/.test(b)},Localization.Validation.ziprange);
jQuery.validator.addMethod("integer",function(b,a){return this.optional(a)||/^-?\d+$/.test(b)},Localization.Validation.integer);
jQuery.validator.addMethod("vinUS",function(b){if(17!=b.length)return!1;var a,c,d,f,g,r="ABCDEFGHJKLMNPRSTUVWXYZ".split(""),u=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],n=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],s=0;for(a=0;17>a;a++){f=n[a];d=b.slice(a,a+1);8==a&&(g=d);if(isNaN(d))for(c=0;c<r.length;c++){if(d.toUpperCase()===r[c]){d=u[c];d*=f;isNaN(g)&&8==c&&(g=r[c]);break}}else d*=f;s+=d}b=s%11;10==b&&(b="X");return b==g?!0:!1},Localization.Validation.vinUS);
jQuery.validator.addMethod("dateITA",function(b,a){var c=!1;if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(b))var d=b.split("index.html"),c=parseInt(d[0],10),f=parseInt(d[1],10),d=parseInt(d[2],10),g=new Date(d,f-1,c),c=g.getFullYear()==d&&g.getMonth()==f-1&&g.getDate()==c?!0:!1;else c=!1;return this.optional(a)||c},Localization.Validation.dateITA);!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(b){function a(a){var c=a.data;a.isDefaultPrevented()||(a.preventDefault(),b(a.target).ajaxSubmit(c))}function c(a){var c=a.target,d=b(c);if(!d.is("[type=submit],[type=image]")){c=d.closest("[type=submit]");if(0===c.length)return;c=c[0]}var e=this;if(e.clk=c,"image"==c.type)void 0!==a.offsetX?(e.clk_x=a.offsetX,e.clk_y=a.offsetY):"function"==typeof b.fn.offset?(d=d.offset(),
e.clk_x=a.pageX-d.left,e.clk_y=a.pageY-d.top):(e.clk_x=a.pageX-c.offsetLeft,e.clk_y=a.pageY-c.offsetTop);setTimeout(function(){e.clk=e.clk_x=e.clk_y=null},100)}function d(){if(b.fn.ajaxSubmit.debug){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}}var f,g;f=void 0!==b("<input type='file'/>").get(0).files;g=void 0!==window.FormData;var r=!!b.fn.prop;b.fn.attr2=function(){if(!r)return this.attr.apply(this,
arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"==typeof a?a:this.attr.apply(this,arguments)};b.fn.ajaxSubmit=function(a){function c(e){function f(a){var b=null;try{a.contentWindow&&(b=a.contentWindow.document)}catch(c){d("cannot get iframe.contentWindow document: "+c)}if(b)return b;try{b=a.contentDocument?a.contentDocument:a.document}catch(e){d("cannot get iframe.contentDocument: "+e),b=a.document}return b}function g(){function a(){try{var b=f(z).readyState;d("state = "+
b);b&&"uninitialized"==b.toLowerCase()&&setTimeout(a,50)}catch(c){d("Server abort: ",c," (",c.name,")"),k(C),F&&clearTimeout(F),F=void 0}}var c=p.attr2("target"),e=p.attr2("action"),u=p.attr("enctype")||p.attr("encoding")||"multipart/form-data";w.setAttribute("target",l);(!s||/post/i.test(s))&&w.setAttribute("method","POST");e!=h.url&&w.setAttribute("action",h.url);h.skipEncodingOverride||s&&!/post/i.test(s)||p.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});h.timeout&&(F=setTimeout(function(){y=
!0;k(G)},h.timeout));var j=[];try{if(h.extraData)for(var n in h.extraData)h.extraData.hasOwnProperty(n)&&j.push(b.isPlainObject(h.extraData[n])&&h.extraData[n].hasOwnProperty("name")&&h.extraData[n].hasOwnProperty("value")?b('<input type="hidden" name="'+h.extraData[n].name+'">').val(h.extraData[n].value).appendTo(w)[0]:b('<input type="hidden" name="'+n+'">').val(h.extraData[n]).appendTo(w)[0]);h.iframeTarget||m.appendTo("body");z.attachEvent?z.attachEvent("onload",k):z.addEventListener("load",k,
!1);setTimeout(a,15);try{w.submit()}catch(t){document.createElement("form").submit.apply(w)}}finally{w.setAttribute("action",e),w.setAttribute("enctype",u),c?w.setAttribute("target",c):p.removeAttr("target"),b(j).remove()}}function k(a){if(!j.aborted&&!E){if(v=f(z),v||(d("cannot access response document"),a=C),a===G&&j)return j.abort("timeout"),void A.reject(j,"timeout");if(a==C&&j)return j.abort("server abort"),void A.reject(j,"error","server abort");if(v&&v.location.href!=h.iframeSrc||y){z.detachEvent?
z.detachEvent("onload",k):z.removeEventListener("load",k,!1);var c;a="success";try{if(y)throw"timeout";var e="xml"==h.dataType||v.XMLDocument||b.isXMLDoc(v);if(d("isXml="+e),!e&&window.opera&&(null===v.body||!v.body.innerHTML)&&--H)return d("requeing onLoad callback, DOM not available"),void setTimeout(k,250);var u=v.body?v.body:v.documentElement;j.responseText=u?u.innerHTML:null;j.responseXML=v.XMLDocument?v.XMLDocument:v;e&&(h.dataType="xml");j.getResponseHeader=function(a){return{"content-type":h.dataType}[a.toLowerCase()]};
u&&(j.status=Number(u.getAttribute("status"))||j.status,j.statusText=u.getAttribute("statusText")||j.statusText);var n=(h.dataType||"").toLowerCase(),s=/(json|script|text)/.test(n);if(s||h.textarea){var p=v.getElementsByTagName("textarea")[0];if(p)j.responseText=p.value,j.status=Number(p.getAttribute("status"))||j.status,j.statusText=p.getAttribute("statusText")||j.statusText;else if(s){var g=v.getElementsByTagName("pre")[0],l=v.getElementsByTagName("body")[0];g?j.responseText=g.textContent?g.textContent:
g.innerText:l&&(j.responseText=l.textContent?l.textContent:l.innerText)}}else"xml"==n&&!j.responseXML&&j.responseText&&(j.responseXML=I(j.responseText));try{var e=j,u=h,q=e.getResponseHeader("content-type")||"",r="xml"===n||!n&&0<=q.indexOf("xml"),B=r?e.responseXML:e.responseText;D=(r&&"parsererror"===B.documentElement.nodeName&&b.error&&b.error("parsererror"),u&&u.dataFilter&&(B=u.dataFilter(B,n)),"string"==typeof B&&("json"===n||!n&&0<=q.indexOf("json")?B=J(B):("script"===n||!n&&0<=q.indexOf("javascript"))&&
b.globalEval(B)),B)}catch(w){a="parsererror",j.error=c=w||a}}catch(x){d("error caught: ",x),a="error",j.error=c=x||a}j.aborted&&(d("upload aborted"),a=null);j.status&&(a=200<=j.status&&300>j.status||304===j.status?"success":"error");"success"===a?(h.success&&h.success.call(h.context,D,"success",j),A.resolve(j.responseText,"success",j),t&&b.event.trigger("ajaxSuccess",[j,h])):a&&(void 0===c&&(c=j.statusText),h.error&&h.error.call(h.context,j,a,c),A.reject(j,"error",c),t&&b.event.trigger("ajaxError",
[j,h,c]));t&&b.event.trigger("ajaxComplete",[j,h]);t&&!--b.active&&b.event.trigger("ajaxStop");h.complete&&h.complete.call(h.context,j,a);E=!0;h.timeout&&clearTimeout(F);setTimeout(function(){h.iframeTarget?m.attr("src",h.iframeSrc):m.remove();j.responseXML=null},100)}}}var n,h,t,l,m,z,j,x,y,F,w=p[0],A=b.Deferred();if(A.abort=function(a){j.abort(a)},e)for(n=0;n<q.length;n++)e=b(q[n]),r?e.prop("disabled",!1):e.removeAttr("disabled");if(h=b.extend(!0,{},b.ajaxSettings,a),h.context=h.context||h,l="jqFormIO"+
(new Date).getTime(),h.iframeTarget?(m=b(h.iframeTarget),x=m.attr2("name"),x?l=x:m.attr2("name",l)):(m=b('<iframe name="'+l+'" src="'+h.iframeSrc+'" />'),m.css({position:"absolute",top:"-1000px",left:"-1000px"})),z=m[0],j={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(a){var c="timeout"===a?"timeout":"aborted";d("aborting upload... "+c);this.aborted=1;try{z.contentWindow.document.execCommand&&
z.contentWindow.document.execCommand("Stop")}catch(e){}m.attr("src",h.iframeSrc);j.error=c;h.error&&h.error.call(h.context,j,c,a);t&&b.event.trigger("ajaxError",[j,h,c]);h.complete&&h.complete.call(h.context,j,c)}},t=h.global,t&&0===b.active++&&b.event.trigger("ajaxStart"),t&&b.event.trigger("ajaxSend",[j,h]),h.beforeSend&&!1===h.beforeSend.call(h.context,j,h))return h.global&&b.active--,A.reject(),A;if(j.aborted)return A.reject(),A;(e=w.clk)&&(x=e.name,x&&!e.disabled&&(h.extraData=h.extraData||{},
h.extraData[x]=e.value,"image"==e.type&&(h.extraData[x+".x"]=w.clk_x,h.extraData[x+".y"]=w.clk_y)));var G=1,C=2;x=b("meta[name=csrf-token]").attr("content");(e=b("meta[name=csrf-param]").attr("content"))&&x&&(h.extraData=h.extraData||{},h.extraData[e]=x);h.forceSync?g():setTimeout(g,10);var D,v,E,H=50,I=b.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=
b.documentElement.nodeName?b:null},J=b.parseJSON||function(a){return window.eval("("+a+")")};return A}if(!this.length)return d("ajaxSubmit: skipping submit process - no element selected"),this;var s,e,p=this;"function"==typeof a?a={success:a}:void 0===a&&(a={});s=a.type||this.attr2("method");e=a.url||this.attr2("action");(e=(e="string"==typeof e?b.trim(e):"")||window.location.href||"")&&(e=(e.match(/^([^#]+)/)||[])[1]);a=b.extend(!0,{url:e,success:b.ajaxSettings.success,type:s||b.ajaxSettings.type,
iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},a);e={};if(this.trigger("form-pre-serialize",[this,a,e]),e.veto)return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(a.beforeSerialize&&!1===a.beforeSerialize(this,a))return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var t=a.traditional;void 0===t&&(t=b.ajaxSettings.traditional);var k,q=[],l=this.formToArray(a.semantic,q);if(a.data&&(a.extraData=a.data,k=b.param(a.data,
t)),a.beforeSubmit&&!1===a.beforeSubmit(l,this,a))return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[l,this,a,e]),e.veto)return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;e=b.param(l,t);k&&(e=e?e+"&"+k:k);"GET"==a.type.toUpperCase()?(a.url+=(0<=a.url.indexOf("?")?"&":"?")+e,a.data=null):a.data=e;var m=[];if(a.resetForm&&m.push(function(){p.resetForm()}),a.clearForm&&m.push(function(){p.clearForm(a.includeHidden)}),
!a.dataType&&a.target){var G=a.success||function(){};m.push(function(c){var d=a.replaceTarget?"replaceWith":"html";b(a.target)[d](c).each(G,arguments)})}else a.success&&m.push(a.success);if(a.success=function(b,c,d){for(var e=a.context||this,f=0,h=m.length;h>f;f++)m[f].apply(e,[b,c,d||p,p])},a.error){var y=a.error;a.error=function(b,c,d){y.apply(a.context||this,[b,c,d,p])}}if(a.complete){var I=a.complete;a.complete=function(b,c){I.apply(a.context||this,[b,c,p])}}k=0<b("input[type=file]:enabled",this).filter(function(){return""!==
b(this).val()}).length;e="multipart/form-data"==p.attr("enctype")||"multipart/form-data"==p.attr("encoding");t=f&&g;d("fileAPI :"+t);var C;if(!1!==a.iframe&&(a.iframe||(k||e)&&!t))a.closeKeepAlive?b.get(a.closeKeepAlive,function(){C=c(l)}):C=c(l);else{if((k||e)&&t){var E=new FormData;for(e=0;e<l.length;e++)E.append(l[e].name,l[e].value);if(a.extraData){var D=b.param(a.extraData,a.traditional).split("&"),J=D.length;k=[];for(e=0;J>e;e++)D[e]=D[e].replace(/\+/g," "),t=D[e].split("="),k.push([decodeURIComponent(t[0]),
decodeURIComponent(t[1])]);for(e=0;e<k.length;e++)k[e]&&E.append(k[e][0],k[e][1])}a.data=null;k=b.extend(!0,{},b.ajaxSettings,a,{contentType:!1,processData:!1,cache:!1,type:s||"POST"});a.uploadProgress&&(k.xhr=function(){var c=b.ajaxSettings.xhr();return c.upload&&c.upload.addEventListener("progress",function(b){var c=0,d=b.loaded||b.position,e=b.total;b.lengthComputable&&(c=Math.ceil(100*(d/e)));a.uploadProgress(b,d,e,c)},!1),c});k.data=null;var H=k.beforeSend;k=(k.beforeSend=function(b,c){c.data=
a.formData?a.formData:E;H&&H.call(this,b,c)},b.ajax(k))}else k=b.ajax(a);C=k}p.removeData("jqxhr").data("jqxhr",C);for(k=0;k<q.length;k++)q[k]=null;return this.trigger("form-submit-notify",[this,a]),this};b.fn.ajaxForm=function(f){if(f=f||{},f.delegation=f.delegation&&b.isFunction(b.fn.on),!f.delegation&&0===this.length){var n=this.selector,s=this.context;return!b.isReady&&n?(d("DOM not ready, queuing ajaxForm"),b(function(){b(n,s).ajaxForm(f)}),this):(d("terminating; zero elements found by selector"+
(b.isReady?"":" (DOM not ready)")),this)}return f.delegation?(b(document).off("submit.form-plugin",this.selector,a).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,f,a).on("click.form-plugin",this.selector,f,c),this):this.ajaxFormUnbind().bind("submit.form-plugin",f,a).bind("click.form-plugin",f,c)};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(a,c){var d=[];if(0===this.length)return d;var e,p=this[0],
g=this.attr("id"),k=a?p.getElementsByTagName("*"):p.elements;if(k&&!/MSIE [678]/.test(navigator.userAgent)&&(k=b(k).get()),g&&(e=b(':input[form="'+g+'"]').get(),e.length&&(k=(k||[]).concat(e))),!k||!k.length)return d;var q,l,m,r,y;e=0;for(r=k.length;r>e;e++)if(m=k[e],q=m.name,q&&!m.disabled)if(a&&p.clk&&"image"==m.type)p.clk==m&&(d.push({name:q,value:b(m).val(),type:m.type}),d.push({name:q+".x",value:p.clk_x},{name:q+".y",value:p.clk_y}));else if(l=b.fieldValue(m,!0),l&&l.constructor==Array){c&&c.push(m);
g=0;for(y=l.length;y>g;g++)d.push({name:q,value:l[g]})}else if(f&&"file"==m.type)if(c&&c.push(m),y=m.files,y.length)for(g=0;g<y.length;g++)d.push({name:q,value:y[g],type:m.type});else d.push({name:q,value:"",type:m.type});else null!==l&&"undefined"!=typeof l&&(c&&c.push(m),d.push({name:q,value:l,type:m.type,required:m.required}));!a&&p.clk&&(k=b(p.clk),l=k[0],(q=l.name)&&!l.disabled&&"image"==l.type&&(d.push({name:q,value:k.val()}),d.push({name:q+".x",value:p.clk_x},{name:q+".y",value:p.clk_y})));
return d};b.fn.formSerialize=function(a){return b.param(this.formToArray(a))};b.fn.fieldSerialize=function(a){var c=[];return this.each(function(){var d=this.name;if(d){var e=b.fieldValue(this,a);if(e&&e.constructor==Array)for(var f=0,g=e.length;g>f;f++)c.push({name:d,value:e[f]});else null!==e&&"undefined"!=typeof e&&c.push({name:this.name,value:e})}}),b.param(c)};b.fn.fieldValue=function(a){for(var c=[],d=0,e=this.length;e>d;d++){var f=b.fieldValue(this[d],a);null===f||"undefined"==typeof f||f.constructor==
Array&&!f.length||(f.constructor==Array?b.merge(c,f):c.push(f))}return c};b.fieldValue=function(a,c){var d=a.name,e=a.type,f=a.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||a.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!a.checked||("submit"==e||"image"==e)&&a.form&&a.form.clk!=a||"select"==f&&-1==a.selectedIndex))return null;if("select"==f){var g=a.selectedIndex;if(0>g)return null;for(var d=[],f=a.options,k=(e="select-one"==e)?g+1:f.length,g=e?g:0;k>g;g++){var q=f[g];if(q.selected){var l=
q.value;if(l||(l=q.attributes&&q.attributes.value&&!q.attributes.value.specified?q.text:q.value),e)return l;d.push(l)}}return d}return b(a).val()};b.fn.clearForm=function(a){return this.each(function(){b("input,select,textarea",this).clearFields(a)})};b.fn.clearFields=b.fn.clearInputs=function(a){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();c.test(d)||"textarea"==e?this.value=
"":"checkbox"==d||"radio"==d?this.checked=!1:"select"==e?this.selectedIndex=-1:"file"==d?/MSIE/.test(navigator.userAgent)?b(this).replaceWith(b(this).clone(!0)):b(this).val(""):a&&(!0===a&&/hidden/.test(d)||"string"==typeof a&&b(this).is(a))&&(this.value="")})};b.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};b.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=
!a})};b.fn.selected=function(a){return void 0===a&&(a=!0),this.each(function(){var c=this.type;"checkbox"==c||"radio"==c?this.checked=a:"option"==this.tagName.toLowerCase()&&(c=b(this).parent("select"),a&&c[0]&&"select-one"==c[0].type&&c.find("option").selected(!1),this.selected=a)})};b.fn.ajaxSubmit.debug=!1});


var InGameMenubarAuth = {
	checkIfLoggedIn:function(token_id){
		$.ajax({
	        type: 'GET',
	        dataType: 'json',
			url: 'http://smartfun.club' + '/api/login/check/' + token_id + '',
            beforeSend:function (){
				console.log('InGameMenubarAuth.checkIfLoggedIn: beforeSend')
			},			
		}).done(function(response){
			console.log(response)								
			$('#in-game-menubar-user-panel').html(response.data.template);	
			
			if(response.status.code==200){				
				if(mjs_user_token_id){
					// Update portal domain
					var old_href = 'index.html';
					console.log('old_href:',old_href);
					
					$('#in-game-menubar-main-portal-url').attr('href',old_href+'?mjs_user_token_id='+mjs_user_token_id.toString());				

					// Update header
					$('#in-game-menubar-header-url').attr('href',old_href+'?mjs_user_token_id='+mjs_user_token_id.toString())					
				}

			}
		});			
	},	
}

// GLOBAL
var mjs_user_token_id;

// getQueryVariable
function getQueryVariable(variable) {
    var query = window.location.search.substring(1); // search in parent
    var vars = query.split('&');
    for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split('=');
        if (decodeURIComponent(pair[0]) == variable) {
            return decodeURIComponent(pair[1]);
        }
    }
}

// In Game Menubar Script Template here
var InGameMenubar = {
	enabled:eval('false'),
	
	activateLeaderboard:function(){
		$('#in-game-menubar-main').hide()
		$('#in-game-menubar-leaderboard').show();		
	},
	
	showActivator:function(){
		$('#in-game-menubar-activator').show();
	},
	activate: function(){
		// Resolve in pixels
		var height = $('#in-game-menubar-main').css('height')
		if(height=='0px'){
			console.log('weird bug with 0px ... forcing something')
			$('#in-game-menubar-main').css('height',window.innerHeight*0.6)
		}
		
		$('#in-game-menubar-activator').hide(200);
		//$('#in-game-menubar-main').css('top',$('#in-game-menubar-activator').css('top'))
		$('#in-game-menubar-main').show(200);
	},		
	deactivate: function(){
		$('#in-game-menubar-activator').show(200);
		$('#in-game-menubar-main').hide(200);
	},
}

var Cookie = {
	IsEnabled: function(){
		return navigator.cookieEnabled ||
	        ('cookie' in document && (document.cookie.length > 0 ||
	        (document.cookie = 'mjstestcookie').indexOf.call(document.cookie, 'mjstestcookie') > -1));	
	},	
	DoesExist: function(cname) {
	    var name = cname + '=';
	    var ca = document.cookie.split(';');
		var value;
	    for(var i=0; i<ca.length; i++) {
	        var c = ca[i];
	        while (c.charAt(0)==' ') c = c.substring(1);
	        if (c.indexOf(name) == 0){
				return true;
			} 
	    }
	    return false;
	},
	// TEST
	SetFiveSecondCookie: function(cname) {
	    var d = new Date();
	    d.setTime(d.getTime() + (5*1000));
	    var expires = 'expires='+d.toUTCString();
	    document.cookie = cname + '=' + 'yes' + '; ' + expires;
	},
	SetHourlyCookie: function(cname) {
	    var d = new Date();
	    d.setTime(d.getTime() + (1*60*60*1000));
	    var expires = 'expires='+d.toUTCString();
	    document.cookie = cname + '=' + 'yes' + '; ' + expires;
	},
	SetDailyCookie: function(cname) {
	    var d = new Date();
	    d.setTime(d.getTime() + (1*24*60*60*1000));
	    var expires = 'expires='+d.toUTCString();
	    document.cookie = cname + '=' + 'yes' + '; ' + expires;
	},
 	SetMonthlyCookie: function(cname) { // averages to 30 days
	    var d = new Date();
	    d.setTime(d.getTime() + (1*30*24*60*60*1000));
	    var expires = 'expires='+d.toUTCString();
	    document.cookie = cname + '=' + 'yes' + '; ' + expires;
	},		
	SetYearlyCookie: function(cname) {
	    var d = new Date();
	    d.setTime(d.getTime() + (1*365*24*60*60*1000)); // averages to 365 days
	    var expires = 'expires='+d.toUTCString();
	    document.cookie = cname + '=' + 'yes' + '; ' + expires;
	},			
}

var MarketJS = {
	Log:{
		Game:function(metric_name){ // Eg: MarketJS.Log.Game('Initialize'), MarketJS.Log.Game('EndGame'), MarketJS.Log.Game('LaunchGame)
			console.log('MarketJS API Log Game Event: ',metric_name)
			$.ajax({
		        type: 'GET',
				dataType:'json',
				url: 'http://smartfun.club/api/log/game/' + metric_name + '/' + mjs_game_id + '?mjs_user_token_id=' + mjs_user_token_id,		
			}).done(function(response){
				console.log(response.status.code);							
			});				
		},
		Portal:function(metric_name){ // Eg: MarketJS.Log.Portal('UserLogin'), MarketJS.Log.Portal('UserRegister')
			console.log('MarketJS API Log Portal Event: ',metric_name)
			$.ajax({
		        type: 'POST',
				dataType:'json',
				url: 'http://smartfun.club/api/log/portal/' + metric_name + '/' + mjs_portal_id,		
			}).done(function(response){
				console.log(response.status.code);							
			});				
		},
		TimeSpent:function(metric_value){
			console.log('MarketJS API Log Time Spent: ',metric_value)
			var metric_name = 'TimeSpent';
			$.ajax({
		        type: 'POST',
				data:{'metric_value':metric_value},
				dataType:'json',
				url: 'http://smartfun.club/api/log/portal/' + metric_name + '/' + mjs_portal_id,		
			}).done(function(response){
				console.log(response.status.code);							
			});				
		},	
		// Specially developed
		UniqueVisitor:function(){
			console.log('MarketJS API Log Unique Visitor Event')

			// if unique_visitor_params[xxxx] = 'True', means it will be logged in the server			
			var unique_visitor_params = {
				'singular':'True', // to invoke singular counter increments. Special case
				'hourly':'False',
				'daily':'False',
				'monthly':'False',
				'yearly':'False',
			}
			
			var submit_hourly_cookie = false;
			var submit_daily_cookie = false;
			var submit_monthly_cookie = false;
			var submit_yearly_cookie = false;
			
			if(Cookie.IsEnabled()){
				/*
				if(!Cookie.DoesExist('mjstest')){ // If cookie does not exist
					unique_visitor_params['hourly'] = 'True';
					Cookie.SetFiveSecondCookie('mjstest');
					submit_hourly_cookie = true;
				}*/
				
				if(!Cookie.DoesExist('mjshourly')){ // If cookie does not exist
					unique_visitor_params['hourly'] = 'True';
					Cookie.SetHourlyCookie('mjshourly');
					submit_hourly_cookie = true;
				}

				if(!Cookie.DoesExist('mjsdaily')){
					unique_visitor_params['daily'] = 'True';
					Cookie.SetDailyCookie('mjsdaily');
					submit_daily_cookie = true;
				}

				if(!Cookie.DoesExist('mjsmonthly')){
					unique_visitor_params['monthly'] = 'True';
					Cookie.SetMonthlyCookie('mjsmonthly');					
					submit_monthly_cookie = true;
				}

				if(!Cookie.DoesExist('mjsyearly')){
					unique_visitor_params['yearly'] = 'True';
					Cookie.SetYearlyCookie('mjsyearly');
					submit_yearly_cookie = true;
				}																
			}	

			/* SAMPLE:
			unique_visitor_params:{
				hourly:hourly, // 'True'
				daily:daily,	// 'False'
				monthly:monthly, // 'False'
				yearly:yearly, // 'False'
			},
			*/						
			if(submit_hourly_cookie || submit_daily_cookie || submit_monthly_cookie || submit_yearly_cookie){
				console.log('Submitting ...')
				$.ajax({
			        type: 'POST',
					dataType:'json',
					data:unique_visitor_params,
					url: 'http://smartfun.club/api/log/portal/' + 'UniqueVisitor' + '/' + mjs_portal_id,
				}).done(function(response){
					console.log(response.status.code);							
				});					
			}else{
				console.log('Not submitting ... all data is current')
			}					
		},
	},
	
	Leaderboard:{
		SubmitScore:function(points){ // (token_id,game_id,points)
			// what's the drawback? users can post as often as they want, but we have a filter for frequency and value
			if(!mjs_user_token_id){
				console.log('No user session detected. No score submitted')
				return
			}
			$.ajax({
		        type: 'POST',
				data:{
					'token_id':mjs_user_token_id,//token_id,
					'game_id':mjs_game_id,//game_id,
					'points':points,
				},
		        dataType: 'json',
				url: 'http://smartfun.club/leaderboard/write',		
			}).done(function(response){
				console.log(response);
				if(response.status.code==200){
					console.log('SUCCESSFUL')
				}else{
					console.log('FAILED')
				}							
			});			
		},			
	}
}

// Steps

// Good thing we only have mobile and non-mobile
function isMobile(){
	var userAgent = navigator.userAgent;
	var list = ['iPhone','iPad','android','Android','Windows Phone','Silk','BB10','PlayBook'];
	for(i=0;i<list.length;i++){
		if(userAgent.indexOf(list[i])!=-1){
			return true
		}
	}
	return false;
}

// ENABLER
// temporaryly use localStorage, instead of jStorage
$(document).ready(function(){
	if(isMobile() && InGameMenubar.enabled){
		InGameMenubar.showActivator();
	}
	
	mjs_user_token_id = getQueryVariable('mjs_user_token_id');
	if(mjs_user_token_id){
		console.log('mjs_user_token_id found in url param')

		if(isMobile() && InGameMenubar.enabled){
			InGameMenubarAuth.checkIfLoggedIn(mjs_user_token_id);
		}		
	}else{
		if(localStorage){
			mjs_user_token_id = localStorage.getItem('mjs_user_token_id')
			
			if(isMobile() && InGameMenubar.enabled){
				if(mjs_user_token_id){
					console.log('mjs_user_token_id found in localStorage');
					InGameMenubarAuth.checkIfLoggedIn(mjs_user_token_id)
				}else{
					console.log('No user token id found in localStorage ... perform a dummy check')
					InGameMenubarAuth.checkIfLoggedIn('12345678') // SOMEHOW THIS NEEDS TO BE HERE
				}				
			}			
			
		}else{
			console.log('no localstorage found')
		}
	}	
});

/* OBSOLETE
// Record TimeSpent
var TimeSpent = 0;
window.setInterval(function () {TimeSpent+=1}, 1000);
var isSmartphone = eval('false');
var isTablet = eval('false');
var isDesktop;
if(isSmartphone || isTablet){
	isDesktop = false;
}else{
	isDesktop = true;
}
if(!isDesktop){
	window.setInterval(function () {
		MarketJS.Log.TimeSpent(TimeSpent); // NEEDS TO BE OPTIMIZED, TO REDUCE LOAD
		TimeSpent = 0;					
	}, 31000);	
}
*/


var BrandingSplashScreen={enabled:eval('true'),}
function InitializeSplashScreen(){if(BrandingSplashScreen.enabled){this.START_BRANDING_SPLASH;ig.module('plugins.branding.splash').requires('impact.impact','impact.entity').defines(function(){ig.BrandingSplash=ig.Class.extend({init:function(){ig.game.spawnEntity(EntityBranding,0,0);}});EntityBranding=ig.Entity.extend({gravityFactor:0,size:{x:32,y:32},splash:new ig.Image('http://lh3.googleusercontent.com/YADmEGMQG8Rabw_t5RDwpddpX7r0VqS8lIQj6R65PozZt1KyTX_NvlOK5UBYqZOE6pwsXlxdOI7UWcHy6sz51525x82aH1fXLq_1Og=s480'),init:function(x,y,settings){this.parent(x,y,settings); if(ig.system.width<=320){this.size.x=320;this.size.y=200;}else{this.size.x=480;this.size.y=240;} 
this.pos.x=(ig.system.width-this.size.x)/2;this.pos.y=-this.size.y-200; this.endPosY=(ig.system.height-this.size.y)/2;var tween1=this.tween({pos:{y:this.endPosY}},0.5,{easing:ig.Tween.Easing.Bounce.EaseIn});var tween2=this.tween({},eval('3')-0.5,{onComplete:function(){ ig.game.director.loadLevel(ig.game.director.currentLevel);}});tween1.chain(tween2);tween1.start();this.currentAnim=this.anims.idle;},createClickableLayer:function(){ console.log('Build clickable layer')
this.checkClickableLayer('branding-splash','SPLASH_SCREEN_CLICKABLE_LOGO_URL',true);},doesClickableLayerExist:function(id){for(k in dynamicClickableEntityDivs){if(k==id)return true;}
return false;},checkClickableLayer:function(divID,outboundLink,open_new_window){if(typeof(wm)=='undefined'){ if(this.doesClickableLayerExist(divID)){ ig.game.showOverlay([divID]); $('#'+divID).find('[href]').attr('href',outboundLink);}else{this.createClickableOutboundLayer(divID,outboundLink,'static/test/images/branding/splash_screen/invisible.png',open_new_window);}}}, createClickableOutboundLayer:function(id,outbound_link,image_path,open_new_window){ var div=ig.$new('div');div.id=id;document.body.appendChild(div); $('#'+div.id).css('float','left');$('#'+div.id).css('position','absolute');if(ig.ua.mobile){var heightRatio=window.innerHeight/mobileHeight;var widthRatio=window.innerWidth/mobileWidth;$('#'+div.id).css('left',this.pos.x*widthRatio);$('#'+div.id).css('top',this.pos.y*heightRatio);$('#'+div.id).css('width',this.size.x*widthRatio);$('#'+div.id).css('height',this.size.y*heightRatio);}else{ var reference={x:(w/2)-(destW/2),y:(h/2)-(destH/2),}
console.log(reference.x,reference.y);$('#'+div.id).css('left',reference.x+this.pos.x*multiplier);$('#'+div.id).css('top',reference.y+this.pos.y*multiplier);$('#'+div.id).css('width',this.size.x*multiplier);$('#'+div.id).css('height',this.size.y*multiplier);} 
if(open_new_window){$('#'+div.id).html('<a target=\'_blank\' href=\''+outbound_link+'\'><img style=\'width:100%;height:100%\' src=\''+image_path+'\'></a>');}else{$('#'+div.id).html('<a href=\''+outbound_link+'\'><img style=\'width:100%;height:100%\' src=\''+image_path+'\'></a>');} 
dynamicClickableEntityDivs[id]={};dynamicClickableEntityDivs[id]['width']=this.size.x*multiplier;dynamicClickableEntityDivs[id]['height']=this.size.y*multiplier;dynamicClickableEntityDivs[id]['entity_pos_x']=this.pos.x;dynamicClickableEntityDivs[id]['entity_pos_y']=this.pos.y;},draw:function(){ig.system.context.fillStyle='#ffffff';ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);this.parent();if(this.splash)
{ig.system.context.drawImage(this.splash.data,0,0,this.splash.data.width,this.splash.data.height,this.pos.x,this.pos.y,this.size.x,this.size.y);}}});});this.END_BRANDING_SPLASH;}}

//BRANDING_IN_GAME_MENUBAR_LOGIN_SCRIPT

//BRANDING_IN_GAME_MENUBAR_REGISTER_SCRIPT

//BRANDING_IN_GAME_MENUBAR_LOGOUT_SCRIPT

//BRANDING_IN_GAME_MENUBAR_LEADERBOARD_SCRIPT

//BRANDING_CHANGE_USERNAME_SCRIPT


var AdInGamePreroll={enabled:eval('false'),ad_duration:eval('5'),ad_width:eval('300'),ad_height:eval('250'),ready_in:'Ready in',loading:'Loading ...',close:'Close'+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;',Initialize:function(){if(!this.enabled){console.log('AdInGamePreroll disabled in CMS ...')
return;} 
if(advancedDivsToResize){advancedDivsToResize['AdInGamePreroll']={'box-width':AdInGamePreroll.ad_width+2,'box-height':AdInGamePreroll.ad_height+20,}}
this.selectedOverlayName='AdInGamePreroll'
console.log('selected:',this.selectedOverlayName); this.overlay=$('#'+this.selectedOverlayName);this.box=$('#'+this.selectedOverlayName+'-Box');this.game=$('#game');this.boxContents={footer:$('#'+this.selectedOverlayName+'-Box-Footer'),header:$('#'+this.selectedOverlayName+'-Box-Header'),close:$('#'+this.selectedOverlayName+'-Box-Close'),body:$('#'+this.selectedOverlayName+'-Box-Body'),}; this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css('left',(this.overlay.width()-this.box.width())/2);this.box.css('top',(this.overlay.height()-this.box.height()-this.boxContents.header.height()-this.boxContents.footer.height())/2); this.overlay.show(this.Timer(this.ad_duration)); sizeHandler();},Timer:function(duration){var i=duration;var inter=setInterval(function(){AdInGamePreroll.boxContents.header.text(AdInGamePreroll.ready_in+' '+i+'...');AdInGamePreroll.boxContents.footer.text(AdInGamePreroll.loading);i--;if(i<0){clearInterval(inter);AdInGamePreroll.boxContents.close.css('left',AdInGamePreroll.boxContents.body.width()-23);AdInGamePreroll.boxContents.close.show();AdInGamePreroll.boxContents.header.html(AdInGamePreroll.close);AdInGamePreroll.boxContents.footer.text('');}},1000);},Close:function(){this.boxContents.close.hide();this.overlay.hide();}};



var AdInGameEndgame={enabled:eval('false'),ad_duration:eval('5'),ad_width:eval('300'),ad_height:eval('250'),ready_in:'Ready in',loading:'Loading ...',close:'Close'+'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;',Initialize:function(){if(!this.enabled){console.log('AdInGameEndgame disabled in CMS ...')
return;} 
if(advancedDivsToResize){advancedDivsToResize['AdInGameEndgame']={'box-width':AdInGameEndgame.ad_width+2,'box-height':AdInGameEndgame.ad_height+20,}}
this.selectedOverlayName='AdInGameEndgame'
console.log('selected:',this.selectedOverlayName); this.overlay=$('#'+this.selectedOverlayName);this.box=$('#'+this.selectedOverlayName+'-Box');this.game=$('#game');this.boxContents={footer:$('#'+this.selectedOverlayName+'-Box-Footer'),header:$('#'+this.selectedOverlayName+'-Box-Header'),close:$('#'+this.selectedOverlayName+'-Box-Close'),body:$('#'+this.selectedOverlayName+'-Box-Body'),}; this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css('left',(this.overlay.width()-this.box.width())/2);this.box.css('top',(this.overlay.height()-this.box.height()-this.boxContents.header.height()-this.boxContents.footer.height())/2); this.overlay.show(this.Timer(this.ad_duration)); sizeHandler();},Timer:function(duration){var i=duration;var inter=setInterval(function(){AdInGameEndgame.boxContents.header.text(AdInGameEndgame.ready_in+' '+i+'...');AdInGameEndgame.boxContents.footer.text(AdInGameEndgame.loading);i--;if(i<0){clearInterval(inter);AdInGameEndgame.boxContents.close.css('left',AdInGameEndgame.boxContents.body.width()-23);AdInGameEndgame.boxContents.close.show();AdInGameEndgame.boxContents.header.html(AdInGameEndgame.close);AdInGameEndgame.boxContents.footer.text('');}},1000);},Close:function(){this.boxContents.close.hide();this.overlay.hide();}};

//BRANDING_FACEBOOK_SCRIPT


var BrandingInGameMoreGames={enabled:eval('true'),url:'http://smartfun.club',}

//PORTAL_ANALYTICS_CODE</script>
	<script type='text/javascript'>var _STRINGS={"Ad":{"Mobile":{"Preroll":{"ReadyIn":"The game is ready in ","Loading":"Your game is loading...","Close":"Close",},"Header":{"ReadyIn":"The game is ready in ","Loading":"Your game is loading...","Close":"Close",},"End":{"ReadyIn":"Advertisement ends in ","Loading":"Please wait ...","Close":"Close",},},},"Splash":{"Loading":"Loading ...","LogoLine1":"Some text here","LogoLine2":"powered by MarketJS","LogoLine3":"none","TapToStart":"TAP TO START",},"Game":{"SelectPlayer":"Select Player","Win":"You win!","Lose":"You lose!","Score":"Score","Time":"Time",},"Results":{"Title":"High score",},"TUTORIAL":{"1":"Attention soldier! ","2":"A virus spreading on this planet is turning our friends into skeletons.","3":"To protect those left, you are our last line of defense.","4":"Don't let the skeletons reach the red zone. ","5":" ","6":"skeleton can appear from nowhere.","7":"Point your gun at them, and take them out before they reach you!","8":"Point your gun at them, and take them out before they reach you!","9":"Good Job! Dead skeletons may spawn power ups.","10":"Shoot the power-up to change weapons.","11":"Try to shoot the power-up to change weapons.","12":"Your weapon has been changed to new weapon.","13":"Different weapons have their own effects, lets try it. ","14":"Different weapons have their own effects, lets try it. ","15":"The grenade will slow down the skeletons.","16":"Be careful and conserve your ammo.","17":"Remember to use the points earned to upgrade the weapons in the shop.","18":"Alright! Incoming! ","19":" ",},};
var _SETTINGS={DeveloperBranding:{Splash:{Enabled:!1},Logo:{Enabled:!0,Link:"http://google.com",LinkEnabled:!0,Width:166,Height:61}},Branding:{Splash:{Enabled:BrandingSplashScreen.enabled},Logo:{Enabled:!1,Link:"http://google.com",LinkEnabled:!1,Width:166,Height:61}},MoreGames:{Enabled:BrandingInGameMoreGames.enabled,Link:BrandingInGameMoreGames.url,NewWindow:!0}};!function(b,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=b.document?c(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return c(b)}:c(b)}("undefined"!=typeof window?window:this,function(b,c){function d(b,x){x=x||A;var c=x.createElement("script");c.text=b;x.head.appendChild(c).parentNode.removeChild(c)}function j(b){var x=!!b&&"length"in b&&b.length,c=g.type(b);return"function"!==c&&!g.isWindow(b)&&("array"===c||0===x||"number"==
typeof x&&0<x&&x-1 in b)}function f(b,x){return b.nodeName&&b.nodeName.toLowerCase()===x.toLowerCase()}function n(b,x,c){return g.isFunction(x)?g.grep(b,function(b,z){return!!x.call(b,z,b)!==c}):x.nodeType?g.grep(b,function(b){return b===x!==c}):"string"!=typeof x?g.grep(b,function(b){return-1<Ca.call(x,b)!==c}):Bc.test(x)?g.filter(x,b,c):(x=g.filter(x,b),g.grep(b,function(b){return-1<Ca.call(x,b)!==c&&1===b.nodeType}))}function t(b,x){for(;(b=b[x])&&1!==b.nodeType;);return b}function r(b){return b}
function e(b){throw b;}function l(b,x,c,y){var e;try{b&&g.isFunction(e=b.promise)?e.call(b).done(x).fail(c):b&&g.isFunction(e=b.then)?e.call(b,x,c):x.apply(void 0,[b].slice(y))}catch(d){c.apply(void 0,[d])}}function m(){A.removeEventListener("DOMContentLoaded",m);b.removeEventListener("load",m);g.ready()}function s(){this.expando=g.expando+s.uid++}function p(b,x,c){var y;if(void 0===c&&1===b.nodeType)if(y="data-"+x.replace(Cc,"-$&").toLowerCase(),c=b.getAttribute(y),"string"==typeof c){try{c="true"===
c||"false"!==c&&("null"===c?null:c===+c+""?+c:Dc.test(c)?JSON.parse(c):c)}catch(e){}Q.set(b,x,c)}else c=void 0;return c}function v(b,c,q,y){var e,d=1,l=20,f=y?function(){return y.cur()}:function(){return g.css(b,c,"")},m=f(),s=q&&q[3]||(g.cssNumber[c]?"":"px"),j=(g.cssNumber[c]||"px"!==s&&+m)&&Da.exec(g.css(b,c));if(j&&j[3]!==s){s=s||j[3];q=q||[];j=+m||1;do d=d||".5",j/=d,g.style(b,c,j+s);while(d!==(d=f()/m)&&1!==d&&--l)}return q&&(j=+j||+m||0,e=q[1]?j+(q[1]+1)*q[2]:+q[2],y&&(y.unit=s,y.start=j,y.end=
e)),e}function u(b,c){for(var q,y,e=[],d=0,l=b.length;d<l;d++)if(y=b[d],y.style)if(q=y.style.display,c){if("none"===q&&(e[d]=D.get(y,"display")||null,e[d]||(y.style.display="")),""===y.style.display&&La(y)){q=e;var f=d,m,s=void 0;m=y.ownerDocument;var j=y.nodeName;m=(y=zb[j])?y:(s=m.body.appendChild(m.createElement(j)),y=g.css(s,"display"),s.parentNode.removeChild(s),"none"===y&&(y="block"),zb[j]=y,y);q[f]=m}}else"none"!==q&&(e[d]="none",D.set(y,"display",q));for(d=0;d<l;d++)null!=e[d]&&(b[d].style.display=
e[d]);return b}function B(b,c){var q;return q="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(c||"*"):"undefined"!=typeof b.querySelectorAll?b.querySelectorAll(c||"*"):[],void 0===c||c&&f(b,c)?g.merge([b],q):q}function G(b,c){for(var q=0,y=b.length;q<y;q++)D.set(b[q],"globalEval",!c||D.get(c[q],"globalEval"))}function F(b,c,q,y,e){for(var d,l,f,m,s=c.createDocumentFragment(),j=[],p=0,n=b.length;p<n;p++)if(d=b[p],d||0===d)if("object"===g.type(d))g.merge(j,d.nodeType?[d]:d);else if(Ec.test(d)){l=
l||s.appendChild(c.createElement("div"));f=(Ab.exec(d)||["",""])[1].toLowerCase();f=T[f]||T._default;l.innerHTML=f[1]+g.htmlPrefilter(d)+f[2];for(f=f[0];f--;)l=l.lastChild;g.merge(j,l.childNodes);l=s.firstChild;l.textContent=""}else j.push(c.createTextNode(d));s.textContent="";for(p=0;d=j[p++];)if(y&&-1<g.inArray(d,y))e&&e.push(d);else if(m=g.contains(d.ownerDocument,d),l=B(s.appendChild(d),"script"),m&&G(l),q)for(f=0;d=l[f++];)Bb.test(d.type||"")&&q.push(d);return s}function J(){return!0}function U(){return!1}
function la(){try{return A.activeElement}catch(b){}}function O(b,c,q,y,e,d){var l,f;if("object"==typeof c){"string"!=typeof q&&(y=y||q,q=void 0);for(f in c)O(b,f,q,y,c[f],d);return b}if(null==y&&null==e?(e=q,y=q=void 0):null==e&&("string"==typeof q?(e=y,y=void 0):(e=y,y=q,q=void 0)),!1===e)e=U;else if(!e)return b;return 1===d&&(l=e,e=function(b){return g().off(b),l.apply(this,arguments)},e.guid=l.guid||(l.guid=g.guid++)),b.each(function(){g.event.add(this,c,e,y,q)})}function Cb(b,c){return f(b,"table")&&
f(11!==c.nodeType?c:c.firstChild,"tr")?g(">tbody",b)[0]||b:b}function Fc(b){return b.type=(null!==b.getAttribute("type"))+"/"+b.type,b}function Gc(b){var c=Hc.exec(b.type);return c?b.type=c[1]:b.removeAttribute("type"),b}function Db(b,c){var q,y,e,d,l,f;if(1===c.nodeType){if(D.hasData(b)&&(q=D.access(b),y=D.set(c,q),f=q.events))for(e in delete y.handle,y.events={},f){q=0;for(y=f[e].length;q<y;q++)g.event.add(c,e,f[e][q])}Q.hasData(b)&&(d=Q.access(b),l=g.extend({},d),Q.set(c,l))}}function wa(b,c,q,
y){c=Eb.apply([],c);var e,P,l,f,m=0,s=b.length,j=s-1,p=c[0],n=g.isFunction(p);if(n||1<s&&"string"==typeof p&&!H.checkClone&&Ic.test(p))return b.each(function(e){var g=b.eq(e);n&&(c[0]=p.call(this,e,g.html()));wa(g,c,q,y)});if(s&&(e=F(c,b[0].ownerDocument,!1,b,y),P=e.firstChild,1===e.childNodes.length&&(e=P),P||y)){P=g.map(B(e,"script"),Fc);for(l=P.length;m<s;m++)f=e,m!==j&&(f=g.clone(f,!0,!0),l&&g.merge(P,B(f,"script"))),q.call(b[m],f,m);if(l){e=P[P.length-1].ownerDocument;g.map(P,Gc);for(m=0;m<l;m++)f=
P[m],Bb.test(f.type||"")&&!D.access(f,"globalEval")&&g.contains(e,f)&&(f.src?g._evalUrl&&g._evalUrl(f.src):d(f.textContent.replace(Kc,""),e))}}return b}function Fb(b,c,q){for(var y=c?g.filter(c,b):b,e=0;null!=(c=y[e]);e++)q||1!==c.nodeType||g.cleanData(B(c)),c.parentNode&&(q&&g.contains(c.ownerDocument,c)&&G(B(c,"script")),c.parentNode.removeChild(c));return b}function Ea(b,c,q){var y,e,d,l,f=b.style;return q=q||Ma(b),q&&(l=q.getPropertyValue(c)||q[c],""!==l||g.contains(b.ownerDocument,b)||(l=g.style(b,
c)),!H.pixelMarginRight()&&fb.test(l)&&Gb.test(c)&&(y=f.width,e=f.minWidth,d=f.maxWidth,f.minWidth=f.maxWidth=f.width=l,l=q.width,f.width=y,f.minWidth=e,f.maxWidth=d)),void 0!==l?l+"":l}function Hb(b,c){return{get:function(){return b()?void delete this.get:(this.get=c).apply(this,arguments)}}}function Ib(b){var c=g.cssProps[b];if(!c){var c=g.cssProps,q;a:if(q=b,!(q in Jb)){for(var y=q[0].toUpperCase()+q.slice(1),e=Kb.length;e--;)if(q=Kb[e]+y,q in Jb)break a;q=void 0}c=c[b]=q||b}return c}function Lb(b,
c,q){return(b=Da.exec(c))?Math.max(0,b[2]-(q||0))+(b[3]||"px"):c}function Mb(b,c,q,e,d){var l=0;for(c=q===(e?"border":"content")?4:"width"===c?1:0;4>c;c+=2)"margin"===q&&(l+=g.css(b,q+ma[c],!0,d)),e?("content"===q&&(l-=g.css(b,"padding"+ma[c],!0,d)),"margin"!==q&&(l-=g.css(b,"border"+ma[c]+"Width",!0,d))):(l+=g.css(b,"padding"+ma[c],!0,d),"padding"!==q&&(l+=g.css(b,"border"+ma[c]+"Width",!0,d)));return l}function Nb(b,c,q){var e,d=Ma(b),l=Ea(b,c,d),f="border-box"===g.css(b,"boxSizing",!1,d);return fb.test(l)?
l:(e=f&&(H.boxSizingReliable()||l===b.style[c]),"auto"===l&&(l=b["offset"+c[0].toUpperCase()+c.slice(1)]),l=parseFloat(l)||0,l+Mb(b,c,q||(f?"border":"content"),e,d)+"px")}function R(b,c,q,e,g){return new R.prototype.init(b,c,q,e,g)}function gb(){Na&&(!1===A.hidden&&b.requestAnimationFrame?b.requestAnimationFrame(gb):b.setTimeout(gb,g.fx.interval),g.fx.tick())}function Ob(){return b.setTimeout(function(){xa=void 0}),xa=g.now()}function Oa(b,c){var q,e=0,g={height:b};for(c=c?1:0;4>e;e+=2-c)q=ma[e],
g["margin"+q]=g["padding"+q]=b;return c&&(g.opacity=g.width=b),g}function Pb(b,c,q){for(var e,g=(Z.tweeners[c]||[]).concat(Z.tweeners["*"]),d=0,l=g.length;d<l;d++)if(e=g[d].call(q,c,b))return e}function Z(b,c,q){var e,d,l=0,f=Z.prefilters.length,m=g.Deferred().always(function(){delete s.elem}),s=function(){if(d)return!1;for(var c=xa||Ob(),c=Math.max(0,j.startTime+j.duration-c),x=1-(c/j.duration||0),q=0,e=j.tweens.length;q<e;q++)j.tweens[q].run(x);return m.notifyWith(b,[j,x,c]),1>x&&e?c:(e||m.notifyWith(b,
[j,1,0]),m.resolveWith(b,[j]),!1)},j=m.promise({elem:b,props:g.extend({},c),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},q),originalProperties:c,originalOptions:q,startTime:xa||Ob(),duration:q.duration,tweens:[],createTween:function(c,x){var q=g.Tween(b,j.opts,c,x,j.opts.specialEasing[c]||j.opts.easing);return j.tweens.push(q),q},stop:function(c){var x=0,q=c?j.tweens.length:0;if(d)return this;for(d=!0;x<q;x++)j.tweens[x].run(1);return c?(m.notifyWith(b,[j,1,0]),m.resolveWith(b,[j,
c])):m.rejectWith(b,[j,c]),this}});c=j.props;q=j.opts.specialEasing;var p,n,r,v;for(e in c)if(p=g.camelCase(e),n=q[p],r=c[e],Array.isArray(r)&&(n=r[1],r=c[e]=r[0]),e!==p&&(c[p]=r,delete c[e]),v=g.cssHooks[p],v&&"expand"in v)for(e in r=v.expand(r),delete c[p],r)e in c||(c[e]=r[e],q[e]=n);else q[p]=n;for(;l<f;l++)if(e=Z.prefilters[l].call(j,b,c,j.opts))return g.isFunction(e.stop)&&(g._queueHooks(j.elem,j.opts.queue).stop=g.proxy(e.stop,e)),e;return g.map(c,Pb,j),g.isFunction(j.opts.start)&&j.opts.start.call(b,
j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),g.fx.timer(g.extend(s,{elem:b,anim:j,queue:j.opts.queue})),j}function na(b){return(b.match(V)||[]).join(" ")}function oa(b){return b.getAttribute&&b.getAttribute("class")||""}function hb(b,c,q,e){var d;if(Array.isArray(c))g.each(c,function(c,x){q||Lc.test(b)?e(b,x):hb(b+"["+("object"==typeof x&&null!=x?c:"")+"]",x,q,e)});else if(q||"object"!==g.type(c))e(b,c);else for(d in c)hb(b+"["+d+"]",c[d],
q,e)}function Qb(b){return function(c,q){"string"!=typeof c&&(q=c,c="*");var e,d=0,l=c.toLowerCase().match(V)||[];if(g.isFunction(q))for(;e=l[d++];)"+"===e[0]?(e=e.slice(1)||"*",(b[e]=b[e]||[]).unshift(q)):(b[e]=b[e]||[]).push(q)}}function Rb(b,c,q,e){function d(m){var j;return l[m]=!0,g.each(b[m]||[],function(b,z){var g=z(c,q,e);return"string"!=typeof g||f||l[g]?f?!(j=g):void 0:(c.dataTypes.unshift(g),d(g),!1)}),j}var l={},f=b===ib;return d(c.dataTypes[0])||!l["*"]&&d("*")}function jb(b,c){var q,
e,d=g.ajaxSettings.flatOptions||{};for(q in c)void 0!==c[q]&&((d[q]?b:e||(e={}))[q]=c[q]);return e&&g.extend(!0,b,e),b}var pa=[],A=b.document,Mc=Object.getPrototypeOf,qa=pa.slice,Eb=pa.concat,kb=pa.push,Ca=pa.indexOf,Pa={},Sb=Pa.toString,Qa=Pa.hasOwnProperty,Tb=Qa.toString,Nc=Tb.call(Object),H={},g=function(b,c){return new g.fn.init(b,c)},Oc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Pc=/^-ms-/,Qc=/-([a-z])/g,Rc=function(b,c){return c.toUpperCase()};g.fn=g.prototype={jquery:"3.2.1",constructor:g,length:0,
toArray:function(){return qa.call(this)},get:function(b){return null==b?qa.call(this):0>b?this[b+this.length]:this[b]},pushStack:function(b){b=g.merge(this.constructor(),b);return b.prevObject=this,b},each:function(b){return g.each(this,b)},map:function(b){return this.pushStack(g.map(this,function(c,q){return b.call(c,q,c)}))},slice:function(){return this.pushStack(qa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var c=this.length;b=
+b+(0>b?c:0);return this.pushStack(0<=b&&b<c?[this[b]]:[])},end:function(){return this.prevObject||this.constructor()},push:kb,sort:pa.sort,splice:pa.splice};g.extend=g.fn.extend=function(){var b,c,q,e,d,l,f=arguments[0]||{},m=1,j=arguments.length,s=!1;"boolean"==typeof f&&(s=f,f=arguments[m]||{},m++);"object"==typeof f||g.isFunction(f)||(f={});for(m===j&&(f=this,m--);m<j;m++)if(null!=(b=arguments[m]))for(c in b)q=f[c],e=b[c],f!==e&&(s&&e&&(g.isPlainObject(e)||(d=Array.isArray(e)))?(d?(d=!1,l=q&&
Array.isArray(q)?q:[]):l=q&&g.isPlainObject(q)?q:{},f[c]=g.extend(s,l,e)):void 0!==e&&(f[c]=e));return f};g.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw Error(b);},noop:function(){},isFunction:function(b){return"function"===g.type(b)},isWindow:function(b){return null!=b&&b===b.window},isNumeric:function(b){var c=g.type(b);return("number"===c||"string"===c)&&!isNaN(b-parseFloat(b))},isPlainObject:function(b){var c,q;return!(!b||"[object Object]"!==
Sb.call(b))&&(!(c=Mc(b))||(q=Qa.call(c,"constructor")&&c.constructor,"function"==typeof q&&Tb.call(q)===Nc))},isEmptyObject:function(b){for(var c in b)return!1;return!0},type:function(b){return null==b?b+"":"object"==typeof b||"function"==typeof b?Pa[Sb.call(b)]||"object":typeof b},globalEval:function(b){d(b)},camelCase:function(b){return b.replace(Pc,"ms-").replace(Qc,Rc)},each:function(b,c){var q,e=0;if(j(b))for(q=b.length;e<q&&!1!==c.call(b[e],e,b[e]);e++);else for(e in b)if(!1===c.call(b[e],e,
b[e]))break;return b},trim:function(b){return null==b?"":(b+"").replace(Oc,"")},makeArray:function(b,c){var q=c||[];return null!=b&&(j(Object(b))?g.merge(q,"string"==typeof b?[b]:b):kb.call(q,b)),q},inArray:function(b,c,q){return null==c?-1:Ca.call(c,b,q)},merge:function(b,c){for(var q=+c.length,e=0,g=b.length;e<q;e++)b[g++]=c[e];return b.length=g,b},grep:function(b,c,q){for(var e=[],g=0,d=b.length,l=!q;g<d;g++)q=!c(b[g],g),q!==l&&e.push(b[g]);return e},map:function(b,c,q){var e,g,d=0,l=[];if(j(b))for(e=
b.length;d<e;d++)g=c(b[d],d,q),null!=g&&l.push(g);else for(d in b)g=c(b[d],d,q),null!=g&&l.push(g);return Eb.apply([],l)},guid:1,proxy:function(b,c){var e,y,d;if("string"==typeof c&&(e=b[c],c=b,b=e),g.isFunction(b))return y=qa.call(arguments,2),d=function(){return b.apply(c||this,y.concat(qa.call(arguments)))},d.guid=b.guid=b.guid||g.guid++,d},now:Date.now,support:H});"function"==typeof Symbol&&(g.fn[Symbol.iterator]=pa[Symbol.iterator]);g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),
function(b,c){Pa["[object "+c+"]"]=c.toLowerCase()});var ha,lb=b,E=function(b,c,e,y){var g,d,l,f,m,j=c&&c.ownerDocument,s=c?c.nodeType:9;if(e=e||[],"string"!=typeof b||!b||1!==s&&9!==s&&11!==s)return e;if(!y&&((c?c.ownerDocument||c:W)!==I&&ia(c),c=c||I,X)){if(11!==s&&(f=Sc.exec(b)))if(g=f[1])if(9===s){if(!(d=c.getElementById(g)))return e;if(d.id===g)return e.push(d),e}else{if(j&&(d=j.getElementById(g))&&Fa(c,d)&&d.id===g)return e.push(d),e}else{if(f[2])return ja.apply(e,c.getElementsByTagName(b)),
e;if((g=f[3])&&L.getElementsByClassName&&c.getElementsByClassName)return ja.apply(e,c.getElementsByClassName(g)),e}if(L.qsa&&!Ra[b+" "]&&(!N||!N.test(b))){if(1!==s)j=c,m=b;else if("object"!==c.nodeName.toLowerCase()){(l=c.getAttribute("id"))?l=l.replace(Ub,Vb):c.setAttribute("id",l=M);d=Ga(b);for(g=d.length;g--;)d[g]="#"+l+" "+Sa(d[g]);m=d.join(",");j=mb.test(b)&&nb(c.parentNode)||c}if(m)try{return ja.apply(e,j.querySelectorAll(m)),e}catch(p){}finally{l===M&&c.removeAttribute("id")}}}return Wb(b.replace(Ta,
"$1"),c,e,y)},ob=function(){function b(e,y){return c.push(e+" ")>C.cacheLength&&delete b[c.shift()],b[e+" "]=y}var c=[];return b},aa=function(b){return b[M]=!0,b},ca=function(b){var c=I.createElement("fieldset");try{return!!b(c)}catch(e){return!1}finally{c.parentNode&&c.parentNode.removeChild(c)}},pb=function(b,c){for(var e=b.split("|"),y=e.length;y--;)C.attrHandle[e[y]]=c},Xb=function(b,c){var e=c&&b,y=e&&1===b.nodeType&&1===c.nodeType&&b.sourceIndex-c.sourceIndex;if(y)return y;if(e)for(;e=e.nextSibling;)if(e===
c)return-1;return b?1:-1},Tc=function(b){return function(c){return"input"===c.nodeName.toLowerCase()&&c.type===b}},Uc=function(b){return function(c){var e=c.nodeName.toLowerCase();return("input"===e||"button"===e)&&c.type===b}},Yb=function(b){return function(c){return"form"in c?c.parentNode&&!1===c.disabled?"label"in c?"label"in c.parentNode?c.parentNode.disabled===b:c.disabled===b:c.isDisabled===b||c.isDisabled!==!b&&Vc(c)===b:c.disabled===b:"label"in c&&c.disabled===b}},ra=function(b){return aa(function(c){return c=
+c,aa(function(e,y){for(var g,d=b([],e.length,c),l=d.length;l--;)e[g=d[l]]&&(e[g]=!(y[g]=e[g]))})})},nb=function(b){return b&&"undefined"!=typeof b.getElementsByTagName&&b},Zb=function(){},Sa=function(b){for(var c=0,e=b.length,y="";c<e;c++)y+=b[c].value;return y},Ua=function(b,c,e){var y=c.dir,g=c.next,d=g||y,l=e&&"parentNode"===d,f=Wc++;return c.first?function(c,e,x){for(;c=c[y];)if(1===c.nodeType||l)return b(c,e,x);return!1}:function(c,e,x){var q,m,j,s=[da,f];if(x)for(;c=c[y];){if((1===c.nodeType||
l)&&b(c,e,x))return!0}else for(;c=c[y];)if(1===c.nodeType||l)if(j=c[M]||(c[M]={}),m=j[c.uniqueID]||(j[c.uniqueID]={}),g&&g===c.nodeName.toLowerCase())c=c[y]||c;else{if((q=m[d])&&q[0]===da&&q[1]===f)return s[2]=q[2];if(m[d]=s,s[2]=b(c,e,x))return!0}return!1}},qb=function(b){return 1<b.length?function(c,e,g){for(var d=b.length;d--;)if(!b[d](c,e,g))return!1;return!0}:b[0]},Va=function(b,c,e,g,d){for(var l,f=[],m=0,j=b.length,s=null!=c;m<j;m++)(l=b[m])&&(e&&!e(l,g,d)||(f.push(l),s&&c.push(m)));return f},
rb=function(b,c,e,g,d,l){return g&&!g[M]&&(g=rb(g)),d&&!d[M]&&(d=rb(d,l)),aa(function(l,f,m,P){var j,s,p=[],n=[],r=f.length,v;if(!(v=l)){v=c||"*";for(var t=m.nodeType?[m]:m,u=[],B=0,D=t.length;B<D;B++)E(v,t[B],u);v=u}v=!b||!l&&c?v:Va(v,p,b,m,P);t=e?d||(l?b:r||g)?[]:f:v;if(e&&e(v,t,m,P),g){j=Va(t,n);g(j,[],m,P);for(m=j.length;m--;)(s=j[m])&&(t[n[m]]=!(v[n[m]]=s))}if(l){if(d||b){if(d){j=[];for(m=t.length;m--;)(s=t[m])&&j.push(v[m]=s);d(null,t=[],j,P)}for(m=t.length;m--;)(s=t[m])&&-1<(j=d?sa(l,s):p[m])&&
(l[j]=!(f[j]=s))}}else t=Va(t===f?t.splice(r,t.length):t),d?d(null,f,t,P):ja.apply(f,t)})},sb=function(b){var c,e,g,d=b.length,l=C.relative[b[0].type];e=l||C.relative[" "];for(var f=l?1:0,m=Ua(function(b){return b===c},e,!0),j=Ua(function(b){return-1<sa(c,b)},e,!0),s=[function(b,z,e){b=!l&&(e||z!==Wa)||((c=z).nodeType?m(b,z,e):j(b,z,e));return c=null,b}];f<d;f++)if(e=C.relative[b[f].type])s=[Ua(qb(s),e)];else{if(e=C.filter[b[f].type].apply(null,b[f].matches),e[M]){for(g=++f;g<d&&!C.relative[b[g].type];g++);
return rb(1<f&&qb(s),1<f&&Sa(b.slice(0,f-1).concat({value:" "===b[f-2].type?"*":""})).replace(Ta,"$1"),e,f<g&&sb(b.slice(f,g)),g<d&&sb(b=b.slice(g)),g<d&&Sa(b))}s.push(e)}return qb(s)},ya,L,C,Xa,$b,Ga,tb,Wb,Wa,ka,za,ia,I,Y,X,N,ta,Ya,Fa,M="sizzle"+1*new Date,W=lb.document,da=0,Wc=0,ac=ob(),bc=ob(),Ra=ob(),ub=function(b,c){return b===c&&(za=!0),0},Xc={}.hasOwnProperty,ua=[],Yc=ua.pop,Zc=ua.push,ja=ua.push,cc=ua.slice,sa=function(b,c){for(var e=0,g=b.length;e<g;e++)if(b[e]===c)return e;return-1},$c=
/[\x20\t\r\n\f]+/g,Ta=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ad=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,bd=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,cd=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,dd=RegExp(":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
ed=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Za={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:RegExp("^\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\]"),PSEUDO:RegExp("^:((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"),
CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},fd=/^(?:input|select|textarea|button)$/i,gd=/^h\d$/i,Ha=/^[^{]+\{\s*\[native \w/,Sc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mb=/[+~]/,ea=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,fa=function(b,c,e){b="0x"+c-65536;return b!==b||e?c:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)},Ub=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Vb=function(b,c){return c?"\x00"===b?"\ufffd":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b},dc=function(){ia()},
Vc=Ua(function(b){return!0===b.disabled&&("form"in b||"label"in b)},{dir:"parentNode",next:"legend"});try{ja.apply(ua=cc.call(W.childNodes),W.childNodes),ua[W.childNodes.length].nodeType}catch(Jd){ja={apply:ua.length?function(b,c){Zc.apply(b,cc.call(c))}:function(b,c){for(var e=b.length,g=0;b[e++]=c[g++];);b.length=e-1}}}L=E.support={};$b=E.isXML=function(b){b=b&&(b.ownerDocument||b).documentElement;return!!b&&"HTML"!==b.nodeName};ia=E.setDocument=function(b){var c,e;b=b?b.ownerDocument||b:W;return b!==
I&&9===b.nodeType&&b.documentElement?(I=b,Y=I.documentElement,X=!$b(I),W!==I&&(e=I.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",dc,!1):e.attachEvent&&e.attachEvent("onunload",dc)),L.attributes=ca(function(b){return b.className="i",!b.getAttribute("className")}),L.getElementsByTagName=ca(function(b){return b.appendChild(I.createComment("")),!b.getElementsByTagName("*").length}),L.getElementsByClassName=Ha.test(I.getElementsByClassName),L.getById=ca(function(b){return Y.appendChild(b).id=
M,!I.getElementsByName||!I.getElementsByName(M).length}),L.getById?(C.filter.ID=function(b){var c=b.replace(ea,fa);return function(b){return b.getAttribute("id")===c}},C.find.ID=function(b,c){if("undefined"!=typeof c.getElementById&&X){var z=c.getElementById(b);return z?[z]:[]}}):(C.filter.ID=function(b){var c=b.replace(ea,fa);return function(b){return(b="undefined"!=typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===c}},C.find.ID=function(b,c){if("undefined"!=typeof c.getElementById&&
X){var z,e,x,q=c.getElementById(b);if(q){if(z=q.getAttributeNode("id"),z&&z.value===b)return[q];x=c.getElementsByName(b);for(e=0;q=x[e++];)if(z=q.getAttributeNode("id"),z&&z.value===b)return[q]}return[]}}),C.find.TAG=L.getElementsByTagName?function(b,c){return"undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(b):L.qsa?c.querySelectorAll(b):void 0}:function(b,c){var z,e=[],x=0,q=c.getElementsByTagName(b);if("*"===b){for(;z=q[x++];)1===z.nodeType&&e.push(z);return e}return q},C.find.CLASS=
L.getElementsByClassName&&function(b,c){if("undefined"!=typeof c.getElementsByClassName&&X)return c.getElementsByClassName(b)},ta=[],N=[],(L.qsa=Ha.test(I.querySelectorAll))&&(ca(function(b){Y.appendChild(b).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>";b.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");b.querySelectorAll("[selected]").length||N.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
b.querySelectorAll("[id~="+M+"-]").length||N.push("~=");b.querySelectorAll(":checked").length||N.push(":checked");b.querySelectorAll("a#"+M+"+*").length||N.push(".#.+[+~]")}),ca(function(b){b.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var c=I.createElement("input");c.setAttribute("type","hidden");b.appendChild(c).setAttribute("name","D");b.querySelectorAll("[name=d]").length&&N.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==b.querySelectorAll(":enabled").length&&
N.push(":enabled",":disabled");Y.appendChild(b).disabled=!0;2!==b.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled");b.querySelectorAll("*,:x");N.push(",.*:")})),(L.matchesSelector=Ha.test(Ya=Y.matches||Y.webkitMatchesSelector||Y.mozMatchesSelector||Y.oMatchesSelector||Y.msMatchesSelector))&&ca(function(b){L.disconnectedMatch=Ya.call(b,"*");Ya.call(b,"[s!='']:x");ta.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
N=N.length&&RegExp(N.join("|")),ta=ta.length&&RegExp(ta.join("|")),c=Ha.test(Y.compareDocumentPosition),Fa=c||Ha.test(Y.contains)?function(b,c){var z=9===b.nodeType?b.documentElement:b,e=c&&c.parentNode;return b===e||!(!e||1!==e.nodeType||!(z.contains?z.contains(e):b.compareDocumentPosition&&16&b.compareDocumentPosition(e)))}:function(b,c){if(c)for(;c=c.parentNode;)if(c===b)return!0;return!1},ub=c?function(b,c){if(b===c)return za=!0,0;var z=!b.compareDocumentPosition-!c.compareDocumentPosition;return z?
z:(z=(b.ownerDocument||b)===(c.ownerDocument||c)?b.compareDocumentPosition(c):1,1&z||!L.sortDetached&&c.compareDocumentPosition(b)===z?b===I||b.ownerDocument===W&&Fa(W,b)?-1:c===I||c.ownerDocument===W&&Fa(W,c)?1:ka?sa(ka,b)-sa(ka,c):0:4&z?-1:1)}:function(b,c){if(b===c)return za=!0,0;var z,e=0;z=b.parentNode;var x=c.parentNode,q=[b],g=[c];if(!z||!x)return b===I?-1:c===I?1:z?-1:x?1:ka?sa(ka,b)-sa(ka,c):0;if(z===x)return Xb(b,c);for(z=b;z=z.parentNode;)q.unshift(z);for(z=c;z=z.parentNode;)g.unshift(z);
for(;q[e]===g[e];)e++;return e?Xb(q[e],g[e]):q[e]===W?-1:g[e]===W?1:0},I):I};E.matches=function(b,c){return E(b,null,null,c)};E.matchesSelector=function(b,c){if((b.ownerDocument||b)!==I&&ia(b),c=c.replace(cd,"='$1']"),L.matchesSelector&&X&&!Ra[c+" "]&&(!ta||!ta.test(c))&&(!N||!N.test(c)))try{var e=Ya.call(b,c);if(e||L.disconnectedMatch||b.document&&11!==b.document.nodeType)return e}catch(g){}return 0<E(c,I,null,[b]).length};E.contains=function(b,c){return(b.ownerDocument||b)!==I&&ia(b),Fa(b,c)};E.attr=
function(b,c){(b.ownerDocument||b)!==I&&ia(b);var e=C.attrHandle[c.toLowerCase()],e=e&&Xc.call(C.attrHandle,c.toLowerCase())?e(b,c,!X):void 0;return void 0!==e?e:L.attributes||!X?b.getAttribute(c):(e=b.getAttributeNode(c))&&e.specified?e.value:null};E.escape=function(b){return(b+"").replace(Ub,Vb)};E.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};E.uniqueSort=function(b){var c,e=[],g=0,d=0;if(za=!L.detectDuplicates,ka=!L.sortStable&&b.slice(0),b.sort(ub),za){for(;c=b[d++];)c===
b[d]&&(g=e.push(d));for(;g--;)b.splice(e[g],1)}return ka=null,b};Xa=E.getText=function(b){var c,e="",g=0;if(c=b.nodeType)if(1===c||9===c||11===c){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)e+=Xa(b)}else{if(3===c||4===c)return b.nodeValue}else for(;c=b[g++];)e+=Xa(c);return e};C=E.selectors={cacheLength:50,createPseudo:aa,match:Za,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},
"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(ea,fa),b[3]=(b[3]||b[4]||b[5]||"").replace(ea,fa),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1].slice(0,3)?(b[3]||E.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&E.error(b[0]),b},PSEUDO:function(b){var c,e=!b[6]&&b[2];return Za.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":e&&dd.test(e)&&
(c=Ga(e,!0))&&(c=e.indexOf(")",e.length-c)-e.length)&&(b[0]=b[0].slice(0,c),b[2]=e.slice(0,c)),b.slice(0,3))}},filter:{TAG:function(b){var c=b.replace(ea,fa).toLowerCase();return"*"===b?function(){return!0}:function(b){return b.nodeName&&b.nodeName.toLowerCase()===c}},CLASS:function(b){var c=ac[b+" "];return c||(c=RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))&&ac(b,function(b){return c.test("string"==typeof b.className&&b.className||"undefined"!=typeof b.getAttribute&&b.getAttribute("class")||
"")})},ATTR:function(b,c,e){return function(g){g=E.attr(g,b);return null==g?"!="===c:!c||(g+="","="===c?g===e:"!="===c?g!==e:"^="===c?e&&0===g.indexOf(e):"*="===c?e&&-1<g.indexOf(e):"$="===c?e&&g.slice(-e.length)===e:"~="===c?-1<(" "+g.replace($c," ")+" ").indexOf(e):"|="===c&&(g===e||g.slice(0,e.length+1)===e+"-"))}},CHILD:function(b,c,e,g,d){var l="nth"!==b.slice(0,3),f="last"!==b.slice(-4),m="of-type"===c;return 1===g&&0===d?function(b){return!!b.parentNode}:function(c,e,x){var q,j,s,p,n,r;e=l!==
f?"nextSibling":"previousSibling";var v=c.parentNode,t=m&&c.nodeName.toLowerCase();x=!x&&!m;var u=!1;if(v){if(l){for(;e;){for(p=c;p=p[e];)if(m?p.nodeName.toLowerCase()===t:1===p.nodeType)return!1;r=e="only"===b&&!r&&"nextSibling"}return!0}if(r=[f?v.firstChild:v.lastChild],f&&x){p=v;s=p[M]||(p[M]={});j=s[p.uniqueID]||(s[p.uniqueID]={});q=j[b]||[];u=(n=q[0]===da&&q[1])&&q[2];for(p=n&&v.childNodes[n];p=++n&&p&&p[e]||(u=n=0)||r.pop();)if(1===p.nodeType&&++u&&p===c){j[b]=[da,n,u];break}}else if(x&&(p=
c,s=p[M]||(p[M]={}),j=s[p.uniqueID]||(s[p.uniqueID]={}),q=j[b]||[],n=q[0]===da&&q[1],u=n),!1===u)for(;(p=++n&&p&&p[e]||(u=n=0)||r.pop())&&(!(m?p.nodeName.toLowerCase()===t:1===p.nodeType)||!++u||!(x&&(s=p[M]||(p[M]={}),j=s[p.uniqueID]||(s[p.uniqueID]={}),j[b]=[da,u]),p===c)););return u-=d,u===g||0===u%g&&0<=u/g}}},PSEUDO:function(b,c){var e,g=C.pseudos[b]||C.setFilters[b.toLowerCase()]||E.error("unsupported pseudo: "+b);return g[M]?g(c):1<g.length?(e=[b,b,"",c],C.setFilters.hasOwnProperty(b.toLowerCase())?
aa(function(b,z){for(var e,q=g(b,c),d=q.length;d--;)e=sa(b,q[d]),b[e]=!(z[e]=q[d])}):function(b){return g(b,0,e)}):g}},pseudos:{not:aa(function(b){var c=[],e=[],g=tb(b.replace(Ta,"$1"));return g[M]?aa(function(b,c,z,e){var x;z=g(b,null,e,[]);for(e=b.length;e--;)(x=z[e])&&(b[e]=!(c[e]=x))}):function(b,z,d){return c[0]=b,g(c,null,d,e),c[0]=null,!e.pop()}}),has:aa(function(b){return function(c){return 0<E(b,c).length}}),contains:aa(function(b){return b=b.replace(ea,fa),function(c){return-1<(c.textContent||
c.innerText||Xa(c)).indexOf(b)}}),lang:aa(function(b){return ed.test(b||"")||E.error("unsupported lang: "+b),b=b.replace(ea,fa).toLowerCase(),function(c){var e;do if(e=X?c.lang:c.getAttribute("xml:lang")||c.getAttribute("lang"))return e=e.toLowerCase(),e===b||0===e.indexOf(b+"-");while((c=c.parentNode)&&1===c.nodeType);return!1}}),target:function(b){var c=lb.location&&lb.location.hash;return c&&c.slice(1)===b.id},root:function(b){return b===Y},focus:function(b){return b===I.activeElement&&(!I.hasFocus||
I.hasFocus())&&!(!b.type&&!b.href&&!~b.tabIndex)},enabled:Yb(!1),disabled:Yb(!0),checked:function(b){var c=b.nodeName.toLowerCase();return"input"===c&&!!b.checked||"option"===c&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(6>b.nodeType)return!1;return!0},parent:function(b){return!C.pseudos.empty(b)},header:function(b){return gd.test(b.nodeName)},input:function(b){return fd.test(b.nodeName)},
button:function(b){var c=b.nodeName.toLowerCase();return"input"===c&&"button"===b.type||"button"===c},text:function(b){var c;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(c=b.getAttribute("type"))||"text"===c.toLowerCase())},first:ra(function(){return[0]}),last:ra(function(b,c){return[c-1]}),eq:ra(function(b,c,e){return[0>e?e+c:e]}),even:ra(function(b,c){for(var e=0;e<c;e+=2)b.push(e);return b}),odd:ra(function(b,c){for(var e=1;e<c;e+=2)b.push(e);return b}),lt:ra(function(b,c,
e){for(c=0>e?e+c:e;0<=--c;)b.push(c);return b}),gt:ra(function(b,c,e){for(e=0>e?e+c:e;++e<c;)b.push(e);return b})}};C.pseudos.nth=C.pseudos.eq;for(ya in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[ya]=Tc(ya);for(ya in{submit:!0,reset:!0})C.pseudos[ya]=Uc(ya);Zb.prototype=C.filters=C.pseudos;C.setFilters=new Zb;Ga=E.tokenize=function(b,c){var e,g,d,l,f,m,j;if(f=bc[b+" "])return c?0:f.slice(0);f=b;m=[];for(j=C.preFilter;f;){e&&!(g=ad.exec(f))||(g&&(f=f.slice(g[0].length)||f),m.push(d=
[]));e=!1;(g=bd.exec(f))&&(e=g.shift(),d.push({value:e,type:g[0].replace(Ta," ")}),f=f.slice(e.length));for(l in C.filter)!(g=Za[l].exec(f))||j[l]&&!(g=j[l](g))||(e=g.shift(),d.push({value:e,type:l,matches:g}),f=f.slice(e.length));if(!e)break}return c?f.length:f?E.error(b):bc(b,m).slice(0)};ha=(tb=E.compile=function(b,c){var e,g=[],d=[],l=Ra[b+" "];if(!l){c||(c=Ga(b));for(e=c.length;e--;)l=sb(c[e]),l[M]?g.push(l):d.push(l);e=Ra;var f=0<g.length,m=0<d.length,l=function(b,c,e,z,x){var q,l,j,s=0,p="0",
P=b&&[],n=[],r=Wa,v=b||m&&C.find.TAG("*",x),t=da+=null==r?1:Math.random()||0.1,u=v.length;for(x&&(Wa=c===I||c||x);p!==u&&null!=(q=v[p]);p++){if(m&&q){l=0;for(c||q.ownerDocument===I||(ia(q),e=!X);j=d[l++];)if(j(q,c||I,e)){z.push(q);break}x&&(da=t)}f&&((q=!j&&q)&&s--,b&&P.push(q))}if(s+=p,f&&p!==s){for(l=0;j=g[l++];)j(P,n,c,e);if(b){if(0<s)for(;p--;)P[p]||n[p]||(n[p]=Yc.call(z));n=Va(n)}ja.apply(z,n);x&&!b&&0<n.length&&1<s+g.length&&E.uniqueSort(z)}return x&&(da=t,Wa=r),P},l=f?aa(l):l,l=e(b,l);l.selector=
b}return l},Wb=E.select=function(b,c,e,g){var d,l,f,m,j,s="function"==typeof b&&b,p=!g&&Ga(b=s.selector||b);if(e=e||[],1===p.length){if(l=p[0]=p[0].slice(0),2<l.length&&"ID"===(f=l[0]).type&&9===c.nodeType&&X&&C.relative[l[1].type]){if(c=(C.find.ID(f.matches[0].replace(ea,fa),c)||[])[0],!c)return e;s&&(c=c.parentNode);b=b.slice(l.shift().value.length)}for(d=Za.needsContext.test(b)?0:l.length;d--&&!(f=l[d],C.relative[m=f.type]);)if((j=C.find[m])&&(g=j(f.matches[0].replace(ea,fa),mb.test(l[0].type)&&
nb(c.parentNode)||c))){if(l.splice(d,1),b=g.length&&Sa(l),!b)return ja.apply(e,g),e;break}}return(s||tb(b,p))(g,c,!X,e,!c||mb.test(b)&&nb(c.parentNode)||c),e},L.sortStable=M.split("").sort(ub).join("")===M,L.detectDuplicates=!!za,ia(),L.sortDetached=ca(function(b){return 1&b.compareDocumentPosition(I.createElement("fieldset"))}),ca(function(b){return b.innerHTML="<a href='#'></a>","#"===b.firstChild.getAttribute("href")})||pb("type|href|height|width",function(b,c,e){if(!e)return b.getAttribute(c,
"type"===c.toLowerCase()?1:2)}),L.attributes&&ca(function(b){return b.innerHTML="<input/>",b.firstChild.setAttribute("value",""),""===b.firstChild.getAttribute("value")})||pb("value",function(b,c,e){if(!e&&"input"===b.nodeName.toLowerCase())return b.defaultValue}),ca(function(b){return null==b.getAttribute("disabled")})||pb("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(b,c,e){var g;if(!e)return!0===b[c]?c.toLowerCase():
(g=b.getAttributeNode(c))&&g.specified?g.value:null}),E);g.find=ha;g.expr=ha.selectors;g.expr[":"]=g.expr.pseudos;g.uniqueSort=g.unique=ha.uniqueSort;g.text=ha.getText;g.isXMLDoc=ha.isXML;g.contains=ha.contains;g.escapeSelector=ha.escape;var Aa=function(b,c,e){for(var d=[],l=void 0!==e;(b=b[c])&&9!==b.nodeType;)if(1===b.nodeType){if(l&&g(b).is(e))break;d.push(b)}return d},ec=function(b,c){for(var e=[];b;b=b.nextSibling)1===b.nodeType&&b!==c&&e.push(b);return e},fc=g.expr.match.needsContext,gc=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,
Bc=/^.[^:#\[\.,]*$/;g.filter=function(b,c,e){var d=c[0];return e&&(b=":not("+b+")"),1===c.length&&1===d.nodeType?g.find.matchesSelector(d,b)?[d]:[]:g.find.matches(b,g.grep(c,function(b){return 1===b.nodeType}))};g.fn.extend({find:function(b){var c,e,d=this.length,l=this;if("string"!=typeof b)return this.pushStack(g(b).filter(function(){for(c=0;c<d;c++)if(g.contains(l[c],this))return!0}));e=this.pushStack([]);for(c=0;c<d;c++)g.find(b,l[c],e);return 1<d?g.uniqueSort(e):e},filter:function(b){return this.pushStack(n(this,
b||[],!1))},not:function(b){return this.pushStack(n(this,b||[],!0))},is:function(b){return!!n(this,"string"==typeof b&&fc.test(b)?g(b):b||[],!1).length}});var hc,hd=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(g.fn.init=function(b,c,e){var d,l;if(!b)return this;if(e=e||hc,"string"==typeof b){if(d="<"===b[0]&&">"===b[b.length-1]&&3<=b.length?[null,b,null]:hd.exec(b),!d||!d[1]&&c)return!c||c.jquery?(c||e).find(b):this.constructor(c).find(b);if(d[1]){if(c=c instanceof g?c[0]:c,g.merge(this,g.parseHTML(d[1],
c&&c.nodeType?c.ownerDocument||c:A,!0)),gc.test(d[1])&&g.isPlainObject(c))for(d in c)g.isFunction(this[d])?this[d](c[d]):this.attr(d,c[d]);return this}return l=A.getElementById(d[2]),l&&(this[0]=l,this.length=1),this}return b.nodeType?(this[0]=b,this.length=1,this):g.isFunction(b)?void 0!==e.ready?e.ready(b):b(g):g.makeArray(b,this)}).prototype=g.fn;hc=g(A);var id=/^(?:parents|prev(?:Until|All))/,jd={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({has:function(b){var c=g(b,this),e=c.length;
return this.filter(function(){for(var b=0;b<e;b++)if(g.contains(this,c[b]))return!0})},closest:function(b,c){var e,d=0,l=this.length,f=[],m="string"!=typeof b&&g(b);if(!fc.test(b))for(;d<l;d++)for(e=this[d];e&&e!==c;e=e.parentNode)if(11>e.nodeType&&(m?-1<m.index(e):1===e.nodeType&&g.find.matchesSelector(e,b))){f.push(e);break}return this.pushStack(1<f.length?g.uniqueSort(f):f)},index:function(b){return b?"string"==typeof b?Ca.call(g(b),this[0]):Ca.call(this,b.jquery?b[0]:b):this[0]&&this[0].parentNode?
this.first().prevAll().length:-1},add:function(b,c){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(b,c))))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});g.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return Aa(b,"parentNode")},parentsUntil:function(b,c,e){return Aa(b,"parentNode",e)},next:function(b){return t(b,"nextSibling")},prev:function(b){return t(b,"previousSibling")},nextAll:function(b){return Aa(b,
"nextSibling")},prevAll:function(b){return Aa(b,"previousSibling")},nextUntil:function(b,c,e){return Aa(b,"nextSibling",e)},prevUntil:function(b,c,e){return Aa(b,"previousSibling",e)},siblings:function(b){return ec((b.parentNode||{}).firstChild,b)},children:function(b){return ec(b.firstChild)},contents:function(b){return f(b,"iframe")?b.contentDocument:(f(b,"template")&&(b=b.content||b),g.merge([],b.childNodes))}},function(b,c){g.fn[b]=function(e,d){var l=g.map(this,c,e);return"Until"!==b.slice(-5)&&
(d=e),d&&"string"==typeof d&&(l=g.filter(d,l)),1<this.length&&(jd[b]||g.uniqueSort(l),id.test(b)&&l.reverse()),this.pushStack(l)}});var V=/[^\x20\t\r\n\f]+/g;g.Callbacks=function(b){var c;if("string"==typeof b){var e={};c=(g.each(b.match(V)||[],function(b,c){e[c]=!0}),e)}else c=g.extend({},b);b=c;var d,l,f,m,j=[],s=[],p=-1,n=function(){m=m||b.once;for(f=d=!0;s.length;p=-1)for(l=s.shift();++p<j.length;)!1===j[p].apply(l[0],l[1])&&b.stopOnFalse&&(p=j.length,l=!1);b.memory||(l=!1);d=!1;m&&(j=l?[]:"")},
r={add:function(){return j&&(l&&!d&&(p=j.length-1,s.push(l)),function Jc(c){g.each(c,function(c,e){g.isFunction(e)?b.unique&&r.has(e)||j.push(e):e&&e.length&&"string"!==g.type(e)&&Jc(e)})}(arguments),l&&!d&&n()),this},remove:function(){return g.each(arguments,function(b,c){for(var e;-1<(e=g.inArray(c,j,e));)j.splice(e,1),e<=p&&p--}),this},has:function(b){return b?-1<g.inArray(b,j):0<j.length},empty:function(){return j&&(j=[]),this},disable:function(){return m=s=[],j=l="",this},disabled:function(){return!j},
lock:function(){return m=s=[],l||d||(j=l=""),this},locked:function(){return!!m},fireWith:function(b,c){return m||(c=c||[],c=[b,c.slice?c.slice():c],s.push(c),d||n()),this},fire:function(){return r.fireWith(this,arguments),this},fired:function(){return!!f}};return r};g.extend({Deferred:function(c){var d=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),
g.Callbacks("once memory"),1,"rejected"]],q="pending",l={state:function(){return q},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(b){return l.then(null,b)},pipe:function(){var b=arguments;return g.Deferred(function(c){g.each(d,function(e,z){var d=g.isFunction(b[z[4]])&&b[z[4]];f[z[1]](function(){var b=d&&d.apply(this,arguments);b&&g.isFunction(b.promise)?b.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[z[0]+"With"](this,d?[b]:arguments)})});b=null}).promise()},
then:function(c,z,q){function l(c,z,d,x){return function(){var q=this,m=arguments,y=function(){var b,y;if(!(c<f)){if(b=d.apply(q,m),b===z.promise())throw new TypeError("Thenable self-resolution");y=b&&("object"==typeof b||"function"==typeof b)&&b.then;g.isFunction(y)?x?y.call(b,l(f,z,r,x),l(f,z,e,x)):(f++,y.call(b,l(f,z,r,x),l(f,z,e,x),l(f,z,r,z.notifyWith))):(d!==r&&(q=void 0,m=[b]),(x||z.resolveWith)(q,m))}},j=x?y:function(){try{y()}catch(b){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(b,
j.stackTrace),c+1>=f&&(d!==e&&(q=void 0,m=[b]),z.rejectWith(q,m))}};c?j():(g.Deferred.getStackHook&&(j.stackTrace=g.Deferred.getStackHook()),b.setTimeout(j))}}var f=0;return g.Deferred(function(b){d[0][3].add(l(0,b,g.isFunction(q)?q:r,b.notifyWith));d[1][3].add(l(0,b,g.isFunction(c)?c:r));d[2][3].add(l(0,b,g.isFunction(z)?z:e))}).promise()},promise:function(b){return null!=b?g.extend(b,l):l}},f={};return g.each(d,function(b,c){var e=c[2],z=c[5];l[c[1]]=e.add;z&&e.add(function(){q=z},d[3-b][2].disable,
d[0][2].lock);e.add(c[3].fire);f[c[0]]=function(){return f[c[0]+"With"](this===f?void 0:this,arguments),this};f[c[0]+"With"]=e.fireWith}),l.promise(f),c&&c.call(f,f),f},when:function(b){var c=arguments.length,e=c,d=Array(e),f=qa.call(arguments),m=g.Deferred(),j=function(b){return function(e){d[b]=this;f[b]=1<arguments.length?qa.call(arguments):e;--c||m.resolveWith(d,f)}};if(1>=c&&(l(b,m.done(j(e)).resolve,m.reject,!c),"pending"===m.state()||g.isFunction(f[e]&&f[e].then)))return m.then();for(;e--;)l(f[e],
j(e),m.reject);return m.promise()}});var kd=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(c,e){b.console&&b.console.warn&&c&&kd.test(c.name)&&b.console.warn("jQuery.Deferred exception: "+c.message,c.stack,e)};g.readyException=function(c){b.setTimeout(function(){throw c;})};var vb=g.Deferred();g.fn.ready=function(b){return vb.then(b)["catch"](function(b){g.readyException(b)}),this};g.extend({isReady:!1,readyWait:1,ready:function(b){(!0===b?--g.readyWait:
g.isReady)||(g.isReady=!0,!0!==b&&0<--g.readyWait||vb.resolveWith(A,[g]))}});g.ready.then=vb.then;"complete"===A.readyState||"loading"!==A.readyState&&!A.documentElement.doScroll?b.setTimeout(g.ready):(A.addEventListener("DOMContentLoaded",m),b.addEventListener("load",m));var ga=function(b,c,e,d,l,f,m){var j=0,s=b.length,p=null==e;if("object"===g.type(e))for(j in l=!0,e)ga(b,c,j,e[j],!0,f,m);else if(void 0!==d&&(l=!0,g.isFunction(d)||(m=!0),p&&(m?(c.call(b,d),c=null):(p=c,c=function(b,c,e){return p.call(g(b),
e)})),c))for(;j<s;j++)c(b[j],e,m?d:d.call(b[j],j,c(b[j],e)));return l?b:p?c.call(b):s?c(b[0],e):f},$a=function(b){return 1===b.nodeType||9===b.nodeType||!+b.nodeType};s.uid=1;s.prototype={cache:function(b){var c=b[this.expando];return c||(c={},$a(b)&&(b.nodeType?b[this.expando]=c:Object.defineProperty(b,this.expando,{value:c,configurable:!0}))),c},set:function(b,c,e){var d;b=this.cache(b);if("string"==typeof c)b[g.camelCase(c)]=e;else for(d in c)b[g.camelCase(d)]=c[d];return b},get:function(b,c){return void 0===
c?this.cache(b):b[this.expando]&&b[this.expando][g.camelCase(c)]},access:function(b,c,e){return void 0===c||c&&"string"==typeof c&&void 0===e?this.get(b,c):(this.set(b,c,e),void 0!==e?e:c)},remove:function(b,c){var e,d=b[this.expando];if(void 0!==d){if(void 0!==c){Array.isArray(c)?c=c.map(g.camelCase):(c=g.camelCase(c),c=c in d?[c]:c.match(V)||[]);for(e=c.length;e--;)delete d[c[e]]}(void 0===c||g.isEmptyObject(d))&&(b.nodeType?b[this.expando]=void 0:delete b[this.expando])}},hasData:function(b){b=
b[this.expando];return void 0!==b&&!g.isEmptyObject(b)}};var D=new s,Q=new s,Dc=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Cc=/[A-Z]/g;g.extend({hasData:function(b){return Q.hasData(b)||D.hasData(b)},data:function(b,c,e){return Q.access(b,c,e)},removeData:function(b,c){Q.remove(b,c)},_data:function(b,c,e){return D.access(b,c,e)},_removeData:function(b,c){D.remove(b,c)}});g.fn.extend({data:function(b,c){var e,d,l,f=this[0],m=f&&f.attributes;if(void 0===b){if(this.length&&(l=Q.get(f),1===f.nodeType&&!D.get(f,
"hasDataAttrs"))){for(e=m.length;e--;)m[e]&&(d=m[e].name,0===d.indexOf("data-")&&(d=g.camelCase(d.slice(5)),p(f,d,l[d])));D.set(f,"hasDataAttrs",!0)}return l}return"object"==typeof b?this.each(function(){Q.set(this,b)}):ga(this,function(c){var e;if(f&&void 0===c){if((e=Q.get(f,b),void 0!==e)||(e=p(f,b),void 0!==e))return e}else this.each(function(){Q.set(this,b,c)})},null,c,1<arguments.length,null,!0)},removeData:function(b){return this.each(function(){Q.remove(this,b)})}});g.extend({queue:function(b,
c,e){var d;if(b)return c=(c||"fx")+"queue",d=D.get(b,c),e&&(!d||Array.isArray(e)?d=D.access(b,c,g.makeArray(e)):d.push(e)),d||[]},dequeue:function(b,c){c=c||"fx";var e=g.queue(b,c),d=e.length,l=e.shift(),f=g._queueHooks(b,c),m=function(){g.dequeue(b,c)};"inprogress"===l&&(l=e.shift(),d--);l&&("fx"===c&&e.unshift("inprogress"),delete f.stop,l.call(b,m,f));!d&&f&&f.empty.fire()},_queueHooks:function(b,c){var e=c+"queueHooks";return D.get(b,e)||D.access(b,e,{empty:g.Callbacks("once memory").add(function(){D.remove(b,
[c+"queue",e])})})}});g.fn.extend({queue:function(b,c){var e=2;return"string"!=typeof b&&(c=b,b="fx",e--),arguments.length<e?g.queue(this[0],b):void 0===c?this:this.each(function(){var e=g.queue(this,b,c);g._queueHooks(this,b);"fx"===b&&"inprogress"!==e[0]&&g.dequeue(this,b)})},dequeue:function(b){return this.each(function(){g.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,c){var e,d=1,l=g.Deferred(),f=this,m=this.length,j=function(){--d||l.resolveWith(f,
[f])};"string"!=typeof b&&(c=b,b=void 0);for(b=b||"fx";m--;)(e=D.get(f[m],b+"queueHooks"))&&e.empty&&(d++,e.empty.add(j));return j(),l.promise(c)}});var ic=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Da=RegExp("^(?:([+-])=|)("+ic+")([a-z%]*)$","i"),ma=["Top","Right","Bottom","Left"],La=function(b,c){return b=c||b,"none"===b.style.display||""===b.style.display&&g.contains(b.ownerDocument,b)&&"none"===g.css(b,"display")},jc=function(b,c,e,d){var g,l={};for(g in c)l[g]=b.style[g],b.style[g]=c[g];e=
e.apply(b,d||[]);for(g in c)b.style[g]=l[g];return e},zb={};g.fn.extend({show:function(){return u(this,!0)},hide:function(){return u(this)},toggle:function(b){return"boolean"==typeof b?b?this.show():this.hide():this.each(function(){La(this)?g(this).show():g(this).hide()})}});var kc=/^(?:checkbox|radio)$/i,Ab=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Bb=/^$|\/(?:java|ecma)script/i,T={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],
tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};T.optgroup=T.option;T.tbody=T.tfoot=T.colgroup=T.caption=T.thead;T.th=T.td;var Ec=/<|&#?\w+;/,ab=A.createDocumentFragment().appendChild(A.createElement("div")),bb=A.createElement("input");bb.setAttribute("type","radio");bb.setAttribute("checked","checked");bb.setAttribute("name","t");ab.appendChild(bb);H.checkClone=ab.cloneNode(!0).cloneNode(!0).lastChild.checked;ab.innerHTML="<textarea>x</textarea>";
H.noCloneChecked=!!ab.cloneNode(!0).lastChild.defaultValue;!0;var cb=A.documentElement,ld=/^key/,md=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,lc=/^([^.]*)(?:\.(.+)|)/;g.event={global:{},add:function(b,c,e,d,l){var f,m,j,s,p,n,r,v,t,u;if(p=D.get(b)){e.handler&&(f=e,e=f.handler,l=f.selector);l&&g.find.matchesSelector(cb,l);e.guid||(e.guid=g.guid++);(s=p.events)||(s=p.events={});(m=p.handle)||(m=p.handle=function(c){return"undefined"!=typeof g&&g.event.triggered!==c.type?g.event.dispatch.apply(b,
arguments):void 0});c=(c||"").match(V)||[""];for(p=c.length;p--;)j=lc.exec(c[p])||[],t=u=j[1],j=(j[2]||"").split(".").sort(),t&&(r=g.event.special[t]||{},t=(l?r.delegateType:r.bindType)||t,r=g.event.special[t]||{},n=g.extend({type:t,origType:u,data:d,handler:e,guid:e.guid,selector:l,needsContext:l&&g.expr.match.needsContext.test(l),namespace:j.join(".")},f),(v=s[t])||(v=s[t]=[],v.delegateCount=0,r.setup&&!1!==r.setup.call(b,d,j,m)||b.addEventListener&&b.addEventListener(t,m)),r.add&&(r.add.call(b,
n),n.handler.guid||(n.handler.guid=e.guid)),l?v.splice(v.delegateCount++,0,n):v.push(n),g.event.global[t]=!0)}},remove:function(b,c,e,d,l){var f,m,j,s,p,n,r,v,t,u,B,C=D.hasData(b)&&D.get(b);if(C&&(s=C.events)){c=(c||"").match(V)||[""];for(p=c.length;p--;)if(j=lc.exec(c[p])||[],t=B=j[1],u=(j[2]||"").split(".").sort(),t){r=g.event.special[t]||{};t=(d?r.delegateType:r.bindType)||t;v=s[t]||[];j=j[2]&&RegExp("(^|\\.)"+u.join("\\.(?:.*\\.|)")+"(\\.|$)");for(m=f=v.length;f--;)n=v[f],!l&&B!==n.origType||
e&&e.guid!==n.guid||j&&!j.test(n.namespace)||d&&d!==n.selector&&("**"!==d||!n.selector)||(v.splice(f,1),n.selector&&v.delegateCount--,r.remove&&r.remove.call(b,n));m&&!v.length&&(r.teardown&&!1!==r.teardown.call(b,u,C.handle)||g.removeEvent(b,t,C.handle),delete s[t])}else for(t in s)g.event.remove(b,t+c[p],e,d,!0);g.isEmptyObject(s)&&D.remove(b,"handle events")}},dispatch:function(b){var c=g.event.fix(b),e,d,l,f,m,j,s=Array(arguments.length);d=(D.get(this,"events")||{})[c.type]||[];var p=g.event.special[c.type]||
{};s[0]=c;for(e=1;e<arguments.length;e++)s[e]=arguments[e];if(c.delegateTarget=this,!p.preDispatch||!1!==p.preDispatch.call(this,c)){j=g.event.handlers.call(this,c,d);for(e=0;(f=j[e++])&&!c.isPropagationStopped();){c.currentTarget=f.elem;for(d=0;(m=f.handlers[d++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!c.rnamespace.test(m.namespace)||(c.handleObj=m,c.data=m.data,l=((g.event.special[m.origType]||{}).handle||m.handler).apply(f.elem,s),void 0!==l&&!1===(c.result=l)&&(c.preventDefault(),
c.stopPropagation()))}return p.postDispatch&&p.postDispatch.call(this,c),c.result}},handlers:function(b,c){var e,d,l,f,m,j=[],s=c.delegateCount,p=b.target;if(s&&p.nodeType&&!("click"===b.type&&1<=b.button))for(;p!==this;p=p.parentNode||this)if(1===p.nodeType&&("click"!==b.type||!0!==p.disabled)){f=[];m={};for(e=0;e<s;e++)d=c[e],l=d.selector+" ",void 0===m[l]&&(m[l]=d.needsContext?-1<g(l,this).index(p):g.find(l,this,null,[p]).length),m[l]&&f.push(d);f.length&&j.push({elem:p,handlers:f})}return p=this,
s<c.length&&j.push({elem:p,handlers:c.slice(s)}),j},addProp:function(b,c){Object.defineProperty(g.Event.prototype,b,{enumerable:!0,configurable:!0,get:g.isFunction(c)?function(){if(this.originalEvent)return c(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[b]},set:function(c){Object.defineProperty(this,b,{enumerable:!0,configurable:!0,writable:!0,value:c})}})},fix:function(b){return b[g.expando]?b:new g.Event(b)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==
la()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===la()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&f(this,"input"))return this.click(),!1},_default:function(b){return f(b.target,"a")}},beforeunload:{postDispatch:function(b){void 0!==b.result&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}}};g.removeEvent=function(b,c,e){b.removeEventListener&&b.removeEventListener(c,
e)};g.Event=function(b,c){return this instanceof g.Event?(b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||void 0===b.defaultPrevented&&!1===b.returnValue?J:U,this.target=b.target&&3===b.target.nodeType?b.target.parentNode:b.target,this.currentTarget=b.currentTarget,this.relatedTarget=b.relatedTarget):this.type=b,c&&g.extend(this,c),this.timeStamp=b&&b.timeStamp||g.now(),void(this[g.expando]=!0)):new g.Event(b,c)};g.Event.prototype={constructor:g.Event,
isDefaultPrevented:U,isPropagationStopped:U,isImmediatePropagationStopped:U,isSimulated:!1,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=J;b&&!this.isSimulated&&b.preventDefault()},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=J;b&&!this.isSimulated&&b.stopPropagation()},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=J;b&&!this.isSimulated&&b.stopImmediatePropagation();this.stopPropagation()}};
g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(b){var c=b.button;return null==b.which&&ld.test(b.type)?null!=b.charCode?b.charCode:b.keyCode:!b.which&&void 0!==c&&md.test(b.type)?1&c?1:2&c?3:4&
c?2:0:b.which}},g.event.addProp);g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(b,c){g.event.special[b]={delegateType:c,bindType:c,handle:function(b){var e,d=b.relatedTarget,l=b.handleObj;return d&&(d===this||g.contains(this,d))||(b.type=l.origType,e=l.handler.apply(this,arguments),b.type=c),e}}});g.fn.extend({on:function(b,c,e,d){return O(this,b,c,e,d)},one:function(b,c,e,d){return O(this,b,c,e,d,1)},off:function(b,c,e){var d,l;
if(b&&b.preventDefault&&b.handleObj)return d=b.handleObj,g(b.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof b){for(l in b)this.off(l,c,b[l]);return this}return!1!==c&&"function"!=typeof c||(e=c,c=void 0),!1===e&&(e=U),this.each(function(){g.event.remove(this,b,e,c)})}});var nd=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,od=/<script|<style|<link/i,Ic=/checked\s*(?:[^=]|=\s*.checked.)/i,
Hc=/^true\/(.*)/,Kc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;g.extend({htmlPrefilter:function(b){return b.replace(nd,"<$1></$2>")},clone:function(b,c,e){var d,l,f,m,j=b.cloneNode(!0),s=g.contains(b.ownerDocument,b);if(!H.noCloneChecked&&!(1!==b.nodeType&&11!==b.nodeType||g.isXMLDoc(b))){m=B(j);f=B(b);d=0;for(l=f.length;d<l;d++){var p=f[d],n=m[d],r=n.nodeName.toLowerCase();"input"===r&&kc.test(p.type)?n.checked=p.checked:"input"!==r&&"textarea"!==r||(n.defaultValue=p.defaultValue)}}if(c)if(e){f=
f||B(b);m=m||B(j);d=0;for(l=f.length;d<l;d++)Db(f[d],m[d])}else Db(b,j);return m=B(j,"script"),0<m.length&&G(m,!s&&B(b,"script")),j},cleanData:function(b){for(var c,e,d,l=g.event.special,f=0;void 0!==(e=b[f]);f++)if($a(e)){if(c=e[D.expando]){if(c.events)for(d in c.events)l[d]?g.event.remove(e,d):g.removeEvent(e,d,c.handle);e[D.expando]=void 0}e[Q.expando]&&(e[Q.expando]=void 0)}}});g.fn.extend({detach:function(b){return Fb(this,b,!0)},remove:function(b){return Fb(this,b)},text:function(b){return ga(this,
function(b){return void 0===b?g.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=b)})},null,b,arguments.length)},append:function(){return wa(this,arguments,function(b){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&Cb(this,b).appendChild(b)})},prepend:function(){return wa(this,arguments,function(b){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var c=Cb(this,b);c.insertBefore(b,c.firstChild)}})},before:function(){return wa(this,
arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return wa(this,arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},empty:function(){for(var b,c=0;null!=(b=this[c]);c++)1===b.nodeType&&(g.cleanData(B(b,!1)),b.textContent="");return this},clone:function(b,c){return b=null!=b&&b,c=null==c?b:c,this.map(function(){return g.clone(this,b,c)})},html:function(b){return ga(this,function(b){var c=this[0]||{},e=0,d=this.length;
if(void 0===b&&1===c.nodeType)return c.innerHTML;if("string"==typeof b&&!od.test(b)&&!T[(Ab.exec(b)||["",""])[1].toLowerCase()]){b=g.htmlPrefilter(b);try{for(;e<d;e++)c=this[e]||{},1===c.nodeType&&(g.cleanData(B(c,!1)),c.innerHTML=b);c=0}catch(l){}}c&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(){var b=[];return wa(this,arguments,function(c){var e=this.parentNode;0>g.inArray(this,b)&&(g.cleanData(B(this)),e&&e.replaceChild(c,this))},b)}});g.each({appendTo:"append",prependTo:"prepend",
insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,c){g.fn[b]=function(b){for(var e=[],d=g(b),l=d.length-1,f=0;f<=l;f++)b=f===l?this:this.clone(!0),g(d[f])[c](b),kb.apply(e,b.get());return this.pushStack(e)}});var Gb=/^margin/,fb=RegExp("^("+ic+")(?!px)[a-z%]+$","i"),Ma=function(c){var e=c.ownerDocument.defaultView;return e&&e.opener||(e=b),e.getComputedStyle(c)},eb=function(){if(ba){ba.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";
ba.innerHTML="";cb.appendChild(db);var c=b.getComputedStyle(ba);mc="1%"!==c.top;nc="2px"===c.marginLeft;oc="4px"===c.width;ba.style.marginRight="50%";pc="4px"===c.marginRight;cb.removeChild(db);ba=null}},mc,oc,pc,nc,db=A.createElement("div"),ba=A.createElement("div");ba.style&&(ba.style.backgroundClip="content-box",ba.cloneNode(!0).style.backgroundClip="",H.clearCloneStyle="content-box"===ba.style.backgroundClip,db.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",
db.appendChild(ba),g.extend(H,{pixelPosition:function(){return eb(),mc},boxSizingReliable:function(){return eb(),oc},pixelMarginRight:function(){return eb(),pc},reliableMarginLeft:function(){return eb(),nc}}));!0;var pd=/^(none|table(?!-c[ea]).+)/,qc=/^--/,qd={position:"absolute",visibility:"hidden",display:"block"},rc={letterSpacing:"0",fontWeight:"400"},Kb=["Webkit","Moz","ms"],Jb=A.createElement("div").style;g.extend({cssHooks:{opacity:{get:function(b,c){if(c){var e=Ea(b,"opacity");return""===
e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(b,c,e,d){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var l,f,m,j=g.camelCase(c),s=qc.test(c),p=b.style;return s||(c=Ib(j)),m=g.cssHooks[c]||g.cssHooks[j],void 0===e?m&&"get"in m&&void 0!==(l=m.get(b,!1,d))?l:p[c]:(f=typeof e,"string"===f&&(l=Da.exec(e))&&l[1]&&
(e=v(b,c,l),f="number"),null!=e&&e===e&&("number"===f&&(e+=l&&l[3]||(g.cssNumber[j]?"":"px")),H.clearCloneStyle||""!==e||0!==c.indexOf("background")||(p[c]="inherit"),m&&"set"in m&&void 0===(e=m.set(b,e,d))||(s?p.setProperty(c,e):p[c]=e)),void 0)}},css:function(b,c,e,d){var l,f,m,j=g.camelCase(c);return qc.test(c)||(c=Ib(j)),m=g.cssHooks[c]||g.cssHooks[j],m&&"get"in m&&(l=m.get(b,!0,e)),void 0===l&&(l=Ea(b,c,d)),"normal"===l&&c in rc&&(l=rc[c]),""===e||e?(f=parseFloat(l),!0===e||isFinite(f)?f||0:
l):l}});g.each(["height","width"],function(b,c){g.cssHooks[c]={get:function(b,e,d){if(e)return!pd.test(g.css(b,"display"))||b.getClientRects().length&&b.getBoundingClientRect().width?Nb(b,c,d):jc(b,qd,function(){return Nb(b,c,d)})},set:function(b,e,d){var l,f=d&&Ma(b);d=d&&Mb(b,c,d,"border-box"===g.css(b,"boxSizing",!1,f),f);return d&&(l=Da.exec(e))&&"px"!==(l[3]||"px")&&(b.style[c]=e,e=g.css(b,c)),Lb(b,e,d)}}});g.cssHooks.marginLeft=Hb(H.reliableMarginLeft,function(b,c){if(c)return(parseFloat(Ea(b,
"marginLeft"))||b.getBoundingClientRect().left-jc(b,{marginLeft:0},function(){return b.getBoundingClientRect().left}))+"px"});g.each({margin:"",padding:"",border:"Width"},function(b,c){g.cssHooks[b+c]={expand:function(e){var d=0,g={};for(e="string"==typeof e?e.split(" "):[e];4>d;d++)g[b+ma[d]+c]=e[d]||e[d-2]||e[0];return g}};Gb.test(b)||(g.cssHooks[b+c].set=Lb)});g.fn.extend({css:function(b,c){return ga(this,function(b,c,e){var d,l={},f=0;if(Array.isArray(c)){e=Ma(b);for(d=c.length;f<d;f++)l[c[f]]=
g.css(b,c[f],!1,e);return l}return void 0!==e?g.style(b,c,e):g.css(b,c)},b,c,1<arguments.length)}});g.Tween=R;R.prototype={constructor:R,init:function(b,c,e,d,l,f){this.elem=b;this.prop=e;this.easing=l||g.easing._default;this.options=c;this.start=this.now=this.cur();this.end=d;this.unit=f||(g.cssNumber[e]?"":"px")},cur:function(){var b=R.propHooks[this.prop];return b&&b.get?b.get(this):R.propHooks._default.get(this)},run:function(b){var c,e=R.propHooks[this.prop];return this.options.duration?this.pos=
c=g.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):this.pos=c=b,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),e&&e.set?e.set(this):R.propHooks._default.set(this),this}};R.prototype.init.prototype=R.prototype;R.propHooks={_default:{get:function(b){var c;return 1!==b.elem.nodeType||null!=b.elem[b.prop]&&null==b.elem.style[b.prop]?b.elem[b.prop]:(c=g.css(b.elem,b.prop,""),c&&"auto"!==c?c:0)},set:function(b){g.fx.step[b.prop]?
g.fx.step[b.prop](b):1!==b.elem.nodeType||null==b.elem.style[g.cssProps[b.prop]]&&!g.cssHooks[b.prop]?b.elem[b.prop]=b.now:g.style(b.elem,b.prop,b.now+b.unit)}}};R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};g.easing={linear:function(b){return b},swing:function(b){return 0.5-Math.cos(b*Math.PI)/2},_default:"swing"};g.fx=R.prototype.init;g.fx.step={};var xa,Na,rd=/^(?:toggle|show|hide)$/,sd=/queueHooks$/;g.Animation=g.extend(Z,
{tweeners:{"*":[function(b,c){var e=this.createTween(b,c);return v(e.elem,b,Da.exec(c),e),e}]},tweener:function(b,c){g.isFunction(b)?(c=b,b=["*"]):b=b.match(V);for(var e,d=0,l=b.length;d<l;d++)e=b[d],Z.tweeners[e]=Z.tweeners[e]||[],Z.tweeners[e].unshift(c)},prefilters:[function(b,c,e){var d,l,f,m,j,s,p,n,r="width"in c||"height"in c,v=this,t={},B=b.style,C=b.nodeType&&La(b),A=D.get(b,"fxshow");e.queue||(m=g._queueHooks(b,"fx"),null==m.unqueued&&(m.unqueued=0,j=m.empty.fire,m.empty.fire=function(){m.unqueued||
j()}),m.unqueued++,v.always(function(){v.always(function(){m.unqueued--;g.queue(b,"fx").length||m.empty.fire()})}));for(d in c)if(l=c[d],rd.test(l)){if(delete c[d],f=f||"toggle"===l,l===(C?"hide":"show")){if("show"!==l||!A||void 0===A[d])continue;C=!0}t[d]=A&&A[d]||g.style(b,d)}if(s=!g.isEmptyObject(c),s||!g.isEmptyObject(t))for(d in r&&1===b.nodeType&&(e.overflow=[B.overflow,B.overflowX,B.overflowY],p=A&&A.display,null==p&&(p=D.get(b,"display")),n=g.css(b,"display"),"none"===n&&(p?n=p:(u([b],!0),
p=b.style.display||p,n=g.css(b,"display"),u([b]))),("inline"===n||"inline-block"===n&&null!=p)&&"none"===g.css(b,"float")&&(s||(v.done(function(){B.display=p}),null==p&&(n=B.display,p="none"===n?"":n)),B.display="inline-block")),e.overflow&&(B.overflow="hidden",v.always(function(){B.overflow=e.overflow[0];B.overflowX=e.overflow[1];B.overflowY=e.overflow[2]})),s=!1,t)s||(A?"hidden"in A&&(C=A.hidden):A=D.access(b,"fxshow",{display:p}),f&&(A.hidden=!C),C&&u([b],!0),v.done(function(){C||u([b]);D.remove(b,
"fxshow");for(d in t)g.style(b,d,t[d])})),s=Pb(C?A[d]:0,d,v),d in A||(A[d]=s.start,C&&(s.end=s.start,s.start=0))}],prefilter:function(b,c){c?Z.prefilters.unshift(b):Z.prefilters.push(b)}});g.speed=function(b,c,e){var d=b&&"object"==typeof b?g.extend({},b):{complete:e||!e&&c||g.isFunction(b)&&b,duration:b,easing:e&&c||c&&!g.isFunction(c)&&c};return g.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in g.fx.speeds?d.duration=g.fx.speeds[d.duration]:d.duration=g.fx.speeds._default),null!=
d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){g.isFunction(d.old)&&d.old.call(this);d.queue&&g.dequeue(this,d.queue)},d};g.fn.extend({fadeTo:function(b,c,e,d){return this.filter(La).css("opacity",0).show().end().animate({opacity:c},b,e,d)},animate:function(b,c,e,d){var l=g.isEmptyObject(b),f=g.speed(c,e,d);c=function(){var c=Z(this,g.extend({},b),f);(l||D.get(this,"finish"))&&c.stop(!0)};return c.finish=c,l||!1===f.queue?this.each(c):this.queue(f.queue,c)},stop:function(b,
c,e){var d=function(b){var c=b.stop;delete b.stop;c(e)};return"string"!=typeof b&&(e=c,c=b,b=void 0),c&&!1!==b&&this.queue(b||"fx",[]),this.each(function(){var c=!0,l=null!=b&&b+"queueHooks",f=g.timers,m=D.get(this);if(l)m[l]&&m[l].stop&&d(m[l]);else for(l in m)m[l]&&m[l].stop&&sd.test(l)&&d(m[l]);for(l=f.length;l--;)f[l].elem!==this||null!=b&&f[l].queue!==b||(f[l].anim.stop(e),c=!1,f.splice(l,1));!c&&e||g.dequeue(this,b)})},finish:function(b){return!1!==b&&(b=b||"fx"),this.each(function(){var c,
e=D.get(this),d=e[b+"queue"];c=e[b+"queueHooks"];var l=g.timers,f=d?d.length:0;e.finish=!0;g.queue(this,b,[]);c&&c.stop&&c.stop.call(this,!0);for(c=l.length;c--;)l[c].elem===this&&l[c].queue===b&&(l[c].anim.stop(!0),l.splice(c,1));for(c=0;c<f;c++)d[c]&&d[c].finish&&d[c].finish.call(this);delete e.finish})}});g.each(["toggle","show","hide"],function(b,c){var e=g.fn[c];g.fn[c]=function(b,d,g){return null==b||"boolean"==typeof b?e.apply(this,arguments):this.animate(Oa(c,!0),b,d,g)}});g.each({slideDown:Oa("show"),
slideUp:Oa("hide"),slideToggle:Oa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,c){g.fn[b]=function(b,e,d){return this.animate(c,b,e,d)}});g.timers=[];g.fx.tick=function(){var b,c=0,e=g.timers;for(xa=g.now();c<e.length;c++)b=e[c],b()||e[c]!==b||e.splice(c--,1);e.length||g.fx.stop();xa=void 0};g.fx.timer=function(b){g.timers.push(b);g.fx.start()};g.fx.interval=13;g.fx.start=function(){Na||(Na=!0,gb())};g.fx.stop=function(){Na=null};g.fx.speeds=
{slow:600,fast:200,_default:400};g.fn.delay=function(c,e){return c=g.fx?g.fx.speeds[c]||c:c,e=e||"fx",this.queue(e,function(e,d){var g=b.setTimeout(e,c);d.stop=function(){b.clearTimeout(g)}})};var Ba=A.createElement("input"),td=A.createElement("select").appendChild(A.createElement("option"));Ba.type="checkbox";H.checkOn=""!==Ba.value;H.optSelected=td.selected;Ba=A.createElement("input");Ba.value="t";Ba.type="radio";H.radioValue="t"===Ba.value;var sc,Ia=g.expr.attrHandle;g.fn.extend({attr:function(b,
c){return ga(this,g.attr,b,c,1<arguments.length)},removeAttr:function(b){return this.each(function(){g.removeAttr(this,b)})}});g.extend({attr:function(b,c,e){var d,l,f=b.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof b.getAttribute?g.prop(b,c,e):(1===f&&g.isXMLDoc(b)||(l=g.attrHooks[c.toLowerCase()]||(g.expr.match.bool.test(c)?sc:void 0)),void 0!==e?null===e?void g.removeAttr(b,c):l&&"set"in l&&void 0!==(d=l.set(b,e,c))?d:(b.setAttribute(c,e+""),e):l&&"get"in l&&null!==(d=l.get(b,c))?d:
(d=g.find.attr(b,c),null==d?void 0:d))},attrHooks:{type:{set:function(b,c){if(!H.radioValue&&"radio"===c&&f(b,"input")){var e=b.value;return b.setAttribute("type",c),e&&(b.value=e),c}}}},removeAttr:function(b,c){var e,d=0,g=c&&c.match(V);if(g&&1===b.nodeType)for(;e=g[d++];)b.removeAttribute(e)}});sc={set:function(b,c,e){return!1===c?g.removeAttr(b,e):b.setAttribute(e,e),e}};g.each(g.expr.match.bool.source.match(/\w+/g),function(b,c){var e=Ia[c]||g.find.attr;Ia[c]=function(b,c,d){var g,l,f=c.toLowerCase();
return d||(l=Ia[f],Ia[f]=g,g=null!=e(b,c,d)?f:null,Ia[f]=l),g}});var ud=/^(?:input|select|textarea|button)$/i,vd=/^(?:a|area)$/i;g.fn.extend({prop:function(b,c){return ga(this,g.prop,b,c,1<arguments.length)},removeProp:function(b){return this.each(function(){delete this[g.propFix[b]||b]})}});g.extend({prop:function(b,c,e){var d,l,f=b.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&g.isXMLDoc(b)||(c=g.propFix[c]||c,l=g.propHooks[c]),void 0!==e?l&&"set"in l&&void 0!==(d=l.set(b,e,c))?d:b[c]=e:l&&"get"in
l&&null!==(d=l.get(b,c))?d:b[c]},propHooks:{tabIndex:{get:function(b){var c=g.find.attr(b,"tabindex");return c?parseInt(c,10):ud.test(b.nodeName)||vd.test(b.nodeName)&&b.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});H.optSelected||(g.propHooks.selected={get:function(b){b=b.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(b){b=b.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}});g.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){g.propFix[this.toLowerCase()]=this});g.fn.extend({addClass:function(b){var c,e,d,l,f,m,j=0;if(g.isFunction(b))return this.each(function(c){g(this).addClass(b.call(this,c,oa(this)))});if("string"==typeof b&&b)for(c=b.match(V)||[];e=this[j++];)if(l=oa(e),d=1===e.nodeType&&" "+na(l)+" "){for(m=0;f=c[m++];)0>d.indexOf(" "+f+" ")&&(d+=f+" ");d=na(d);l!==d&&e.setAttribute("class",d)}return this},removeClass:function(b){var c,e,d,l,f,m,j=0;if(g.isFunction(b))return this.each(function(c){g(this).removeClass(b.call(this,
c,oa(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof b&&b)for(c=b.match(V)||[];e=this[j++];)if(l=oa(e),d=1===e.nodeType&&" "+na(l)+" "){for(m=0;f=c[m++];)for(;-1<d.indexOf(" "+f+" ");)d=d.replace(" "+f+" "," ");d=na(d);l!==d&&e.setAttribute("class",d)}return this},toggleClass:function(b,c){var e=typeof b;return"boolean"==typeof c&&"string"===e?c?this.addClass(b):this.removeClass(b):g.isFunction(b)?this.each(function(e){g(this).toggleClass(b.call(this,e,oa(this),c),
c)}):this.each(function(){var c,d,l,f;if("string"===e){d=0;l=g(this);for(f=b.match(V)||[];c=f[d++];)l.hasClass(c)?l.removeClass(c):l.addClass(c)}else void 0!==b&&"boolean"!==e||(c=oa(this),c&&D.set(this,"__className__",c),this.setAttribute&&this.setAttribute("class",c||!1===b?"":D.get(this,"__className__")||""))})},hasClass:function(b){var c,e=0;for(b=" "+b+" ";c=this[e++];)if(1===c.nodeType&&-1<(" "+na(oa(c))+" ").indexOf(b))return!0;return!1}});var wd=/\r/g;g.fn.extend({val:function(b){var c,e,
d,l=this[0];if(arguments.length)return d=g.isFunction(b),this.each(function(e){var l;1===this.nodeType&&(l=d?b.call(this,e,g(this).val()):b,null==l?l="":"number"==typeof l?l+="":Array.isArray(l)&&(l=g.map(l,function(b){return null==b?"":b+""})),c=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&void 0!==c.set(this,l,"value")||(this.value=l))});if(l)return c=g.valHooks[l.type]||g.valHooks[l.nodeName.toLowerCase()],c&&"get"in c&&void 0!==(e=c.get(l,"value"))?e:(e=l.value,
"string"==typeof e?e.replace(wd,""):null==e?"":e)}});g.extend({valHooks:{option:{get:function(b){var c=g.find.attr(b,"value");return null!=c?c:na(g.text(b))}},select:{get:function(b){var c,e,d=b.options,l=b.selectedIndex,m="select-one"===b.type,j=m?null:[],s=m?l+1:d.length;for(e=0>l?s:m?l:0;e<s;e++)if(c=d[e],(c.selected||e===l)&&!c.disabled&&(!c.parentNode.disabled||!f(c.parentNode,"optgroup"))){if(b=g(c).val(),m)return b;j.push(b)}return j},set:function(b,c){for(var e,d,l=b.options,f=g.makeArray(c),
m=l.length;m--;)d=l[m],(d.selected=-1<g.inArray(g.valHooks.option.get(d),f))&&(e=!0);return e||(b.selectedIndex=-1),f}}}});g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(b,c){if(Array.isArray(c))return b.checked=-1<g.inArray(g(b).val(),c)}};H.checkOn||(g.valHooks[this].get=function(b){return null===b.getAttribute("value")?"on":b.value})});var tc=/^(?:focusinfocus|focusoutblur)$/;g.extend(g.event,{trigger:function(c,e,d,l){var f,m,j,s,p,n,r,v=[d||A],t=Qa.call(c,"type")?c.type:
c;f=Qa.call(c,"namespace")?c.namespace.split("."):[];if(m=j=d=d||A,3!==d.nodeType&&8!==d.nodeType&&!tc.test(t+g.event.triggered)&&(-1<t.indexOf(".")&&(f=t.split("."),t=f.shift(),f.sort()),p=0>t.indexOf(":")&&"on"+t,c=c[g.expando]?c:new g.Event(t,"object"==typeof c&&c),c.isTrigger=l?2:3,c.namespace=f.join("."),c.rnamespace=c.namespace?RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=d),e=null==e?[c]:g.makeArray(e,[c]),r=g.event.special[t]||{},l||!r.trigger||
!1!==r.trigger.apply(d,e))){if(!l&&!r.noBubble&&!g.isWindow(d)){s=r.delegateType||t;for(tc.test(s+t)||(m=m.parentNode);m;m=m.parentNode)v.push(m),j=m;j===(d.ownerDocument||A)&&v.push(j.defaultView||j.parentWindow||b)}for(f=0;(m=v[f++])&&!c.isPropagationStopped();)c.type=1<f?s:r.bindType||t,(n=(D.get(m,"events")||{})[c.type]&&D.get(m,"handle"))&&n.apply(m,e),(n=p&&m[p])&&n.apply&&$a(m)&&(c.result=n.apply(m,e),!1===c.result&&c.preventDefault());return c.type=t,l||c.isDefaultPrevented()||r._default&&
!1!==r._default.apply(v.pop(),e)||!$a(d)||p&&g.isFunction(d[t])&&!g.isWindow(d)&&(j=d[p],j&&(d[p]=null),g.event.triggered=t,d[t](),g.event.triggered=void 0,j&&(d[p]=j)),c.result}},simulate:function(b,c,e){b=g.extend(new g.Event,e,{type:b,isSimulated:!0});g.event.trigger(b,null,c)}});g.fn.extend({trigger:function(b,c){return this.each(function(){g.event.trigger(b,c,this)})},triggerHandler:function(b,c){var e=this[0];if(e)return g.event.trigger(b,c,e,!0)}});g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(b,c){g.fn[c]=function(b,e){return 0<arguments.length?this.on(c,null,b,e):this.trigger(c)}});g.fn.extend({hover:function(b,c){return this.mouseenter(b).mouseleave(c||b)}});H.focusin="onfocusin"in b;H.focusin||g.each({focus:"focusin",blur:"focusout"},function(b,c){var e=function(b){g.event.simulate(c,b.target,g.event.fix(b))};g.event.special[c]={setup:function(){var d=this.ownerDocument||this,l=D.access(d,c);l||d.addEventListener(b,e,!0);D.access(d,c,(l||0)+1)},teardown:function(){var d=this.ownerDocument||
this,l=D.access(d,c)-1;l?D.access(d,c,l):(d.removeEventListener(b,e,!0),D.remove(d,c))}}});var Ja=b.location,uc=g.now(),wb=/\?/;g.parseXML=function(c){var e;if(!c||"string"!=typeof c)return null;try{e=(new b.DOMParser).parseFromString(c,"text/xml")}catch(d){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+c),e};var Lc=/\[\]$/,vc=/\r?\n/g,xd=/^(?:submit|button|image|reset|file)$/i,yd=/^(?:input|select|textarea|keygen)/i;g.param=function(b,c){var e,d=[],l=function(b,
c){var e=g.isFunction(c)?c():c;d[d.length]=encodeURIComponent(b)+"="+encodeURIComponent(null==e?"":e)};if(Array.isArray(b)||b.jquery&&!g.isPlainObject(b))g.each(b,function(){l(this.name,this.value)});else for(e in b)hb(e,b[e],c,l);return d.join("&")};g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=g.prop(this,"elements");return b?g.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!g(this).is(":disabled")&&
yd.test(this.nodeName)&&!xd.test(b)&&(this.checked||!kc.test(b))}).map(function(b,c){var e=g(this).val();return null==e?null:Array.isArray(e)?g.map(e,function(b){return{name:c.name,value:b.replace(vc,"\r\n")}}):{name:c.name,value:e.replace(vc,"\r\n")}}).get()}});var zd=/%20/g,Ad=/#.*$/,Bd=/([?&])_=[^&]*/,Cd=/^(.*?):[ \t]*([^\r\n]*)$/gm,Dd=/^(?:GET|HEAD)$/,Ed=/^\/\//,wc={},ib={},xc="*/".concat("*"),xb=A.createElement("a");xb.href=Ja.href;g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ja.href,
type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ja.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,
"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,c){return c?jb(jb(b,g.ajaxSettings),c):jb(g.ajaxSettings,b)},ajaxPrefilter:Qb(wc),ajaxTransport:Qb(ib),ajax:function(c,e){function d(c,e,j,p){var q,z,v,t,x=e;if(!n){n=!0;s&&b.clearTimeout(s);l=void 0;m=p||"";K.readyState=0<c?4:0;p=200<=c&&300>c||304===c;if(j){v=u;for(var va=K,A,G,F,E,M=v.contents,H=v.dataTypes;"*"===H[0];)H.shift(),void 0===A&&(A=v.mimeType||va.getResponseHeader("Content-Type"));if(A)for(G in M)if(M[G]&&
M[G].test(A)){H.unshift(G);break}if(H[0]in j)F=H[0];else{for(G in j){if(!H[0]||v.converters[G+" "+H[0]]){F=G;break}E||(E=G)}F=F||E}j=F?(F!==H[0]&&H.unshift(F),j[F]):void 0;v=j}var L;a:{j=u;A=v;G=K;F=p;var S,O,N;v={};va=j.dataTypes.slice();if(va[1])for(S in j.converters)v[S.toLowerCase()]=j.converters[S];for(E=va.shift();E;)if(j.responseFields[E]&&(G[j.responseFields[E]]=A),!N&&F&&j.dataFilter&&(A=j.dataFilter(A,j.dataType)),N=E,E=va.shift())if("*"===E)E=N;else if("*"!==N&&N!==E){if(S=v[N+" "+E]||
v["* "+E],!S)for(L in v)if(O=L.split(" "),O[1]===E&&(S=v[N+" "+O[0]]||v["* "+O[0]])){!0===S?S=v[L]:!0!==v[L]&&(E=O[0],va.unshift(O[1]));break}if(!0!==S)if(S&&j["throws"])A=S(A);else try{A=S(A)}catch(Q){L={state:"parsererror",error:S?Q:"No conversion from "+N+" to "+E};break a}}L={state:"success",data:A}}v=L;p?(u.ifModified&&(t=K.getResponseHeader("Last-Modified"),t&&(g.lastModified[f]=t),t=K.getResponseHeader("etag"),t&&(g.etag[f]=t)),204===c||"HEAD"===u.type?x="nocontent":304===c?x="notmodified":
(x=v.state,q=v.data,z=v.error,p=!z)):(z=x,!c&&x||(x="error",0>c&&(c=0)));K.status=c;K.statusText=(e||x)+"";p?D.resolveWith(B,[q,x,K]):D.rejectWith(B,[K,x,z]);K.statusCode(J);J=void 0;r&&C.trigger(p?"ajaxSuccess":"ajaxError",[K,u,p?q:z]);I.fireWith(B,[K,x]);r&&(C.trigger("ajaxComplete",[K,u]),--g.active||g.event.trigger("ajaxStop"))}}"object"==typeof c&&(e=c,c=void 0);e=e||{};var l,f,m,j,s,p,n,r,v,t,u=g.ajaxSetup({},e),B=u.context||u,C=u.context&&(B.nodeType||B.jquery)?g(B):g.event,D=g.Deferred(),
I=g.Callbacks("once memory"),J=u.statusCode||{},G={},F={},E="canceled",K={readyState:0,getResponseHeader:function(b){var c;if(n){if(!j)for(j={};c=Cd.exec(m);)j[c[1].toLowerCase()]=c[2];c=j[b.toLowerCase()]}return null==c?null:c},getAllResponseHeaders:function(){return n?m:null},setRequestHeader:function(b,c){return null==n&&(b=F[b.toLowerCase()]=F[b.toLowerCase()]||b,G[b]=c),this},overrideMimeType:function(b){return null==n&&(u.mimeType=b),this},statusCode:function(b){var c;if(b)if(n)K.always(b[K.status]);
else for(c in b)J[c]=[J[c],b[c]];return this},abort:function(b){b=b||E;return l&&l.abort(b),d(0,b),this}};if(D.promise(K),u.url=((c||u.url||Ja.href)+"").replace(Ed,Ja.protocol+"//"),u.type=e.method||e.type||u.method||u.type,u.dataTypes=(u.dataType||"*").toLowerCase().match(V)||[""],null==u.crossDomain){p=A.createElement("a");try{p.href=u.url,p.href=p.href,u.crossDomain=xb.protocol+"//"+xb.host!=p.protocol+"//"+p.host}catch(H){u.crossDomain=!0}}if(u.data&&u.processData&&"string"!=typeof u.data&&(u.data=
g.param(u.data,u.traditional)),Rb(wc,u,e,K),n)return K;(r=g.event&&u.global)&&0===g.active++&&g.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!Dd.test(u.type);f=u.url.replace(Ad,"");u.hasContent?u.data&&u.processData&&0===(u.contentType||"").indexOf("application/x-www-form-urlencoded")&&(u.data=u.data.replace(zd,"+")):(t=u.url.slice(f.length),u.data&&(f+=(wb.test(f)?"&":"?")+u.data,delete u.data),!1===u.cache&&(f=f.replace(Bd,"$1"),t=(wb.test(f)?"&":"?")+"_="+uc++ +t),u.url=
f+t);u.ifModified&&(g.lastModified[f]&&K.setRequestHeader("If-Modified-Since",g.lastModified[f]),g.etag[f]&&K.setRequestHeader("If-None-Match",g.etag[f]));(u.data&&u.hasContent&&!1!==u.contentType||e.contentType)&&K.setRequestHeader("Content-Type",u.contentType);K.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+xc+"; q=0.01":""):u.accepts["*"]);for(v in u.headers)K.setRequestHeader(v,u.headers[v]);if(u.beforeSend&&(!1===u.beforeSend.call(B,
K,u)||n))return K.abort();if(E="abort",I.add(u.complete),K.done(u.success),K.fail(u.error),l=Rb(ib,u,e,K)){if(K.readyState=1,r&&C.trigger("ajaxSend",[K,u]),n)return K;u.async&&0<u.timeout&&(s=b.setTimeout(function(){K.abort("timeout")},u.timeout));try{n=!1,l.send(G,d)}catch(M){if(n)throw M;d(-1,M)}}else d(-1,"No Transport");return K},getJSON:function(b,c,e){return g.get(b,c,e,"json")},getScript:function(b,c){return g.get(b,void 0,c,"script")}});g.each(["get","post"],function(b,c){g[c]=function(b,
e,d,l){return g.isFunction(e)&&(l=l||d,d=e,e=void 0),g.ajax(g.extend({url:b,type:c,dataType:l,data:e,success:d},g.isPlainObject(b)&&b))}});g._evalUrl=function(b){return g.ajax({url:b,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};g.fn.extend({wrapAll:function(b){var c;return this[0]&&(g.isFunction(b)&&(b=b.call(this[0])),c=g(b,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&c.insertBefore(this[0]),c.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;
return b}).append(this)),this},wrapInner:function(b){return g.isFunction(b)?this.each(function(c){g(this).wrapInner(b.call(this,c))}):this.each(function(){var c=g(this),e=c.contents();e.length?e.wrapAll(b):c.append(b)})},wrap:function(b){var c=g.isFunction(b);return this.each(function(e){g(this).wrapAll(c?b.call(this,e):b)})},unwrap:function(b){return this.parent(b).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}});g.expr.pseudos.hidden=function(b){return!g.expr.pseudos.visible(b)};
g.expr.pseudos.visible=function(b){return!(!b.offsetWidth&&!b.offsetHeight&&!b.getClientRects().length)};g.ajaxSettings.xhr=function(){try{return new b.XMLHttpRequest}catch(c){}};var Fd={"0":200,1223:204},Ka=g.ajaxSettings.xhr();H.cors=!!Ka&&"withCredentials"in Ka;H.ajax=Ka=!!Ka;g.ajaxTransport(function(c){var e,d;if(H.cors||Ka&&!c.crossDomain)return{send:function(l,g){var f,m=c.xhr();if(m.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(f in c.xhrFields)m[f]=c.xhrFields[f];c.mimeType&&
m.overrideMimeType&&m.overrideMimeType(c.mimeType);c.crossDomain||l["X-Requested-With"]||(l["X-Requested-With"]="XMLHttpRequest");for(f in l)m.setRequestHeader(f,l[f]);e=function(b){return function(){e&&(e=d=m.onload=m.onerror=m.onabort=m.onreadystatechange=null,"abort"===b?m.abort():"error"===b?"number"!=typeof m.status?g(0,"error"):g(m.status,m.statusText):g(Fd[m.status]||m.status,m.statusText,"text"!==(m.responseType||"text")||"string"!=typeof m.responseText?{binary:m.response}:{text:m.responseText},
m.getAllResponseHeaders()))}};m.onload=e();d=m.onerror=e("error");void 0!==m.onabort?m.onabort=d:m.onreadystatechange=function(){4===m.readyState&&b.setTimeout(function(){e&&d()})};e=e("abort");try{m.send(c.hasContent&&c.data||null)}catch(j){if(e)throw j;}},abort:function(){e&&e()}}});g.ajaxPrefilter(function(b){b.crossDomain&&(b.contents.script=!1)});g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},
converters:{"text script":function(b){return g.globalEval(b),b}}});g.ajaxPrefilter("script",function(b){void 0===b.cache&&(b.cache=!1);b.crossDomain&&(b.type="GET")});g.ajaxTransport("script",function(b){if(b.crossDomain){var c,e;return{send:function(d,l){c=g("<script>").prop({charset:b.scriptCharset,src:b.url}).on("load error",e=function(b){c.remove();e=null;b&&l("error"===b.type?404:200,b.type)});A.head.appendChild(c[0])},abort:function(){e&&e()}}}});var yc=[],yb=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var b=yc.pop()||g.expando+"_"+uc++;return this[b]=!0,b}});g.ajaxPrefilter("json jsonp",function(c,e,d){var l,f,m,j=!1!==c.jsonp&&(yb.test(c.url)?"url":"string"==typeof c.data&&0===(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&yb.test(c.data)&&"data");if(j||"jsonp"===c.dataTypes[0])return l=c.jsonpCallback=g.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,j?c[j]=c[j].replace(yb,"$1"+l):!1!==c.jsonp&&(c.url+=(wb.test(c.url)?"&":"?")+c.jsonp+
"="+l),c.converters["script json"]=function(){return m||g.error(l+" was not called"),m[0]},c.dataTypes[0]="json",f=b[l],b[l]=function(){m=arguments},d.always(function(){void 0===f?g(b).removeProp(l):b[l]=f;c[l]&&(c.jsonpCallback=e.jsonpCallback,yc.push(l));m&&g.isFunction(f)&&f(m[0]);m=f=void 0}),"script"});var Gd=H,zc,Ac=A.implementation.createHTMLDocument("").body;zc=(Ac.innerHTML="<form></form><form></form>",2===Ac.childNodes.length);Gd.createHTMLDocument=zc;g.parseHTML=function(b,c,e){if("string"!=
typeof b)return[];"boolean"==typeof c&&(e=c,c=!1);var d,l,f;return c||(H.createHTMLDocument?(c=A.implementation.createHTMLDocument(""),d=c.createElement("base"),d.href=A.location.href,c.head.appendChild(d)):c=A),l=gc.exec(b),f=!e&&[],l?[c.createElement(l[1])]:(l=F([b],c,f),f&&f.length&&g(f).remove(),g.merge([],l.childNodes))};g.fn.load=function(b,c,e){var d,l,f,m=this,j=b.indexOf(" ");return-1<j&&(d=na(b.slice(j)),b=b.slice(0,j)),g.isFunction(c)?(e=c,c=void 0):c&&"object"==typeof c&&(l="POST"),0<
m.length&&g.ajax({url:b,type:l||"GET",dataType:"html",data:c}).done(function(b){f=arguments;m.html(d?g("<div>").append(g.parseHTML(b)).find(d):b)}).always(e&&function(b,c){m.each(function(){e.apply(this,f||[b.responseText,c,b])})}),this};g.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,c){g.fn[c]=function(b){return this.on(c,b)}});g.expr.pseudos.animated=function(b){return g.grep(g.timers,function(c){return b===c.elem}).length};g.offset={setOffset:function(b,
c,e){var d,l,f,m,j,p,s=g.css(b,"position"),n=g(b),r={};"static"===s&&(b.style.position="relative");j=n.offset();f=g.css(b,"top");p=g.css(b,"left");("absolute"===s||"fixed"===s)&&-1<(f+p).indexOf("auto")?(d=n.position(),m=d.top,l=d.left):(m=parseFloat(f)||0,l=parseFloat(p)||0);g.isFunction(c)&&(c=c.call(b,e,g.extend({},j)));null!=c.top&&(r.top=c.top-j.top+m);null!=c.left&&(r.left=c.left-j.left+l);"using"in c?c.using.call(b,r):n.css(r)}};g.fn.extend({offset:function(b){if(arguments.length)return void 0===
b?this:this.each(function(c){g.offset.setOffset(this,b,c)});var c,e,d,l,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),c=f.ownerDocument,e=c.documentElement,l=c.defaultView,{top:d.top+l.pageYOffset-e.clientTop,left:d.left+l.pageXOffset-e.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var b,c,e=this[0],d={top:0,left:0};return"fixed"===g.css(e,"position")?c=e.getBoundingClientRect():(b=this.offsetParent(),c=this.offset(),f(b[0],"html")||(d=b.offset()),d={top:d.top+
g.css(b[0],"borderTopWidth",!0),left:d.left+g.css(b[0],"borderLeftWidth",!0)}),{top:c.top-d.top-g.css(e,"marginTop",!0),left:c.left-d.left-g.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent;b&&"static"===g.css(b,"position");)b=b.offsetParent;return b||cb})}});g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var e="pageYOffset"===c;g.fn[b]=function(d){return ga(this,function(b,d,l){var f;return g.isWindow(b)?f=b:9===b.nodeType&&
(f=b.defaultView),void 0===l?f?f[c]:b[d]:void(f?f.scrollTo(e?f.pageXOffset:l,e?l:f.pageYOffset):b[d]=l)},b,d,arguments.length)}});g.each(["top","left"],function(b,c){g.cssHooks[c]=Hb(H.pixelPosition,function(b,e){if(e)return e=Ea(b,c),fb.test(e)?g(b).position()[c]+"px":e})});g.each({Height:"height",Width:"width"},function(b,c){g.each({padding:"inner"+b,content:c,"":"outer"+b},function(e,d){g.fn[d]=function(l,f){var m=arguments.length&&(e||"boolean"!=typeof l),j=e||(!0===l||!0===f?"margin":"border");
return ga(this,function(c,e,l){var f;return g.isWindow(c)?0===d.indexOf("outer")?c["inner"+b]:c.document.documentElement["client"+b]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+b],f["scroll"+b],c.body["offset"+b],f["offset"+b],f["client"+b])):void 0===l?g.css(c,e,j):g.style(c,e,l,j)},c,m?l:void 0,m)}})});g.fn.extend({bind:function(b,c,e){return this.on(b,null,c,e)},unbind:function(b,c){return this.off(b,null,c)},delegate:function(b,c,e,d){return this.on(c,b,e,d)},undelegate:function(b,
c,e){return 1===arguments.length?this.off(b,"**"):this.off(c,b||"**",e)}});g.holdReady=function(b){b?g.readyWait++:g.ready(!0)};g.isArray=Array.isArray;g.parseJSON=JSON.parse;g.nodeName=f;"function"==typeof define&&define.amd&&define("jquery",[],function(){return g});var Hd=b.jQuery,Id=b.$;return g.noConflict=function(c){return b.$===g&&(b.$=Id),c&&b.jQuery===g&&(b.jQuery=Hd),g},c||(b.jQuery=b.$=g),g});var portraitMode=!0,mobilePortraitWidth=480,mobilePortraitHeight=640,mobileLandscapeWidth=480,mobileLandscapeHeight=640,mobileWidth=portraitMode?mobilePortraitWidth:mobileLandscapeWidth,mobileHeight=portraitMode?mobilePortraitHeight:mobileLandscapeHeight,desktopWidth=640,desktopHeight=640,w,h,multiplier,destW,destH,dynamicClickableEntityDivs={},coreDivsToResize=["game","play","orientate"],advancedDivsToResize={};
function adjustLayers(b){for(i=0;i<coreDivsToResize.length;i++)ig.ua.mobile?($("#"+coreDivsToResize[i]).width(w),$("#"+coreDivsToResize[i]).height(h)):($("#"+coreDivsToResize[i]).width(destW),$("#"+coreDivsToResize[i]).height(destH),$("#"+coreDivsToResize[i]).css("left",b?0:w/2-destW/2));for(key in advancedDivsToResize)try{$("#"+key).width(w),$("#"+key).height(h),$("#"+key+"-Box").css("left",(w-advancedDivsToResize[key]["box-width"])/2),$("#"+key+"-Box").css("top",(h-advancedDivsToResize[key]["box-height"])/
2)}catch(c){console.log(c)}$("#ajaxbar").width(w);$("#ajaxbar").height(h)}
function sizeHandler(){if($("#game")){w=window.innerWidth;h=window.innerHeight;ig.ua.mobile?(multiplier=Math.min(h/mobileHeight,w/mobileWidth),destW=mobileWidth*multiplier,destH=mobileHeight*multiplier):(multiplier=Math.min(h/desktopHeight,w/desktopWidth),destW=desktopWidth*multiplier,destH=desktopHeight*multiplier);widthRatio=window.innerWidth/mobileWidth;heightRatio=window.innerHeight/mobileHeight;adjustLayers();window.scrollTo(0,1);for(var b=navigator.userAgent.split(" "),c=0;c<b.length;c++)b[c].substr(0,
8);navigator.userAgent.indexOf("wv");navigator.userAgent.indexOf("SamsungBrowser")}}function orientationHandler(){console.log("changing orientation ...");ig.ua.mobile&&((portraitMode?window.innerHeight<window.innerWidth:window.innerHeight>window.innerWidth)?($("#orientate").show(),$("#game").hide()):($("#orientate").hide(),$("#game").show()));sizeHandler()}
function fixSamsungHandler(){ig.ua.android&&(!(4.2>parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("Android")+8,navigator.userAgent.indexOf("Android")+11)))&&!(0>navigator.userAgent.indexOf("GT"))&&!(0<navigator.userAgent.indexOf("Chrome"))&&!(0<navigator.userAgent.indexOf("Firefox")))&&(document.addEventListener("touchstart",function(b){b.preventDefault();return!1},!1),document.addEventListener("touchmove",function(b){b.preventDefault();return!1},!1),document.addEventListener("touchend",
function(b){b.preventDefault();return!1},!1))}orientationTimeout=orientationInterval=null;function orientationDelayHandler(){ig.ua.iOS?(null==orientationInterval&&(orientationInterval=window.setInterval(orientationHandler,100)),null==orientationTimeout&&(orientationTimeout=window.setTimeout(function(){clearAllIntervals()},2E3))):orientationHandler()}
function clearAllIntervals(){window.clearInterval(orientationInterval);orientationInterval=null;window.clearTimeout(orientationTimeout);orientationTimeout=null}window.addEventListener("orientationchange",orientationDelayHandler);window.addEventListener("resize",orientationDelayHandler);document.ontouchmove=function(b){window.scrollTo(0,1);b.preventDefault()};function getInternetExplorerVersion(){var b=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(b=parseFloat(RegExp.$1));return b}var ie=getInternetExplorerVersion();function getQueryVariable(b){for(var c=window.location.search.substring(1).split("&"),d=0;d<c.length;d++){var j=c[d].split("=");if(decodeURIComponent(j[0])==b)return decodeURIComponent(j[1])}};this.jukebox={};
jukebox.Player=function(b,c){this.id=++jukebox.__jukeboxId;this.origin=c||null;this.settings={};for(var d in this.defaults)this.settings[d]=this.defaults[d];if("[object Object]"===Object.prototype.toString.call(b))for(var j in b)this.settings[j]=b[j];"[object Function]"===Object.prototype.toString.call(jukebox.Manager)&&(jukebox.Manager=new jukebox.Manager);this.resource=this.isPlaying=null;this.resource="[object Object]"===Object.prototype.toString.call(jukebox.Manager)?jukebox.Manager.getPlayableResource(this.settings.resources):this.settings.resources[0]||
null;if(null===this.resource)throw"Your browser can't playback the given resources - or you have missed to include jukebox.Manager";this.__init();return this};jukebox.__jukeboxId=0;
jukebox.Player.prototype={defaults:{resources:[],autoplay:!1,spritemap:{},flashMediaElement:"./swf/FlashMediaElement.swf",timeout:1E3},__addToManager:function(){!0!==this.__wasAddedToManager&&(jukebox.Manager.add(this),this.__wasAddedToManager=!0)},__init:function(){var b=this,c=this.settings,d={},j;jukebox.Manager&&void 0!==jukebox.Manager.features&&(d=jukebox.Manager.features);if(!0===d.html5audio){this.context=new Audio;this.context.src=this.resource;if(null===this.origin){var f=function(c){b.__addToManager(c)};
this.context.addEventListener("canplaythrough",f,!0);window.setTimeout(function(){b.context.removeEventListener("canplaythrough",f,!0);f("timeout")},c.timeout)}this.context.autobuffer=!0;this.context.preload=!0;for(j in this.HTML5API)this[j]=this.HTML5API[j];1<d.channels?!0===c.autoplay?this.context.autoplay=!0:void 0!==c.spritemap[c.autoplay]&&this.play(c.autoplay):1===d.channels&&void 0!==c.spritemap[c.autoplay]&&(this.backgroundMusic=c.spritemap[c.autoplay],this.backgroundMusic.started=Date.now?
Date.now():+new Date,this.play(c.autoplay));1==d.channels&&!0!==c.canPlayBackground&&(window.addEventListener("pagehide",function(){null!==b.isPlaying&&(b.pause(),b.__wasAutoPaused=!0)}),window.addEventListener("pageshow",function(){b.__wasAutoPaused&&(b.resume(),delete b._wasAutoPaused)}))}else if(!0===d.flashaudio){for(j in this.FLASHAPI)this[j]=this.FLASHAPI[j];d=["id=jukebox-flashstream-"+this.id,"autoplay="+c.autoplay,"file="+window.encodeURIComponent(this.resource)];this.__initFlashContext(d);
!0===c.autoplay?this.play(0):c.spritemap[c.autoplay]&&this.play(c.autoplay)}else throw"Your Browser does not support Flash Audio or HTML5 Audio.";},__initFlashContext:function(b){var c,d=this.settings.flashMediaElement,j,f={flashvars:b.join("&"),quality:"high",bgcolor:"#000000",wmode:"transparent",allowscriptaccess:"always",allowfullscreen:"true"};if(navigator.userAgent.match(/MSIE/)){c=document.createElement("div");document.getElementsByTagName("body")[0].appendChild(c);var n=document.createElement("object");
n.id="jukebox-flashstream-"+this.id;n.setAttribute("type","application/x-shockwave-flash");n.setAttribute("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");n.setAttribute("width","0");n.setAttribute("height","0");f.movie=d+"?x="+(Date.now?Date.now():+new Date);f.flashvars=b.join("&amp;");for(j in f)b=document.createElement("param"),b.setAttribute("name",j),b.setAttribute("value",f[j]),n.appendChild(b);c.outerHTML=n.outerHTML;this.context=document.getElementById("jukebox-flashstream-"+this.id)}else{c=
document.createElement("embed");c.id="jukebox-flashstream-"+this.id;c.setAttribute("type","application/x-shockwave-flash");c.setAttribute("width","100");c.setAttribute("height","100");f.play=!1;f.loop=!1;f.src=d+"?x="+(Date.now?Date.now():+new Date);for(j in f)c.setAttribute(j,f[j]);document.getElementsByTagName("body")[0].appendChild(c);this.context=c}},backgroundHackForiOS:function(){if(void 0!==this.backgroundMusic){var b=Date.now?Date.now():+new Date;void 0===this.backgroundMusic.started?(this.backgroundMusic.started=
b,this.setCurrentTime(this.backgroundMusic.start)):(this.backgroundMusic.lastPointer=(b-this.backgroundMusic.started)/1E3%(this.backgroundMusic.end-this.backgroundMusic.start)+this.backgroundMusic.start,this.play(this.backgroundMusic.lastPointer))}},play:function(b,c){if(null!==this.isPlaying&&!0!==c)void 0!==jukebox.Manager&&jukebox.Manager.addToQueue(b,this.id);else{var d=this.settings.spritemap,j;if(void 0!==d[b])j=d[b].start;else if("number"===typeof b){j=b;for(var f in d)if(j>=d[f].start&&j<=
d[f].end){b=f;break}}void 0!==j&&"[object Object]"===Object.prototype.toString.call(d[b])&&(this.isPlaying=this.settings.spritemap[b],this.context.play&&this.context.play(),this.wasReady=this.setCurrentTime(j))}},stop:function(){this.__lastPosition=0;this.isPlaying=null;this.backgroundMusic?this.backgroundHackForiOS():this.context.pause();return!0},pause:function(){this.isPlaying=null;this.__lastPosition=this.getCurrentTime();this.context.pause();return this.__lastPosition},resume:function(b){b="number"===
typeof b?b:this.__lastPosition;if(null!==b)return this.play(b),this.__lastPosition=null,!0;this.context.play();return!1},HTML5API:{getVolume:function(){return this.context.volume||1},setVolume:function(b){this.context.volume=b;return 1E-4>Math.abs(this.context.volume-b)?!0:!1},getCurrentTime:function(){return this.context.currentTime||0},setCurrentTime:function(b){try{return this.context.currentTime=b,!0}catch(c){return!1}}},FLASHAPI:{getVolume:function(){return this.context&&"function"===typeof this.context.getVolume?
this.context.getVolume():1},setVolume:function(b){return this.context&&"function"===typeof this.context.setVolume?(this.context.setVolume(b),!0):!1},getCurrentTime:function(){return this.context&&"function"===typeof this.context.getCurrentTime?this.context.getCurrentTime():0},setCurrentTime:function(b){return this.context&&"function"===typeof this.context.setCurrentTime?this.context.setCurrentTime(b):!1}}};if(void 0===this.jukebox)throw"jukebox.Manager requires jukebox.Player (Player.js) to run properly.";
jukebox.Manager=function(b){this.features={};this.codecs={};this.__players={};this.__playersLength=0;this.__clones={};this.__queue=[];this.settings={};for(var c in this.defaults)this.settings[c]=this.defaults[c];if("[object Object]"===Object.prototype.toString.call(b))for(var d in b)this.settings[d]=b[d];this.__detectFeatures();jukebox.Manager.__initialized=!1===this.settings.useGameLoop?window.setInterval(function(){jukebox.Manager.loop()},20):!0};
jukebox.Manager.prototype={defaults:{useFlash:!1,useGameLoop:!1},__detectFeatures:function(){var b=window.Audio&&new Audio;if(b&&b.canPlayType&&!1===this.settings.useFlash){for(var c=[{e:"3gp",m:["audio/3gpp","audio/amr"]},{e:"aac",m:["audio/aac","audio/aacp"]},{e:"amr",m:["audio/amr","audio/3gpp"]},{e:"caf",m:["audio/IMA-ADPCM","audio/x-adpcm",'audio/x-aiff; codecs="IMA-ADPCM, ADPCM"']},{e:"m4a",m:'audio/mp4{audio/mp4; codecs="mp4a.40.2,avc1.42E01E"{audio/mpeg4{audio/mpeg4-generic{audio/mp4a-latm{audio/MP4A-LATM{audio/x-m4a'.split("{")},
{e:"mp3",m:["audio/mp3","audio/mpeg",'audio/mpeg; codecs="mp3"',"audio/MPA","audio/mpa-robust"]},{e:"mpga",m:["audio/MPA","audio/mpa-robust","audio/mpeg","video/mpeg"]},{e:"mp4",m:["audio/mp4","video/mp4"]},{e:"ogg",m:["application/ogg","audio/ogg",'audio/ogg; codecs="theora, vorbis"',"video/ogg",'video/ogg; codecs="theora, vorbis"']},{e:"wav",m:["audio/wave","audio/wav",'audio/wav; codecs="1"',"audio/x-wav","audio/x-pn-wav"]},{e:"webm",m:["audio/webm",'audio/webm; codecs="vorbis"',"video/webm"]}],
d,j,f=0,n=c.length;f<n;f++)if(j=c[f].e,c[f].m.length&&"object"===typeof c[f].m)for(var t=0,r=c[f].m.length;t<r;t++)if(d=c[f].m[t],""!==b.canPlayType(d)){this.codecs[j]=d;break}else this.codecs[j]||(this.codecs[j]=!1);this.features.html5audio=!(!this.codecs.mp3&&!this.codecs.ogg&&!this.codecs.webm&&!this.codecs.wav);this.features.channels=8;b.volume=0.1337;this.features.volume=!!(1E-4>Math.abs(b.volume-0.1337));navigator.userAgent.match(/iPhone|iPod|iPad/i)&&(this.features.channels=1)}this.features.flashaudio=
!!navigator.mimeTypes["application/x-shockwave-flash"]||!!navigator.plugins["Shockwave Flash"]||!1;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.10"),this.features.flashaudio=!0}catch(e){}!0===this.settings.useFlash&&(this.features.flashaudio=!0);!0===this.features.flashaudio&&!this.features.html5audio&&(this.codecs.mp3="audio/mp3",this.codecs.mpga="audio/mpeg",this.codecs.mp4="audio/mp4",this.codecs.m4a="audio/mp4",this.codecs["3gp"]="audio/3gpp",this.codecs.amr="audio/amr",
this.features.volume=!0,this.features.channels=1)},__getPlayerById:function(b){return this.__players&&void 0!==this.__players[b]?this.__players[b]:null},__getClone:function(b,c){for(var d in this.__clones){var j=this.__clones[d];if(null===j.isPlaying&&j.origin===b)return j}if("[object Object]"===Object.prototype.toString.call(c)){d={};for(var f in c)d[f]=c[f];d.autoplay=!1;f=new jukebox.Player(d,b);f.isClone=!0;f.wasReady=!1;return this.__clones[f.id]=f}return null},loop:function(){if(0!==this.__playersLength)if(this.__queue.length&&
this.__playersLength<this.features.channels){var b=this.__queue[0],c=this.__getPlayerById(b.origin);if(null!==c){var d=this.__getClone(b.origin,c.settings);null!==d&&(!0===this.features.volume&&(c=this.__players[b.origin])&&d.setVolume(c.getVolume()),this.add(d),d.play(b.pointer,!0))}this.__queue.splice(0,1)}else for(d in this.__queue.length&&1===this.features.channels&&(b=this.__queue[0],c=this.__getPlayerById(b.origin),null!==c&&c.play(b.pointer,!0),this.__queue.splice(0,1)),this.__players)b=this.__players[d],
c=b.getCurrentTime()||0,b.isPlaying&&!1===b.wasReady?b.wasReady=b.setCurrentTime(b.isPlaying.start):b.isPlaying&&!0===b.wasReady?c>b.isPlaying.end&&(!0===b.isPlaying.loop?b.play(b.isPlaying.start,!0):b.stop()):b.isClone&&null===b.isPlaying?this.remove(b):void 0!==b.backgroundMusic&&null===b.isPlaying&&c>b.backgroundMusic.end&&b.backgroundHackForiOS()},getPlayableResource:function(b){"[object Array]"!==Object.prototype.toString.call(b)&&(b=[b]);for(var c=0,d=b.length;c<d;c++){var j=b[c],f=j.match(/\.([^\.]*)$/)[1];
if(f&&this.codecs[f])return j}return null},add:function(b){return b instanceof jukebox.Player&&void 0===this.__players[b.id]?(this.__playersLength++,this.__players[b.id]=b,!0):!1},remove:function(b){return b instanceof jukebox.Player&&void 0!==this.__players[b.id]?(this.__playersLength--,delete this.__players[b.id],!0):!1},addToQueue:function(b,c){return("string"===typeof b||"number"===typeof b)&&void 0!==this.__players[c]?(this.__queue.push({pointer:b,origin:c}),!0):!1}};(function(){var b=function(){this.init()};b.prototype={init:function(){var b=this||c;b._codecs={};b._howls=[];b._muted=!1;b._volume=1;b._canPlayEvent="canplaythrough";b._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null;b.masterGain=null;b.noAudio=!1;b.usingWebAudio=!0;b.autoSuspend=!0;b.ctx=null;b.mobileAutoEnable=!0;b._setup();return b},volume:function(b){var d=this||c;b=parseFloat(b);d.ctx||r();if("undefined"!==typeof b&&0<=b&&1>=b){d._volume=b;if(d._muted)return d;
d.usingWebAudio&&(d.masterGain.gain.value=b);for(var f=0;f<d._howls.length;f++)if(!d._howls[f]._webAudio)for(var j=d._howls[f]._getSoundIds(),p=0;p<j.length;p++){var n=d._howls[f]._soundById(j[p]);n&&n._node&&(n._node.volume=n._volume*b)}return d}return d._volume},mute:function(b){var d=this||c;d.ctx||r();d._muted=b;d.usingWebAudio&&(d.masterGain.gain.value=b?0:d._volume);for(var f=0;f<d._howls.length;f++)if(!d._howls[f]._webAudio)for(var j=d._howls[f]._getSoundIds(),p=0;p<j.length;p++){var n=d._howls[f]._soundById(j[p]);
n&&n._node&&(n._node.muted=b?!0:n._muted)}return d},unload:function(){for(var b=this||c,d=b._howls.length-1;0<=d;d--)b._howls[d].unload();b.usingWebAudio&&(b.ctx&&"undefined"!==typeof b.ctx.close)&&(b.ctx.close(),b.ctx=null,r());return b},codecs:function(b){return(this||c)._codecs[b.replace(/^x-/,"")]},_setup:function(){var b=this||c;b.state=b.ctx?b.ctx.state||"running":"running";b._autoSuspend();if(!b.usingWebAudio)if("undefined"!==typeof Audio)try{var d=new Audio;"undefined"===typeof d.oncanplaythrough&&
(b._canPlayEvent="canplay")}catch(f){b.noAudio=!0}else b.noAudio=!0;try{d=new Audio,d.muted&&(b.noAudio=!0)}catch(j){}b.noAudio||b._setupCodecs();return b},_setupCodecs:function(){var b=this||c,d=null;try{d="undefined"!==typeof Audio?new Audio:null}catch(f){return b}if(!d||"function"!==typeof d.canPlayType)return b;var j=d.canPlayType("audio/mpeg;").replace(/^no$/,""),p=b._navigator&&b._navigator.userAgent.match(/OPR\/([0-6].)/g),p=p&&33>parseInt(p[0].split("index.html")[1],10);b._codecs={mp3:!(p||!j&&!d.canPlayType("audio/mp3;").replace(/^no$/,
"")),mpeg:!!j,opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!d.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!d.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,
""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!d.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(d.canPlayType("audio/x-flac;")||d.canPlayType("audio/flac;")).replace(/^no$/,"")};return b},_enableMobileAudio:function(){var b=this||c,d=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(b._navigator&&
b._navigator.userAgent),f=!!("ontouchend"in window||b._navigator&&0<b._navigator.maxTouchPoints||b._navigator&&0<b._navigator.msMaxTouchPoints);if(!b._mobileEnabled&&b.ctx&&(d||f)){b._mobileEnabled=!1;!b._mobileUnloaded&&44100!==b.ctx.sampleRate&&(b._mobileUnloaded=!0,b.unload());b._scratchBuffer=b.ctx.createBuffer(1,1,22050);var j=function(){var c=b.ctx.createBufferSource();c.buffer=b._scratchBuffer;c.connect(b.ctx.destination);"undefined"===typeof c.start?c.noteOn(0):c.start(0);c.onended=function(){c.disconnect(0);
b._mobileEnabled=!0;b.mobileAutoEnable=!1;document.removeEventListener("touchend",j,!0)}};document.addEventListener("touchend",j,!0);return b}},_autoSuspend:function(){var b=this;if(b.autoSuspend&&b.ctx&&"undefined"!==typeof b.ctx.suspend&&c.usingWebAudio){for(var d=0;d<b._howls.length;d++)if(b._howls[d]._webAudio)for(var f=0;f<b._howls[d]._sounds.length;f++)if(!b._howls[d]._sounds[f]._paused)return b;b._suspendTimer&&clearTimeout(b._suspendTimer);b._suspendTimer=setTimeout(function(){b.autoSuspend&&
(b._suspendTimer=null,b.state="suspending",b.ctx.suspend().then(function(){b.state="suspended";b._resumeAfterSuspend&&(delete b._resumeAfterSuspend,b._autoResume())}))},3E4);return b}},_autoResume:function(){var b=this;if(b.ctx&&"undefined"!==typeof b.ctx.resume&&c.usingWebAudio)return"running"===b.state&&b._suspendTimer?(clearTimeout(b._suspendTimer),b._suspendTimer=null):"suspended"===b.state?(b.state="resuming",b.ctx.resume().then(function(){b.state="running";for(var c=0;c<b._howls.length;c++)b._howls[c]._emit("resume")}),
b._suspendTimer&&(clearTimeout(b._suspendTimer),b._suspendTimer=null)):"suspending"===b.state&&(b._resumeAfterSuspend=!0),b}};var c=new b,d=function(b){!b.src||0===b.src.length?console.error("An array of source files must be passed with any new Howl."):this.init(b)};d.prototype={init:function(b){var d=this;c.ctx||r();d._autoplay=b.autoplay||!1;d._format="string"!==typeof b.format?b.format:[b.format];d._html5=b.html5||!1;d._muted=b.mute||!1;d._loop=b.loop||!1;d._pool=b.pool||5;d._preload="boolean"===
typeof b.preload?b.preload:!0;d._rate=b.rate||1;d._sprite=b.sprite||{};d._src="string"!==typeof b.src?b.src:[b.src];d._volume=void 0!==b.volume?b.volume:1;d._duration=0;d._state="unloaded";d._sounds=[];d._endTimers={};d._queue=[];d._onend=b.onend?[{fn:b.onend}]:[];d._onfade=b.onfade?[{fn:b.onfade}]:[];d._onload=b.onload?[{fn:b.onload}]:[];d._onloaderror=b.onloaderror?[{fn:b.onloaderror}]:[];d._onpause=b.onpause?[{fn:b.onpause}]:[];d._onplay=b.onplay?[{fn:b.onplay}]:[];d._onstop=b.onstop?[{fn:b.onstop}]:
[];d._onmute=b.onmute?[{fn:b.onmute}]:[];d._onvolume=b.onvolume?[{fn:b.onvolume}]:[];d._onrate=b.onrate?[{fn:b.onrate}]:[];d._onseek=b.onseek?[{fn:b.onseek}]:[];d._onresume=[];d._webAudio=c.usingWebAudio&&!d._html5;"undefined"!==typeof c.ctx&&(c.ctx&&c.mobileAutoEnable)&&c._enableMobileAudio();c._howls.push(d);d._autoplay&&d._queue.push({event:"play",action:function(){d.play()}});d._preload&&d.load();return d},load:function(){var b=null;if(c.noAudio)this._emit("loaderror",null,"No audio support.");
else{"string"===typeof this._src&&(this._src=[this._src]);for(var d=0;d<this._src.length;d++){var m,s;if(this._format&&this._format[d])m=this._format[d];else{s=this._src[d];if("string"!==typeof s){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(m=/^data:audio\/([^;,]+);/i.exec(s))||(m=/\.([^.]+)$/.exec(s.split("?",1)[0]));m&&(m=m[1].toLowerCase())}if(c.codecs(m)){b=this._src[d];break}}if(b){this._src=b;this._state="loading";"https:"===window.location.protocol&&
"http:"===b.slice(0,5)&&(this._html5=!0,this._webAudio=!1);new j(this);if(this._webAudio){var p=this,r=p._src;if(f[r])p._duration=f[r].duration,t(p);else if(/^data:[^;]+;base64,/.test(r)){b=atob(r.split(",")[1]);d=new Uint8Array(b.length);for(m=0;m<b.length;++m)d[m]=b.charCodeAt(m);n(d.buffer,p)}else{var u=new XMLHttpRequest;u.open("GET.html",r,!0);u.responseType="arraybuffer";u.onload=function(){var b=(u.status+"")[0];"0"!==b&&"2"!==b&&"3"!==b?p._emit("loaderror",null,"Failed loading audio file with status: "+
u.status+"."):n(u.response,p)};u.onerror=function(){p._webAudio&&(p._html5=!0,p._webAudio=!1,p._sounds=[],delete f[r],p.load())};try{u.send()}catch(B){u.onerror()}}}return this}this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(b,d){var f=this,j=null;if("number"===typeof b)j=b,b=null;else{if("string"===typeof b&&"loaded"===f._state&&!f._sprite[b])return null;if("undefined"===typeof b){b="__default";for(var p=0,n=0;n<f._sounds.length;n++)f._sounds[n]._paused&&
!f._sounds[n]._ended&&(p++,j=f._sounds[n]._id);1===p?b=null:j=null}}var r=j?f._soundById(j):f._inactiveSound();if(!r)return null;j&&!b&&(b=r._sprite||"__default");if("loaded"!==f._state&&!f._sprite[b])return f._queue.push({event:"play",action:function(){f.play(f._soundById(r._id)?r._id:void 0)}}),r._id;if(j&&!r._paused)return d||setTimeout(function(){f._emit("play",r._id)},0),r._id;f._webAudio&&c._autoResume();var t=Math.max(0,0<r._seek?r._seek:f._sprite[b][0]/1E3),G=Math.max(0,(f._sprite[b][0]+f._sprite[b][1])/
1E3-t),F=1E3*G/Math.abs(r._rate);r._paused=!1;r._ended=!1;r._sprite=b;r._seek=t;r._start=f._sprite[b][0]/1E3;r._stop=(f._sprite[b][0]+f._sprite[b][1])/1E3;r._loop=!(!r._loop&&!f._sprite[b][2]);var J=r._node;if(f._webAudio)j=function(){f._refreshBuffer(r);J.gain.setValueAtTime(r._muted||f._muted?0:r._volume,c.ctx.currentTime);r._playStart=c.ctx.currentTime;"undefined"===typeof J.bufferSource.start?r._loop?J.bufferSource.noteGrainOn(0,t,86400):J.bufferSource.noteGrainOn(0,t,G):r._loop?J.bufferSource.start(0,
t,86400):J.bufferSource.start(0,t,G);Infinity!==F&&(f._endTimers[r._id]=setTimeout(f._ended.bind(f,r),F));d||setTimeout(function(){f._emit("play",r._id)},0)},p="running"===c.state,"loaded"===f._state&&p?j():(f.once(p?"load":"resume",j,p?r._id:null),f._clearTimer(r._id));else{var U=function(){J.currentTime=t;J.muted=r._muted||f._muted||c._muted||J.muted;J.volume=r._volume*c.volume();J.playbackRate=r._rate;setTimeout(function(){J.play();Infinity!==F&&(f._endTimers[r._id]=setTimeout(f._ended.bind(f,
r),F));d||f._emit("play",r._id)},0)},j="loaded"===f._state&&(window&&window.ejecta||!J.readyState&&c._navigator.isCocoonJS);if(4===J.readyState||j)U();else{var la=function(){U();J.removeEventListener(c._canPlayEvent,la,!1)};J.addEventListener(c._canPlayEvent,la,!1);f._clearTimer(r._id)}}return r._id},pause:function(b,c){var d=this;if("loaded"!==d._state)return d._queue.push({event:"pause",action:function(){d.pause(b)}}),d;for(var f=d._getSoundIds(b),j=0;j<f.length;j++){d._clearTimer(f[j]);var n=d._soundById(f[j]);
if(n&&!n._paused&&(n._seek=d.seek(f[j]),n._rateSeek=0,n._paused=!0,d._stopFade(f[j]),n._node))if(d._webAudio){if(!n._node.bufferSource)break;"undefined"===typeof n._node.bufferSource.stop?n._node.bufferSource.noteOff(0):n._node.bufferSource.stop(0);d._cleanBuffer(n._node)}else(!isNaN(n._node.duration)||Infinity===n._node.duration)&&n._node.pause();c||d._emit("pause",n?n._id:null)}return d},stop:function(b,c){var d=this;if("loaded"!==d._state)return d._queue.push({event:"stop",action:function(){d.stop(b)}}),
d;for(var f=d._getSoundIds(b),j=0;j<f.length;j++){d._clearTimer(f[j]);var n=d._soundById(f[j]);if(n&&(n._seek=n._start||0,n._rateSeek=0,n._paused=!0,n._ended=!0,d._stopFade(f[j]),n._node))if(d._webAudio){if(!n._node.bufferSource){c||d._emit("stop",n._id);break}"undefined"===typeof n._node.bufferSource.stop?n._node.bufferSource.noteOff(0):n._node.bufferSource.stop(0);d._cleanBuffer(n._node)}else if(!isNaN(n._node.duration)||Infinity===n._node.duration)n._node.currentTime=n._start||0,n._node.pause();
n&&!c&&d._emit("stop",n._id)}return d},mute:function(b,d){var f=this;if("loaded"!==f._state)return f._queue.push({event:"mute",action:function(){f.mute(b,d)}}),f;if("undefined"===typeof d)if("boolean"===typeof b)f._muted=b;else return f._muted;for(var j=f._getSoundIds(d),p=0;p<j.length;p++){var n=f._soundById(j[p]);n&&(n._muted=b,f._webAudio&&n._node?n._node.gain.setValueAtTime(b?0:n._volume,c.ctx.currentTime):n._node&&(n._node.muted=c._muted?!0:b),f._emit("mute",n._id))}return f},volume:function(){var b=
this,d=arguments,f,j;if(0===d.length)return b._volume;1===d.length||2===d.length&&"undefined"===typeof d[1]?0<=b._getSoundIds().indexOf(d[0])?j=parseInt(d[0],10):f=parseFloat(d[0]):2<=d.length&&(f=parseFloat(d[0]),j=parseInt(d[1],10));var p;if("undefined"!==typeof f&&0<=f&&1>=f){if("loaded"!==b._state)return b._queue.push({event:"volume",action:function(){b.volume.apply(b,d)}}),b;"undefined"===typeof j&&(b._volume=f);j=b._getSoundIds(j);for(var n=0;n<j.length;n++)if(p=b._soundById(j[n]))p._volume=
f,d[2]||b._stopFade(j[n]),b._webAudio&&p._node&&!p._muted?p._node.gain.setValueAtTime(f,c.ctx.currentTime):p._node&&!p._muted&&(p._node.volume=f*c.volume()),b._emit("volume",p._id)}else return(p=j?b._soundById(j):b._sounds[0])?p._volume:0;return b},fade:function(b,d,f,j){var p=this,n=Math.abs(b-d),r=b>d?"out":"in",t=n/0.01,n=0<t?f/t:f;4>n&&(t=Math.ceil(t/(4/n)),n=4);if("loaded"!==p._state)return p._queue.push({event:"fade",action:function(){p.fade(b,d,f,j)}}),p;p.volume(b,j);for(var G=p._getSoundIds(j),
F=0;F<G.length;F++){var J=p._soundById(G[F]);if(J){j||p._stopFade(G[F]);if(p._webAudio&&!J._muted){var U=c.ctx.currentTime,la=U+f/1E3;J._volume=b;J._node.gain.setValueAtTime(b,U);J._node.gain.linearRampToValueAtTime(d,la)}var O=b;J._interval=setInterval(function(b,c){0<t&&(O+="in"===r?0.01:-0.01);O=Math.max(0,O);O=Math.min(1,O);O=Math.round(100*O)/100;p._webAudio?("undefined"===typeof j&&(p._volume=O),c._volume=O):p.volume(O,b,!0);O===d&&(clearInterval(c._interval),c._interval=null,p.volume(O,b),
p._emit("fade",b))}.bind(p,G[F],J),n)}}return p},_stopFade:function(b){var d=this._soundById(b);d&&d._interval&&(this._webAudio&&d._node.gain.cancelScheduledValues(c.ctx.currentTime),clearInterval(d._interval),d._interval=null,this._emit("fade",b));return this},loop:function(){var b=arguments,c,d;if(0===b.length)return this._loop;if(1===b.length)if("boolean"===typeof b[0])this._loop=c=b[0];else return(b=this._soundById(parseInt(b[0],10)))?b._loop:!1;else 2===b.length&&(c=b[0],d=parseInt(b[1],10));
d=this._getSoundIds(d);for(var f=0;f<d.length;f++)if(b=this._soundById(d[f]))if(b._loop=c,this._webAudio&&(b._node&&b._node.bufferSource)&&(b._node.bufferSource.loop=c))b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop;return this},rate:function(){var b=this,d=arguments,f,j;0===d.length?j=b._sounds[0]._id:1===d.length?0<=b._getSoundIds().indexOf(d[0])?j=parseInt(d[0],10):f=parseFloat(d[0]):2===d.length&&(f=parseFloat(d[0]),j=parseInt(d[1],10));var p;if("number"===typeof f){if("loaded"!==
b._state)return b._queue.push({event:"rate",action:function(){b.rate.apply(b,d)}}),b;"undefined"===typeof j&&(b._rate=f);j=b._getSoundIds(j);for(var n=0;n<j.length;n++)if(p=b._soundById(j[n])){p._rateSeek=b.seek(j[n]);p._playStart=b._webAudio?c.ctx.currentTime:p._playStart;p._rate=f;b._webAudio&&p._node&&p._node.bufferSource?p._node.bufferSource.playbackRate.value=f:p._node&&(p._node.playbackRate=f);var r=b.seek(j[n]),r=1E3*((b._sprite[p._sprite][0]+b._sprite[p._sprite][1])/1E3-r)/Math.abs(p._rate);
if(b._endTimers[j[n]]||!p._paused)b._clearTimer(j[n]),b._endTimers[j[n]]=setTimeout(b._ended.bind(b,p),r);b._emit("rate",p._id)}}else return(p=b._soundById(j))?p._rate:b._rate;return b},seek:function(){var b=this,d=arguments,f,j;0===d.length?j=b._sounds[0]._id:1===d.length?0<=b._getSoundIds().indexOf(d[0])?j=parseInt(d[0],10):(j=b._sounds[0]._id,f=parseFloat(d[0])):2===d.length&&(f=parseFloat(d[0]),j=parseInt(d[1],10));if("undefined"===typeof j)return b;if("loaded"!==b._state)return b._queue.push({event:"seek",
action:function(){b.seek.apply(b,d)}}),b;var n=b._soundById(j);if(n)if("number"===typeof f&&0<=f){var r=b.playing(j);r&&b.pause(j,!0);n._seek=f;n._ended=!1;b._clearTimer(j);r&&b.play(j,!0);!b._webAudio&&n._node&&(n._node.currentTime=f);b._emit("seek",j)}else return b._webAudio?(f=b.playing(j)?c.ctx.currentTime-n._playStart:0,n._seek+((n._rateSeek?n._rateSeek-n._seek:0)+f*Math.abs(n._rate))):n._node.currentTime;return b},playing:function(b){if("number"===typeof b)return(b=this._soundById(b))?!b._paused:
!1;for(b=0;b<this._sounds.length;b++)if(!this._sounds[b]._paused)return!0;return!1},duration:function(b){var c=this._duration;(b=this._soundById(b))&&(c=this._sprite[b._sprite][1]/1E3);return c},state:function(){return this._state},unload:function(){for(var b=this._sounds,d=0;d<b.length;d++){b[d]._paused||(this.stop(b[d]._id),this._emit("end",b[d]._id));this._webAudio||(b[d]._node.src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=",b[d]._node.removeEventListener("error",
b[d]._errorFn,!1),b[d]._node.removeEventListener(c._canPlayEvent,b[d]._loadFn,!1));delete b[d]._node;this._clearTimer(b[d]._id);var j=c._howls.indexOf(this);0<=j&&c._howls.splice(j,1)}b=!0;for(d=0;d<c._howls.length;d++)if(c._howls[d]._src===this._src){b=!1;break}f&&b&&delete f[this._src];c.noAudio=!1;this._state="unloaded";this._sounds=[];return null},on:function(b,c,d,f){b=this["_on"+b];"function"===typeof c&&b.push(f?{id:d,fn:c,once:f}:{id:d,fn:c});return this},off:function(b,c,d){var f=this["_on"+
b],j=0;if(c)for(j=0;j<f.length;j++){if(c===f[j].fn&&d===f[j].id){f.splice(j,1);break}}else if(b)this["_on"+b]=[];else{b=Object.keys(this);for(j=0;j<b.length;j++)0===b[j].indexOf("_on")&&Array.isArray(this[b[j]])&&(this[b[j]]=[])}return this},once:function(b,c,d){this.on(b,c,d,1);return this},_emit:function(b,c,d){for(var f=this["_on"+b],j=f.length-1;0<=j;j--)if(!f[j].id||f[j].id===c||"load"===b)setTimeout(function(b){b.call(this,c,d)}.bind(this,f[j].fn),0),f[j].once&&this.off(b,f[j].fn,f[j].id);return this},
_loadQueue:function(){var b=this;if(0<b._queue.length){var c=b._queue[0];b.once(c.event,function(){b._queue.shift();b._loadQueue()});c.action()}return b},_ended:function(b){var d=b._sprite,d=!(!b._loop&&!this._sprite[d][2]);this._emit("end",b._id);!this._webAudio&&d&&this.stop(b._id,!0).play(b._id);if(this._webAudio&&d){this._emit("play",b._id);b._seek=b._start||0;b._rateSeek=0;b._playStart=c.ctx.currentTime;var f=1E3*(b._stop-b._start)/Math.abs(b._rate);this._endTimers[b._id]=setTimeout(this._ended.bind(this,
b),f)}this._webAudio&&!d&&(b._paused=!0,b._ended=!0,b._seek=b._start||0,b._rateSeek=0,this._clearTimer(b._id),this._cleanBuffer(b._node),c._autoSuspend());!this._webAudio&&!d&&this.stop(b._id);return this},_clearTimer:function(b){this._endTimers[b]&&(clearTimeout(this._endTimers[b]),delete this._endTimers[b]);return this},_soundById:function(b){for(var c=0;c<this._sounds.length;c++)if(b===this._sounds[c]._id)return this._sounds[c];return null},_inactiveSound:function(){this._drain();for(var b=0;b<
this._sounds.length;b++)if(this._sounds[b]._ended)return this._sounds[b].reset();return new j(this)},_drain:function(){var b=this._pool,c=0,d=0;if(!(this._sounds.length<b)){for(d=0;d<this._sounds.length;d++)this._sounds[d]._ended&&c++;for(d=this._sounds.length-1;0<=d&&!(c<=b);d--)this._sounds[d]._ended&&(this._webAudio&&this._sounds[d]._node&&this._sounds[d]._node.disconnect(0),this._sounds.splice(d,1),c--)}},_getSoundIds:function(b){if("undefined"===typeof b){b=[];for(var c=0;c<this._sounds.length;c++)b.push(this._sounds[c]._id);
return b}return[b]},_refreshBuffer:function(b){b._node.bufferSource=c.ctx.createBufferSource();b._node.bufferSource.buffer=f[this._src];b._panner?b._node.bufferSource.connect(b._panner):b._node.bufferSource.connect(b._node);if(b._node.bufferSource.loop=b._loop)b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop;b._node.bufferSource.playbackRate.value=b._rate;return this},_cleanBuffer:function(b){if(this._scratchBuffer){b.bufferSource.onended=null;b.bufferSource.disconnect(0);
try{b.bufferSource.buffer=this._scratchBuffer}catch(c){}}b.bufferSource=null;return this}};var j=function(b){this._parent=b;this.init()};j.prototype={init:function(){var b=this._parent;this._muted=b._muted;this._loop=b._loop;this._volume=b._volume;this._muted=b._muted;this._rate=b._rate;this._seek=0;this._ended=this._paused=!0;this._sprite="__default";this._id=Math.round(Date.now()*Math.random());b._sounds.push(this);this.create();return this},create:function(){var b=this._parent,d=c._muted||this._muted||
this._parent._muted?0:this._volume;b._webAudio?(this._node="undefined"===typeof c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),this._node.gain.setValueAtTime(d,c.ctx.currentTime),this._node.paused=!0,this._node.connect(c.masterGain)):(this._node=new Audio,this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(c._canPlayEvent,this._loadFn,!1),this._node.src=b._src,this._node.preload=
"auto",this._node.volume=d*c.volume(),this._node.load());return this},reset:function(){var b=this._parent;this._muted=b._muted;this._loop=b._loop;this._volume=b._volume;this._muted=b._muted;this._rate=b._rate;this._rateSeek=this._seek=0;this._ended=this._paused=!0;this._sprite="__default";this._id=Math.round(Date.now()*Math.random());return this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0);this._node.removeEventListener("error",this._errorListener,
!1)},_loadListener:function(){var b=this._parent;b._duration=Math.ceil(10*this._node.duration)/10;0===Object.keys(b._sprite).length&&(b._sprite={__default:[0,1E3*b._duration]});"loaded"!==b._state&&(b._state="loaded",b._emit("load"),b._loadQueue());this._node.removeEventListener(c._canPlayEvent,this._loadFn,!1)}};var f={},n=function(b,d){c.ctx.decodeAudioData(b,function(b){b&&0<d._sounds.length&&(f[d._src]=b,t(d,b))},function(){d._emit("loaderror",null,"Decoding audio data failed.")})},t=function(b,
c){c&&!b._duration&&(b._duration=c.duration);0===Object.keys(b._sprite).length&&(b._sprite={__default:[0,1E3*b._duration]});"loaded"!==b._state&&(b._state="loaded",b._emit("load"),b._loadQueue())},r=function(){try{"undefined"!==typeof AudioContext?c.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?c.ctx=new webkitAudioContext:c.usingWebAudio=!1}catch(b){c.usingWebAudio=!1}var d=/iP(hone|od|ad)/.test(c._navigator&&c._navigator.platform),f=c._navigator&&c._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),
f=f?parseInt(f[1],10):null;if(d&&(f&&9>f)&&(d=/safari/.test(c._navigator&&c._navigator.userAgent.toLowerCase()),c._navigator&&c._navigator.standalone&&!d||c._navigator&&!c._navigator.standalone&&!d))c.usingWebAudio=!1;c.usingWebAudio&&(c.masterGain="undefined"===typeof c.ctx.createGain?c.ctx.createGainNode():c.ctx.createGain(),c.masterGain.gain.value=1,c.masterGain.connect(c.ctx.destination));c._setup()};"function"===typeof define&&define.amd&&define([],function(){return{Howler:c,Howl:d}});"undefined"!==
typeof exports&&(exports.Howler=c,exports.Howl=d);"undefined"!==typeof window?(window.HowlerGlobal=b,window.Howler=c,window.Howl=d,window.Sound=j):"undefined"!==typeof global&&(global.HowlerGlobal=b,global.Howler=c,global.Howl=d,global.Sound=j)})();
(function(){HowlerGlobal.prototype._pos=[0,0,0];HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0];HowlerGlobal.prototype.stereo=function(b){if(!this.ctx||!this.ctx.listener)return this;for(var c=this._howls.length-1;0<=c;c--)this._howls[c].stereo(b);return this};HowlerGlobal.prototype.pos=function(b,c,d){if(!this.ctx||!this.ctx.listener)return this;c="number"!==typeof c?this._pos[1]:c;d="number"!==typeof d?this._pos[2]:d;if("number"===typeof b)this._pos=[b,c,d],this.ctx.listener.setPosition(this._pos[0],
this._pos[1],this._pos[2]);else return this._pos;return this};HowlerGlobal.prototype.orientation=function(b,c,d,j,e,l){if(!this.ctx||!this.ctx.listener)return this;var m=this._orientation;c="number"!==typeof c?m[1]:c;d="number"!==typeof d?m[2]:d;j="number"!==typeof j?m[3]:j;e="number"!==typeof e?m[4]:e;l="number"!==typeof l?m[5]:l;if("number"===typeof b)this._orientation=[b,c,d,j,e,l],this.ctx.listener.setOrientation(b,c,d,j,e,l);else return m;return this};var b=Howl.prototype.init;Howl.prototype.init=
function(c){this._orientation=c.orientation||[1,0,0];this._stereo=c.stereo||null;this._pos=c.pos||null;this._pannerAttr={coneInnerAngle:"undefined"!==typeof c.coneInnerAngle?c.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof c.coneOuterAngle?c.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof c.coneOuterGain?c.coneOuterGain:0,distanceModel:"undefined"!==typeof c.distanceModel?c.distanceModel:"inverse",maxDistance:"undefined"!==typeof c.maxDistance?c.maxDistance:1E4,panningModel:"undefined"!==
typeof c.panningModel?c.panningModel:"HRTF",refDistance:"undefined"!==typeof c.refDistance?c.refDistance:1,rolloffFactor:"undefined"!==typeof c.rolloffFactor?c.rolloffFactor:1};this._onstereo=c.onstereo?[{fn:c.onstereo}]:[];this._onpos=c.onpos?[{fn:c.onpos}]:[];this._onorientation=c.onorientation?[{fn:c.onorientation}]:[];return b.call(this,c)};Howl.prototype.stereo=function(b,c){var d=this;if(!d._webAudio)return d;if("loaded"!==d._state)return d._queue.push({event:"stereo",action:function(){d.stereo(b,
c)}}),d;var r="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof c)if("number"===typeof b)d._stereo=b,d._pos=[b,0,0];else return d._stereo;for(var e=d._getSoundIds(c),l=0;l<e.length;l++){var m=d._soundById(e[l]);if(m)if("number"===typeof b)m._stereo=b,m._pos=[b,0,0],m._node&&(m._pannerAttr.panningModel="equalpower",(!m._panner||!m._panner.pan)&&j(m,r),"spatial"===r?m._panner.setPosition(b,0,0):m._panner.pan.value=b),d._emit("stereo",m._id);else return m._stereo}return d};
Howl.prototype.pos=function(b,c,d,r){var e=this;if(!e._webAudio)return e;if("loaded"!==e._state)return e._queue.push({event:"pos",action:function(){e.pos(b,c,d,r)}}),e;c="number"!==typeof c?0:c;d="number"!==typeof d?-0.5:d;if("undefined"===typeof r)if("number"===typeof b)e._pos=[b,c,d];else return e._pos;for(var l=e._getSoundIds(r),m=0;m<l.length;m++){var s=e._soundById(l[m]);if(s)if("number"===typeof b)s._pos=[b,c,d],s._node&&((!s._panner||s._panner.pan)&&j(s,"spatial"),s._panner.setPosition(b,c,
d)),e._emit("pos",s._id);else return s._pos}return e};Howl.prototype.orientation=function(b,c,d,r){var e=this;if(!e._webAudio)return e;if("loaded"!==e._state)return e._queue.push({event:"orientation",action:function(){e.orientation(b,c,d,r)}}),e;c="number"!==typeof c?e._orientation[1]:c;d="number"!==typeof d?e._orientation[2]:d;if("undefined"===typeof r)if("number"===typeof b)e._orientation=[b,c,d];else return e._orientation;for(var l=e._getSoundIds(r),m=0;m<l.length;m++){var s=e._soundById(l[m]);
if(s)if("number"===typeof b)s._orientation=[b,c,d],s._node&&(s._panner||(s._pos||(s._pos=e._pos||[0,0,-0.5]),j(s,"spatial")),s._panner.setOrientation(b,c,d)),e._emit("orientation",s._id);else return s._orientation}return e};Howl.prototype.pannerAttr=function(){var b=arguments,c,d;if(!this._webAudio)return this;if(0===b.length)return this._pannerAttr;if(1===b.length)if("object"===typeof b[0])c=b[0],"undefined"===typeof d&&(this._pannerAttr={coneInnerAngle:"undefined"!==typeof c.coneInnerAngle?c.coneInnerAngle:
this._coneInnerAngle,coneOuterAngle:"undefined"!==typeof c.coneOuterAngle?c.coneOuterAngle:this._coneOuterAngle,coneOuterGain:"undefined"!==typeof c.coneOuterGain?c.coneOuterGain:this._coneOuterGain,distanceModel:"undefined"!==typeof c.distanceModel?c.distanceModel:this._distanceModel,maxDistance:"undefined"!==typeof c.maxDistance?c.maxDistance:this._maxDistance,panningModel:"undefined"!==typeof c.panningModel?c.panningModel:this._panningModel,refDistance:"undefined"!==typeof c.refDistance?c.refDistance:
this._refDistance,rolloffFactor:"undefined"!==typeof c.rolloffFactor?c.rolloffFactor:this._rolloffFactor});else return(b=this._soundById(parseInt(b[0],10)))?b._pannerAttr:this._pannerAttr;else 2===b.length&&(c=b[0],d=parseInt(b[1],10));d=this._getSoundIds(d);for(var r=0;r<d.length;r++)if(b=this._soundById(d[r])){var e=b._pannerAttr,e={coneInnerAngle:"undefined"!==typeof c.coneInnerAngle?c.coneInnerAngle:e.coneInnerAngle,coneOuterAngle:"undefined"!==typeof c.coneOuterAngle?c.coneOuterAngle:e.coneOuterAngle,
coneOuterGain:"undefined"!==typeof c.coneOuterGain?c.coneOuterGain:e.coneOuterGain,distanceModel:"undefined"!==typeof c.distanceModel?c.distanceModel:e.distanceModel,maxDistance:"undefined"!==typeof c.maxDistance?c.maxDistance:e.maxDistance,panningModel:"undefined"!==typeof c.panningModel?c.panningModel:e.panningModel,refDistance:"undefined"!==typeof c.refDistance?c.refDistance:e.refDistance,rolloffFactor:"undefined"!==typeof c.rolloffFactor?c.rolloffFactor:e.rolloffFactor},l=b._panner;l?(l.coneInnerAngle=
e.coneInnerAngle,l.coneOuterAngle=e.coneOuterAngle,l.coneOuterGain=e.coneOuterGain,l.distanceModel=e.distanceModel,l.maxDistance=e.maxDistance,l.panningModel=e.panningModel,l.refDistance=e.refDistance,l.rolloffFactor=e.rolloffFactor):(b._pos||(b._pos=this._pos||[0,0,-0.5]),j(b,"spatial"))}return this};var c=Sound.prototype.init;Sound.prototype.init=function(){var b=this._parent;this._orientation=b._orientation;this._stereo=b._stereo;this._pos=b._pos;this._pannerAttr=b._pannerAttr;c.call(this);this._stereo?
b.stereo(this._stereo):this._pos&&b.pos(this._pos[0],this._pos[1],this._pos[2],this._id)};var d=Sound.prototype.reset;Sound.prototype.reset=function(){var b=this._parent;this._orientation=b._orientation;this._pos=b._pos;this._pannerAttr=b._pannerAttr;return d.call(this)};var j=function(b,c){"spatial"===(c||"spatial")?(b._panner=Howler.ctx.createPanner(),b._panner.coneInnerAngle=b._pannerAttr.coneInnerAngle,b._panner.coneOuterAngle=b._pannerAttr.coneOuterAngle,b._panner.coneOuterGain=b._pannerAttr.coneOuterGain,
b._panner.distanceModel=b._pannerAttr.distanceModel,b._panner.maxDistance=b._pannerAttr.maxDistance,b._panner.panningModel=b._pannerAttr.panningModel,b._panner.refDistance=b._pannerAttr.refDistance,b._panner.rolloffFactor=b._pannerAttr.rolloffFactor,b._panner.setPosition(b._pos[0],b._pos[1],b._pos[2]),b._panner.setOrientation(b._orientation[0],b._orientation[1],b._orientation[2])):(b._panner=Howler.ctx.createStereoPanner(),b._panner.pan.value=b._stereo);b._panner.connect(b._node);b._paused||b._parent.pause(b._id,
!0).play(b._id)}})();(function(b){Number.prototype.map=function(b,c,d,f){return d+(f-d)*((this-b)/(c-b))};Number.prototype.limit=function(b,c){return Math.min(c,Math.max(b,this))};Number.prototype.round=function(b){b=Math.pow(10,b||0);return Math.round(this*b)/b};Number.prototype.floor=function(){return Math.floor(this)};Number.prototype.ceil=function(){return Math.ceil(this)};Number.prototype.toInt=function(){return this|0};Number.prototype.toRad=function(){return this/180*Math.PI};Number.prototype.toDeg=function(){return 180*
this/Math.PI};Array.prototype.erase=function(b){for(var c=this.length;c--;)this[c]===b&&this.splice(c,1);return this};Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Function.prototype.bind=Function.prototype.bind||function(b){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,1),d=this,f=function(){},j=function(){return d.apply(this instanceof f&&b?
this:b,c.concat(Array.prototype.slice.call(arguments)))};f.prototype=this.prototype;j.prototype=new f;return j};b.ig={game:null,debug:null,version:"1.23",global:b,modules:{},resources:[],ready:!1,baked:!1,nocache:"",ua:{},prefix:b.ImpactPrefix||"",lib:"lib/",_current:null,_loadQueue:[],_waitForOnload:0,$:function(b){return"#"==b.charAt(0)?document.getElementById(b.substr(1)):document.getElementsByTagName(b)},$new:function(b){return document.createElement(b)},copy:function(b){if(!b||"object"!=typeof b||
b instanceof HTMLElement||b instanceof ig.Class)return b;if(b instanceof Array)for(var c=[],d=0,f=b.length;d<f;d++)c[d]=ig.copy(b[d]);else for(d in c={},b)c[d]=ig.copy(b[d]);return c},merge:function(b,c){for(var d in c){var f=c[d];if("object"!=typeof f||f instanceof HTMLElement||f instanceof ig.Class||null===f)b[d]=f;else{if(!b[d]||"object"!=typeof b[d])b[d]=f instanceof Array?[]:{};ig.merge(b[d],f)}}return b},ksort:function(b){if(!b||"object"!=typeof b)return[];var c=[],d=[],f;for(f in b)c.push(f);
c.sort();for(f=0;f<c.length;f++)d.push(b[c[f]]);return d},setVendorAttribute:function(b,c,d){var f=c.charAt(0).toUpperCase()+c.substr(1);b[c]=b["ms"+f]=b["moz"+f]=b["o"+f]=d},getVendorAttribute:function(b,c){var d=c.charAt(0).toUpperCase()+c.substr(1);return b[c]||b["ms"+d]||b["moz"+d]||b["o"+d]},normalizeVendorAttribute:function(b,c){var d=ig.getVendorAttribute(b,c);!b[c]&&d&&(b[c]=d)},getImagePixels:function(b,c,d,f,j){var p=ig.$new("canvas");p.width=b.width;p.height=b.height;var n=p.getContext("2d");
ig.System.SCALE.CRISP(p,n);var t=ig.getVendorAttribute(n,"backingStorePixelRatio")||1;ig.normalizeVendorAttribute(n,"getImageDataHD");var B=b.width/t,G=b.height/t;p.width=Math.ceil(B);p.height=Math.ceil(G);n.drawImage(b,0,0,B,G);return 1===t?n.getImageData(c,d,f,j):n.getImageDataHD(c,d,f,j)},module:function(b){if(ig._current)throw"Module '"+ig._current.name+"' defines nothing";if(ig.modules[b]&&ig.modules[b].body)throw"Module '"+b+"' is already defined";ig._current={name:b,requires:[],loaded:!1,body:null};
ig.modules[b]=ig._current;ig._loadQueue.push(ig._current);return ig},requires:function(){ig._current.requires=Array.prototype.slice.call(arguments);return ig},defines:function(b){ig._current.body=b;ig._current=null;ig._initDOMReady()},addResource:function(b){ig.resources.push(b)},setNocache:function(b){ig.nocache=b?"?"+Date.now():""},log:function(){},assert:function(){},show:function(){},mark:function(){},_loadScript:function(b,c){ig.modules[b]={name:b,requires:[],loaded:!1,body:null};ig._waitForOnload++;
var d=ig.prefix+ig.lib+b.replace(/\./g,"index.html")+".js"+ig.nocache,f=ig.$new("script");f.type="text/javascript";f.src=d;f.onload=function(){ig._waitForOnload--;ig._execModules()};f.onerror=function(){throw"Failed to load module "+b+" at "+d+" required from "+c;};ig.$("head")[0].appendChild(f)},_execModules:function(){for(var b=!1,c=0;c<ig._loadQueue.length;c++){for(var d=ig._loadQueue[c],f=!0,j=0;j<d.requires.length;j++){var p=d.requires[j];ig.modules[p]?ig.modules[p].loaded||(f=!1):(f=!1,ig._loadScript(p,
d.name))}f&&d.body&&(ig._loadQueue.splice(c,1),d.loaded=!0,d.body(),b=!0,c--)}if(b)ig._execModules();else if(!ig.baked&&0==ig._waitForOnload&&0!=ig._loadQueue.length){b=[];for(c=0;c<ig._loadQueue.length;c++){f=[];p=ig._loadQueue[c].requires;for(j=0;j<p.length;j++)d=ig.modules[p[j]],(!d||!d.loaded)&&f.push(p[j]);b.push(ig._loadQueue[c].name+" (requires: "+f.join(", ")+")")}throw"Unresolved (or circular?) dependencies. Most likely there's a name/path mismatch for one of the listed modules or a previous syntax error prevents a module from loading:\n"+
b.join("\n");}},_DOMReady:function(){if(!ig.modules["dom.ready"].loaded){if(!document.body)return setTimeout(ig._DOMReady,13);ig.modules["dom.ready"].loaded=!0;ig._waitForOnload--;ig._execModules()}return 0},_boot:function(){document.location.href.match(/\?nocache/)&&ig.setNocache(!0);ig.ua.pixelRatio=b.devicePixelRatio||1;ig.ua.viewport={width:b.innerWidth,height:b.innerHeight};ig.ua.screen={width:b.screen.availWidth*ig.ua.pixelRatio,height:b.screen.availHeight*ig.ua.pixelRatio};ig.ua.iPhone=/iPhone/i.test(navigator.userAgent);
ig.ua.iPhone4=ig.ua.iPhone&&2==ig.ua.pixelRatio;ig.ua.iPad=/iPad/i.test(navigator.userAgent);ig.ua.android=/android/i.test(navigator.userAgent);ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent);ig.ua.is_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);ig.ua.is_safari_or_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent);ig.ua.iOS=ig.ua.iPhone||ig.ua.iPad;ig.ua.iOS6_tag=/OS 6_/i.test(navigator.userAgent);ig.ua.iOS6=(ig.ua.iPhone||ig.ua.iPad)&&
ig.ua.iOS6_tag;ig.ua.iOSgt5=ig.ua.iOS&&5<parseInt(navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]);ig.ua.HTCONE=/HTC_One/i.test(navigator.userAgent);ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent);ig.ua.Kindle=/Silk/i.test(navigator.userAgent);ig.ua.touchDevice="ontouchstart"in b||b.navigator.msMaxTouchPoints;ig.ua.mobile=ig.ua.iOS||ig.ua.android||ig.ua.iOS6||ig.ua.winPhone||ig.ua.Kindle||/mobile/i.test(navigator.userAgent)},_initDOMReady:function(){ig.modules["dom.ready"]?ig._execModules():
(ig._boot(),ig.modules["dom.ready"]={requires:[],loaded:!1,body:null},ig._waitForOnload++,"complete"===document.readyState?ig._DOMReady():(document.addEventListener("DOMContentLoaded",ig._DOMReady,!1),b.addEventListener("load",ig._DOMReady,!1)))}};ig.normalizeVendorAttribute(b,"requestAnimationFrame");if(b.requestAnimationFrame){var c=1,d={};b.ig.setAnimation=function(f,e){var j=c++;d[j]=!0;var m=function(){d[j]&&(b.requestAnimationFrame(m,e),f())};b.requestAnimationFrame(m,e);return j};b.ig.clearAnimation=
function(b){delete d[b]}}else b.ig.setAnimation=function(c){return b.setInterval(c,1E3/60)},b.ig.clearAnimation=function(c){b.clearInterval(c)};var j=!1,f=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/,n=0;b.ig.Class=function(){};var t=function(b){var c=this.prototype,d={},j;for(j in b)"function"==typeof b[j]&&"function"==typeof c[j]&&f.test(b[j])?(d[j]=c[j],c[j]=function(b,c){return function(){var e=this.parent;this.parent=d[b];var f=c.apply(this,arguments);this.parent=e;return f}}(j,b[j])):c[j]=
b[j]};b.ig.Class.extend=function(c){function d(){if(!j){if(this.staticInstantiate){var b=this.staticInstantiate.apply(this,arguments);if(b)return b}for(var c in this)"object"==typeof this[c]&&(this[c]=ig.copy(this[c]));this.init&&this.init.apply(this,arguments)}return this}var l=this.prototype;j=!0;var m=new this;j=!1;for(var s in c)m[s]="function"==typeof c[s]&&"function"==typeof l[s]&&f.test(c[s])?function(b,c){return function(){var d=this.parent;this.parent=l[b];var e=c.apply(this,arguments);this.parent=
d;return e}}(s,c[s]):c[s];d.prototype=m;d.prototype.constructor=d;d.extend=b.ig.Class.extend;d.inject=t;d.classId=m.classId=++n;return d};b.ImpactMixin&&ig.merge(ig,b.ImpactMixin)})(window);ig.baked=!0;
ig.module("impact.image").defines(function(){ig.Image=ig.Class.extend({data:null,width:0,height:0,loaded:!1,failed:!1,loadCallback:null,path:"",staticInstantiate:function(b){return ig.Image.cache[b]||null},init:function(b){this.path=b;this.load()},load:function(b){this.loaded?b&&b(this.path,!0):(!this.loaded&&ig.ready?(this.loadCallback=b||null,this.data=new Image,this.data.onload=this.onload.bind(this),this.data.onerror=this.onerror.bind(this),this.data.src=ig.prefix+this.path+ig.nocache):ig.addResource(this),
ig.Image.cache[this.path]=this)},reload:function(){this.loaded=!1;this.data=new Image;this.data.onload=this.onload.bind(this);this.data.src=this.path+"?"+Date.now()},onload:function(){this.width=this.data.width;this.height=this.data.height;this.loaded=!0;1!=ig.system.scale&&this.resize(ig.system.scale);this.loadCallback&&this.loadCallback(this.path,!0)},onerror:function(){this.failed=!0;this.loadCallback&&this.loadCallback(this.path,!1)},resize:function(b){var c=ig.getImagePixels(this.data,0,0,this.width,
this.height),d=this.width*b,j=this.height*b,f=ig.$new("canvas");f.width=d;f.height=j;for(var n=f.getContext("2d"),t=n.getImageData(0,0,d,j),r=0;r<j;r++)for(var e=0;e<d;e++){var l=4*(Math.floor(r/b)*this.width+Math.floor(e/b)),m=4*(r*d+e);t.data[m]=c.data[l];t.data[m+1]=c.data[l+1];t.data[m+2]=c.data[l+2];t.data[m+3]=c.data[l+3]}n.putImageData(t,0,0);this.data=f},draw:function(b,c,d,j,f,n){if(this.loaded){var t=ig.system.scale;f=(f?f:this.width)*t;n=(n?n:this.height)*t;ig.system.context.drawImage(this.data,
d?d*t:0,j?j*t:0,f,n,ig.system.getDrawPos(b),ig.system.getDrawPos(c),f,n);ig.Image.drawCount++}},drawTile:function(b,c,d,j,f,n,t){f=f?f:j;if(this.loaded&&!(j>this.width||f>this.height)){var r=ig.system.scale,e=Math.floor(j*r),l=Math.floor(f*r),m=n?-1:1,s=t?-1:1;if(n||t)ig.system.context.save(),ig.system.context.scale(m,s);ig.system.context.drawImage(this.data,Math.floor(d*j)%this.width*r,Math.floor(d*j/this.width)*f*r,e,l,ig.system.getDrawPos(b)*m-(n?e:0),ig.system.getDrawPos(c)*s-(t?l:0),e,l);(n||
t)&&ig.system.context.restore();ig.Image.drawCount++}}});ig.Image.drawCount=0;ig.Image.cache={};ig.Image.reloadCache=function(){for(var b in ig.Image.cache)ig.Image.cache[b].reload()}});ig.baked=!0;
ig.module("impact.font").requires("impact.image").defines(function(){ig.Font=ig.Image.extend({widthMap:[],indices:[],firstChar:32,alpha:1,letterSpacing:1,lineSpacing:0,onload:function(b){this._loadMetrics(this.data);this.parent(b)},widthForString:function(b){if(-1!==b.indexOf("\n")){b=b.split("\n");for(var c=0,d=0;d<b.length;d++)c=Math.max(c,this._widthForLine(b[d]));return c}return this._widthForLine(b)},_widthForLine:function(b){for(var c=0,d=0;d<b.length;d++)c+=this.widthMap[b.charCodeAt(d)-this.firstChar]+
this.letterSpacing;return c},heightForString:function(b){return b.split("\n").length*(this.height+this.lineSpacing)},draw:function(b,c,d,j){"string"!=typeof b&&(b=b.toString());if(-1!==b.indexOf("\n")){b=b.split("\n");for(var f=this.height+this.lineSpacing,n=0;n<b.length;n++)this.draw(b[n],c,d+n*f,j)}else{if(j==ig.Font.ALIGN.RIGHT||j==ig.Font.ALIGN.CENTER)n=this._widthForLine(b),c-=j==ig.Font.ALIGN.CENTER?n/2:n;1!==this.alpha&&(ig.system.context.globalAlpha=this.alpha);for(n=0;n<b.length;n++)j=b.charCodeAt(n),
c+=this._drawChar(j-this.firstChar,c,d);1!==this.alpha&&(ig.system.context.globalAlpha=1);ig.Image.drawCount+=b.length}},_drawChar:function(b,c,d){if(!this.loaded||0>b||b>=this.indices.length)return 0;var j=ig.system.scale,f=this.widthMap[b]*j,n=(this.height-2)*j;ig.system.context.drawImage(this.data,this.indices[b]*j,0,f,n,ig.system.getDrawPos(c),ig.system.getDrawPos(d),f,n);return this.widthMap[b]+this.letterSpacing},_loadMetrics:function(b){this.height=b.height-1;this.widthMap=[];this.indices=
[];for(var c=ig.getImagePixels(b,0,b.height-1,b.width,1),d=0,j=0,f=0;f<b.width;f++){var n=4*f+3;127<c.data[n]?j++:128>c.data[n]&&j&&(this.widthMap.push(j),this.indices.push(f-j),d++,j=0)}this.widthMap.push(j);this.indices.push(f-j)}});ig.Font.ALIGN={LEFT:0,RIGHT:1,CENTER:2}});ig.baked=!0;
ig.module("impact.sound").defines(function(){ig.SoundManager=ig.Class.extend({clips:{},volume:1,format:null,init:function(){if(!ig.Sound.enabled||!window.Audio)ig.Sound.enabled=!1;else{for(var b=new Audio,c=0;c<ig.Sound.use.length;c++){var d=ig.Sound.use[c];if(b.canPlayType(d.mime)){this.format=d;break}}this.format||(ig.Sound.enabled=!1)}},load:function(b,c,d){var j=ig.prefix+b.replace(/[^\.]+$/,this.format.ext)+ig.nocache;if(this.clips[b]){if(c&&this.clips[b].length<ig.Sound.channels)for(c=this.clips[b].length;c<
ig.Sound.channels;c++){var f=new Audio(j);f.load();this.clips[b].push(f)}return this.clips[b][0]}var n=new Audio(j);d&&(n.addEventListener("canplaythrough",function r(c){n.removeEventListener("canplaythrough",r,!1);d(b,!0,c)},!1),n.addEventListener("error",function(c){d(b,!1,c)},!1));n.preload="auto";n.load();this.clips[b]=[n];if(c)for(c=1;c<ig.Sound.channels;c++)f=new Audio(j),f.load(),this.clips[b].push(f);return n},get:function(b){b=this.clips[b];for(var c=0,d;d=b[c++];)if(d.paused||d.ended)return d.ended&&
(d.currentTime=0),d;b[0].pause();b[0].currentTime=0;return b[0]}});ig.Music=ig.Class.extend({tracks:[],namedTracks:{},currentTrack:null,currentIndex:0,random:!1,_volume:1,_loop:!1,_fadeInterval:0,_fadeTimer:null,_endedCallbackBound:null,init:function(){this._endedCallbackBound=this._endedCallback.bind(this);Object.defineProperty?(Object.defineProperty(this,"volume",{get:this.getVolume.bind(this),set:this.setVolume.bind(this)}),Object.defineProperty(this,"loop",{get:this.getLooping.bind(this),set:this.setLooping.bind(this)})):
this.__defineGetter__&&(this.__defineGetter__("volume",this.getVolume.bind(this)),this.__defineSetter__("volume",this.setVolume.bind(this)),this.__defineGetter__("loop",this.getLooping.bind(this)),this.__defineSetter__("loop",this.setLooping.bind(this)))},add:function(b,c){if(ig.Sound.enabled){var d=ig.soundManager.load(b instanceof ig.Sound?b.path:b,!1);d.loop=this._loop;d.volume=this._volume;d.addEventListener("ended",this._endedCallbackBound,!1);this.tracks.push(d);c&&(this.namedTracks[c]=d);this.currentTrack||
(this.currentTrack=d)}},next:function(){this.tracks.length&&(this.stop(),this.currentIndex=this.random?Math.floor(Math.random()*this.tracks.length):(this.currentIndex+1)%this.tracks.length,this.currentTrack=this.tracks[this.currentIndex],this.play())},pause:function(){this.currentTrack&&this.currentTrack.pause()},stop:function(){this.currentTrack&&(this.currentTrack.pause(),this.currentTrack.currentTime=0)},play:function(b){if(b&&this.namedTracks[b])b=this.namedTracks[b],b!=this.currentTrack&&(this.stop(),
this.currentTrack=b);else if(!this.currentTrack)return;this.currentTrack.play()},getLooping:function(){return this._loop},setLooping:function(b){this._loop=b;for(var c in this.tracks)this.tracks[c].loop=b},getVolume:function(){return this._volume},setVolume:function(b){this._volume=b.limit(0,1);for(var c in this.tracks)this.tracks[c].volume=this._volume},fadeOut:function(b){this.currentTrack&&(clearInterval(this._fadeInterval),this.fadeTimer=new ig.Timer(b),this._fadeInterval=setInterval(this._fadeStep.bind(this),
50))},_fadeStep:function(){var b=this.fadeTimer.delta().map(-this.fadeTimer.target,0,1,0).limit(0,1)*this._volume;0.01>=b?(this.stop(),this.currentTrack.volume=this._volume,clearInterval(this._fadeInterval)):this.currentTrack.volume=b},_endedCallback:function(){this._loop?this.play():this.next()}});ig.Sound=ig.Class.extend({path:"",volume:1,currentClip:null,multiChannel:!0,init:function(b,c){this.path=b;this.multiChannel=!1!==c;this.load()},load:function(b){ig.Sound.enabled?ig.ready?ig.soundManager.load(this.path,
this.multiChannel,b):ig.addResource(this):b&&b(this.path,!0)},play:function(){ig.Sound.enabled&&(this.currentClip=ig.soundManager.get(this.path),this.currentClip.volume=ig.soundManager.volume*this.volume,this.currentClip.play())},stop:function(){this.currentClip&&(this.currentClip.pause(),this.currentClip.currentTime=0)}});ig.Sound.FORMAT={MP3:{ext:"mp3",mime:"audio/mpeg"},M4A:{ext:"m4a",mime:"audio/mp4; codecs=mp4a"},OGG:{ext:"ogg",mime:"audio/ogg; codecs=vorbis"},WEBM:{ext:"webm",mime:"audio/webm; codecs=vorbis"},
CAF:{ext:"caf",mime:"audio/x-caf"}};ig.Sound.use=[ig.Sound.FORMAT.OGG,ig.Sound.FORMAT.MP3];ig.Sound.channels=4;ig.Sound.enabled=!0});ig.baked=!0;
ig.module("impact.loader").requires("impact.image","impact.font","impact.sound").defines(function(){ig.Loader=ig.Class.extend({resources:[],gameClass:null,status:0,done:!1,_unloaded:[],_drawStatus:0,_intervalId:0,_loadCallbackBound:null,init:function(b,c){this.gameClass=b;this.resources=c;this._loadCallbackBound=this._loadCallback.bind(this);for(var d=0;d<this.resources.length;d++)this._unloaded.push(this.resources[d].path)},load:function(){ig.system.clear("#000");if(this.resources.length){for(var b=
0;b<this.resources.length;b++)this.loadResource(this.resources[b]);this._intervalId=setInterval(this.draw.bind(this),16)}else this.end()},loadResource:function(b){b.load(this._loadCallbackBound)},end:function(){this.done||(this.done=!0,clearInterval(this._intervalId))},draw:function(){},_loadCallback:function(b,c){if(c)this._unloaded.erase(b);else throw"Failed to load resource: "+b;this.status=1-this._unloaded.length/this.resources.length;0==this._unloaded.length&&setTimeout(this.end.bind(this),250)}})});
ig.baked=!0;
ig.module("impact.timer").defines(function(){ig.Timer=ig.Class.extend({target:0,base:0,last:0,pausedAt:0,init:function(b){this.last=this.base=ig.Timer.time;this.target=b||0},set:function(b){this.target=b||0;this.base=ig.Timer.time;this.pausedAt=0},reset:function(){this.base=ig.Timer.time;this.pausedAt=0},tick:function(){var b=ig.Timer.time-this.last;this.last=ig.Timer.time;return this.pausedAt?0:b},delta:function(){return(this.pausedAt||ig.Timer.time)-this.base-this.target},pause:function(){this.pausedAt||(this.pausedAt=
ig.Timer.time)},unpause:function(){this.pausedAt&&(this.base+=ig.Timer.time-this.pausedAt,this.pausedAt=0)}});ig.Timer._last=0;ig.Timer.time=Number.MIN_VALUE;ig.Timer.timeScale=1;ig.Timer.maxStep=0.05;ig.Timer.step=function(){var b=Date.now();ig.Timer.time+=Math.min((b-ig.Timer._last)/1E3,ig.Timer.maxStep)*ig.Timer.timeScale;ig.Timer._last=b}});ig.baked=!0;
ig.module("impact.system").requires("impact.timer","impact.image").defines(function(){ig.System=ig.Class.extend({fps:30,width:320,height:240,realWidth:320,realHeight:240,scale:1,tick:0,animationId:0,newGameClass:null,running:!1,delegate:null,clock:null,canvas:null,context:null,init:function(b,c,d,j,f){this.fps=c;this.clock=new ig.Timer;this.canvas=ig.$(b);this.resize(d,j,f);this.context=this.canvas.getContext("2d");this.getDrawPos=ig.System.drawMode;1!=this.scale&&(ig.System.scaleMode=ig.System.SCALE.CRISP);
ig.System.scaleMode(this.canvas,this.context)},resize:function(b,c,d){this.width=b;this.height=c;this.scale=d||this.scale;this.realWidth=this.width*this.scale;this.realHeight=this.height*this.scale;this.canvas.width=this.realWidth;this.canvas.height=this.realHeight},setGame:function(b){this.running?this.newGameClass=b:this.setGameNow(b)},setGameNow:function(b){ig.game=new b;ig.system.setDelegate(ig.game)},setDelegate:function(b){if("function"==typeof b.run)this.delegate=b,this.startRunLoop();else throw"System.setDelegate: No run() function in object";
},stopRunLoop:function(){ig.clearAnimation(this.animationId);this.running=!1},startRunLoop:function(){this.stopRunLoop();this.animationId=ig.setAnimation(this.run.bind(this),this.canvas);this.running=!0},clear:function(b){this.context.fillStyle=b;this.context.fillRect(0,0,this.realWidth,this.realHeight)},run:function(){ig.Timer.step();this.tick=this.clock.tick();this.delegate.run();ig.input.clearPressed();this.newGameClass&&(this.setGameNow(this.newGameClass),this.newGameClass=null)},getDrawPos:null});
ig.System.DRAW={AUTHENTIC:function(b){return Math.round(b)*this.scale},SMOOTH:function(b){return Math.round(b*this.scale)},SUBPIXEL:function(b){return b*this.scale}};ig.System.drawMode=ig.System.DRAW.SMOOTH;ig.System.SCALE={CRISP:function(b,c){ig.setVendorAttribute(c,"imageSmoothingEnabled",!1);b.style.imageRendering="-moz-crisp-edges";b.style.imageRendering="-o-crisp-edges";b.style.imageRendering="-webkit-optimize-contrast";b.style.imageRendering="crisp-edges";b.style.msInterpolationMode="nearest-neighbor"},
SMOOTH:function(b,c){ig.setVendorAttribute(c,"imageSmoothingEnabled",!0);b.style.imageRendering="";b.style.msInterpolationMode=""}};ig.System.scaleMode=ig.System.SCALE.SMOOTH});ig.baked=!0;
ig.module("impact.input").defines(function(){ig.KEY={MOUSE1:-1,MOUSE2:-3,MWHEEL_UP:-4,MWHEEL_DOWN:-5,BACKSPACE:8,TAB:9,ENTER:13,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,
NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,CTRL:17,ALT:18,PLUS:187,COMMA:188,MINUS:189,PERIOD:190};ig.Input=ig.Class.extend({bindings:{},actions:{},presses:{},locks:{},delayedKeyup:{},isUsingMouse:!1,isUsingKeyboard:!1,isUsingAccelerometer:!1,mouse:{x:0,y:0},accel:{x:0,y:0,z:0},initMouse:function(){if(!this.isUsingMouse){this.isUsingMouse=
!0;var b=this.mousewheel.bind(this);ig.system.canvas.addEventListener("mousewheel",b,!1);ig.system.canvas.addEventListener("DOMMouseScroll",b,!1);ig.system.canvas.addEventListener("contextmenu",this.contextmenu.bind(this),!1);ig.system.canvas.addEventListener("mousedown",this.keydown.bind(this),!1);ig.system.canvas.addEventListener("mouseup",this.keyup.bind(this),!1);ig.system.canvas.addEventListener("mousemove",this.mousemove.bind(this),!1);ig.ua.touchDevice&&(ig.system.canvas.addEventListener("touchstart",
this.keydown.bind(this),!1),ig.system.canvas.addEventListener("touchend",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("touchmove",this.mousemove.bind(this),!1),ig.system.canvas.addEventListener("MSPointerDown",this.keydown.bind(this),!1),ig.system.canvas.addEventListener("MSPointerUp",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("MSPointerMove",this.mousemove.bind(this),!1),ig.system.canvas.style.msTouchAction="none")}},initKeyboard:function(){this.isUsingKeyboard||(this.isUsingKeyboard=
!0,window.addEventListener("keydown",this.keydown.bind(this),!1),window.addEventListener("keyup",this.keyup.bind(this),!1))},initAccelerometer:function(){this.isUsingAccelerometer||window.addEventListener("devicemotion",this.devicemotion.bind(this),!1)},mousewheel:function(b){var c=this.bindings[0<(b.wheelDelta?b.wheelDelta:-1*b.detail)?ig.KEY.MWHEEL_UP:ig.KEY.MWHEEL_DOWN];c&&(this.actions[c]=!0,this.presses[c]=!0,this.delayedKeyup[c]=!0,b.stopPropagation(),b.preventDefault())},mousemove:function(b){var c=
parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth;ig.ua.mobile&&(c=ig.system.realWidth);var c=ig.system.scale*(c/ig.system.realWidth),d={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(d=ig.system.canvas.getBoundingClientRect());b=b.touches?b.touches[0]:b;this.mouse.x=(b.clientX-d.left)/c;this.mouse.y=(b.clientY-d.top)/c},contextmenu:function(b){this.bindings[ig.KEY.MOUSE2]&&(b.stopPropagation(),b.preventDefault())},keydown:function(b){var c=b.target.tagName;if(!("INPUT"==c||"TEXTAREA"==
c))if(c="keydown"==b.type?b.keyCode:2==b.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1,("touchstart"==b.type||"mousedown"==b.type)&&this.mousemove(b),c=this.bindings[c])this.actions[c]=!0,this.locks[c]||(this.presses[c]=!0,this.locks[c]=!0),b.stopPropagation(),window.frameElement&&"IFRAME"==window.frameElement.nodeName||b.preventDefault()},keyup:function(b){var c=b.target.tagName;if(!("INPUT"==c||"TEXTAREA"==c))if(c=this.bindings["keyup"==b.type?b.keyCode:2==b.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1])this.delayedKeyup[c]=
!0,b.stopPropagation(),b.preventDefault()},devicemotion:function(b){this.accel=b.accelerationIncludingGravity},bind:function(b,c){0>b?this.initMouse():0<b&&this.initKeyboard();this.bindings[b]=c},bindTouch:function(b,c){var d=ig.$(b),j=this;d.addEventListener("touchstart",function(b){j.touchStart(b,c)},!1);d.addEventListener("touchend",function(b){j.touchEnd(b,c)},!1);d.addEventListener("MSPointerDown",function(b){j.touchStart(b,c)},!1);d.addEventListener("MSPointerUp",function(b){j.touchEnd(b,c)},
!1)},unbind:function(b){this.delayedKeyup[this.bindings[b]]=!0;this.bindings[b]=null},unbindAll:function(){this.bindings={};this.actions={};this.presses={};this.locks={};this.delayedKeyup={}},state:function(b){return this.actions[b]},pressed:function(b){return this.presses[b]},released:function(b){return!!this.delayedKeyup[b]},clearPressed:function(){for(var b in this.delayedKeyup)this.actions[b]=!1,this.locks[b]=!1;this.delayedKeyup={};this.presses={}},touchStart:function(b,c){this.actions[c]=!0;
this.presses[c]=!0;b.stopPropagation();b.preventDefault();return!1},touchEnd:function(b,c){this.delayedKeyup[c]=!0;b.stopPropagation();b.preventDefault();return!1}})});ig.baked=!0;
ig.module("impact.sound-handler").defines(function(){ig.SoundHandler=ig.Class.extend({formats:{ogg:".ogg",mp3:".mp3"},jukebox:null,pausePosition:null,globalMute:!1,forceMuted:!1,muted:!1,bgmStarted:!1,bgmPlaying:!1,soundPlaying:!1,currentSoundPlaying:null,soundBuffer:[],voSoundLoaded:[],sfxSoundLoaded:[],SOUNDID:{},voSoundsToLoad:[],sfxSoundsToLoad:[{name:"staticSound",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/play/static"},{name:"openingSound",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/opening/opening"},
{name:"kittyopeningSound",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/opening/kittyopening"},{name:"tomb",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/tomb"},{name:"doorClose",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/doorClose"},{name:"typing",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/typing"},{name:"gun",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/gun"},{name:"explore",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/explore"},{name:"roar",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/roar"},
{name:"hitted",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/hitted"},{name:"digging",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/digging"},{name:"reload",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/reload"},{name:"crash",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/crash"},{name:"click",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/click"},{name:"bounce",path:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/bounce"}],debug:!1,init:function(){ig.ua.mobile?(this.initSfx(),this.setupJukebox()):(this.initSfx(),
this.setupDesktopMusic());this.setupWindowHandler()},allVoSoundLoaded:function(){if(this.voSoundLoaded.length>=this.voSoundsToLoad.length){this.debug&&console.log("Vo ready");for(index=0;index<this.voSoundLoaded.length;index++)this.voSoundLoaded[index].on("end",function(b){b.isPlaying=!1;this.soundBuffer.pop()}.bind(this,this.voSoundLoaded[index])),this.voSoundLoaded[index].on("play",function(b){b.isPlaying=!0}.bind(this,this.voSoundLoaded[index]));return!0}return!1},allSfxSoundLoaded:function(){return this.sfxSoundLoaded.length>=
this.sfxSoundsToLoad.length?!0:!1},stopBackgroundMusic:function(){ig.ua.mobile?this.pausePosition=this.jukebox.player.pause():ig.music.pause();this.bgmPlaying=!1},playBackgroundMusic:function(){this.bgmPlaying||(this.bgmStarted=!0,ig.ua.mobile?this.pausePosition?this.jukebox.player.resume(this.pausePosition):this.jukebox.player.play(this.jukebox.player.settings.spritemap.music.start,!0):ig.music.play(),this._unMuteBackgroundMusic(),this.bgmPlaying=!0)},playSound:function(b){if((b=this[b])&&(!this.forceMuted||
!this.muted)&&!b.isPlaying)this.soundBuffer.push(b),b.play()},stopAllAndPlaySound:function(b){this.stopAllSounds();this.playSound(b)},stopAllSounds:function(){for(index=0;index<this.soundBuffer.length;index++)this.soundBuffer[index].isPlaying=!1,this.soundBuffer.splice(0,1)[0].stop()},addSound:function(b,c,d){var j=c+this.formats.ogg;c+=this.formats.mp3;this.SOUNDID[b]=b;this[b]=d?new Howl({src:[j,c],onload:d}):new Howl({src:[j,c]})},_muteSounds:function(){for(i=0;i<ig.resources.length;i++)ig.resources[i].multiChannel&&
ig.resources[i].stop();Howler.mute(!0);this.debug&&console.log("Sounds muted")},_unMuteSounds:function(){Howler.mute(!1);ig.Sound.enabled=!0;this.debug&&console.log("Sounds can play")},_muteBackgroundMusic:function(){ig.ua.mobile?(this.stopBackgroundMusic(),this.jukebox.player.setVolume(0)):ig.music.volume=0;this.debug&&console.log("BGM muted")},_unMuteBackgroundMusic:function(){this.bgmStarted&&(ig.ua.mobile?(this.pausePosition?this.jukebox.player.resume(this.pausePosition):this.jukebox.player.play(this.jukebox.player.settings.spritemap.music.start,
!0),this.jukebox.player.setVolume(1)):ig.music.volume=1,this.debug&&console.log("BGM can play"))},focusBlurMute:function(){this.forceMuted||(this._muteSounds(),this._muteBackgroundMusic())},focusBlurUnmute:function(){!this.forceMuted&&!0!=this.muted&&(this._unMuteSounds(),this._unMuteBackgroundMusic())},setForceMuted:function(b){this.forceMuted=b},mute:function(){this.muted||(this._muteSounds(),this._muteBackgroundMusic(),this.muted=!0)},unmute:function(){this.muted&&(this._unMuteSounds(),this._unMuteBackgroundMusic(),
this.muted=!1)},setupWindowHandler:function(){"true"===getQueryVariable("webview")?($(window).focus(function(){ig.ua.mobile&&ig.game&&ig.game.resumeGame();ig.soundHandler&&ig.soundHandler.focusBlurUnmute()}),$(window).blur(function(){ig.soundHandler&&ig.soundHandler.focusBlurMute()})):(window.onfocus=function(){ig.ua.mobile&&ig.game&&ig.game.resumeGame();ig.soundHandler&&ig.soundHandler.focusBlurUnmute()},window.onblur=function(){ig.soundHandler&&ig.soundHandler.focusBlurMute()})},initSfx:function(){for(index=
0;index<this.sfxSoundsToLoad.length;index++){var b=function(b){this.sfxSoundLoaded.push(this[b])}.bind(this,this.sfxSoundsToLoad[index].name);this.addSound(this.sfxSoundsToLoad[index].name,this.sfxSoundsToLoad[index].path,b)}},initVoSfx:function(){for(index=0;index<this.voSoundsToLoad.length;index++){var b=function(b){this.voSoundLoaded.push(this[b])}.bind(this,this.voSoundsToLoad[index].name);this.addSound(this.voSoundsToLoad[index].name,this.voSoundsToLoad[index].path,b)}},setupDesktopMusic:function(){ig.music.add("http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/bgm1.*",
"bgm")},setupJukebox:function(){ig.ua.mobile&&(this.jukebox=new ig.Jukebox,this.pausePosition=this.jukebox.player.settings.spritemap.music.start)},forceLoopBGM:function(){if(!this.forceMuted&&this.bgmPlaying&&this.jukebox&&this.jukebox.player&&this.jukebox.player.settings.spritemap.music&&this.jukebox.player.settings.spritemap.music.loop){if(0<=this.prevTime)if(this.jukebox.player.getCurrentTime()===this.prevTime){if(this.silentCounter||(this.silentCounter=0),this.silentCounter++,this.jukebox.player.getCurrentTime()>=
this.jukebox.player.settings.spritemap.music.end||this.silentCounter>0.001*ig.soundHandler.jukebox.player.settings.timeout*ig.system.fps)this.jukebox.player.pause(),this.jukebox.player.play(this.jukebox.player.settings.spritemap.music.start,!0),this.silentCounter=null}else this.silentCounter=null;this.prevTime=this.jukebox.player.getCurrentTime()}}})});
function getHiddenProp(){var b=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var c=0;c<b.length;c++)if(b[c]+"Hidden"in document)return b[c]+"Hidden";return null}function isHidden(){var b=getHiddenProp();return!b?!1:document[b]}var visProp=getHiddenProp();if(visProp){var evtname=visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(evtname,visChange)}window.addEventListener("pagehide",function(){ig.soundHandler&&ig.soundHandler.focusBlurMute()},!1);
window.addEventListener("pageshow",function(){ig.ua.mobile&&ig.game&&ig.game.resumeGame();ig.soundHandler&&ig.soundHandler.focusBlurUnmute()},!1);function visChange(){isHidden()?ig.soundHandler&&ig.soundHandler.focusBlurMute():(ig.ua.mobile&&ig.game&&ig.game.resumeGame(),ig.soundHandler&&ig.soundHandler.focusBlurUnmute())}ig.baked=!0;
ig.module("impact.impact").requires("dom.ready","impact.loader","impact.system","impact.input","impact.sound","impact.sound-handler").defines(function(){ig.main=function(b,c,d,j,f,n,t){ig.system=new ig.System(b,d,j,f,n||1);ig.input=new ig.Input;ig.soundManager=new ig.SoundManager;ig.music=new ig.Music;ig.ready=!0;ig.soundHandler=new ig.SoundHandler;(new (t||ig.Loader)(c,ig.resources)).load()}});ig.baked=!0;
ig.module("impact.animation").requires("impact.timer","impact.image").defines(function(){ig.AnimationSheet=ig.Class.extend({width:8,height:8,image:null,init:function(b,c,d){this.width=c;this.height=d;this.image=new ig.Image(b)}});ig.Animation=ig.Class.extend({sheet:null,timer:null,sequence:[],flip:{x:!1,y:!1},pivot:{x:0,y:0},frame:0,tile:0,loopCount:0,alpha:1,angle:0,init:function(b,c,d,j){this.sheet=b;this.pivot={x:b.width/2,y:b.height/2};this.timer=new ig.Timer;this.frameTime=c;this.sequence=d;
this.stop=!!j;this.tile=this.sequence[0]},rewind:function(){this.timer.set();this.frame=this.loopCount=0;this.tile=this.sequence[0];return this},gotoFrame:function(b){this.timer.set(this.frameTime*-b-1E-4);this.update()},gotoRandomFrame:function(){this.gotoFrame(Math.floor(Math.random()*this.sequence.length))},update:function(){var b=Math.floor(this.timer.delta()/this.frameTime);this.loopCount=Math.floor(b/this.sequence.length);this.frame=this.stop&&0<this.loopCount?this.sequence.length-1:b%this.sequence.length;
this.tile=this.sequence[this.frame]},draw:function(b,c){var d=Math.max(this.sheet.width,this.sheet.height);b>ig.system.width||(c>ig.system.height||0>b+d||0>c+d)||(1!=this.alpha&&(ig.system.context.globalAlpha=this.alpha),0==this.angle?this.sheet.image.drawTile(b,c,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y):(ig.system.context.save(),ig.system.context.translate(ig.system.getDrawPos(b+this.pivot.x),ig.system.getDrawPos(c+this.pivot.y)),ig.system.context.rotate(this.angle),
this.sheet.image.drawTile(-this.pivot.x,-this.pivot.y,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y),ig.system.context.restore()),1!=this.alpha&&(ig.system.context.globalAlpha=1))}})});ig.baked=!0;
ig.module("impact.entity").requires("impact.animation","impact.impact").defines(function(){ig.Entity=ig.Class.extend({id:0,settings:{},size:{x:16,y:16},offset:{x:0,y:0},pos:{x:0,y:0},last:{x:0,y:0},vel:{x:0,y:0},accel:{x:0,y:0},friction:{x:0,y:0},maxVel:{x:100,y:100},zIndex:0,gravityFactor:1,standing:!1,bounciness:0,minBounceVelocity:40,anims:{},animSheet:null,currentAnim:null,health:10,type:0,checkAgainst:0,collides:0,_killed:!1,slopeStanding:{min:(44).toRad(),max:(136).toRad()},init:function(b,
c,d){this.id=++ig.Entity._lastId;this.pos.x=this.last.x=b;this.pos.y=this.last.y=c;ig.merge(this,d)},reset:function(b,c,d){var j=this.constructor.prototype;this.pos.x=b;this.pos.y=c;this.last.x=b;this.last.y=c;this.vel.x=j.vel.x;this.vel.y=j.vel.y;this.accel.x=j.accel.x;this.accel.y=j.accel.y;this.health=j.health;this._killed=j._killed;this.standing=j.standing;this.type=j.type;this.checkAgainst=j.checkAgainst;this.collides=j.collides;ig.merge(this,d)},addAnim:function(b,c,d,j){if(!this.animSheet)throw"No animSheet to add the animation "+
b+" to.";c=new ig.Animation(this.animSheet,c,d,j);this.anims[b]=c;this.currentAnim||(this.currentAnim=c);return c},update:function(){this.last.x=this.pos.x;this.last.y=this.pos.y;this.vel.y+=ig.game.gravity*ig.system.tick*this.gravityFactor;this.vel.x=this.getNewVelocity(this.vel.x,this.accel.x,this.friction.x,this.maxVel.x);this.vel.y=this.getNewVelocity(this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var b=ig.game.collisionMap.trace(this.pos.x,this.pos.y,this.vel.x*ig.system.tick,this.vel.y*
ig.system.tick,this.size.x,this.size.y);this.handleMovementTrace(b);this.currentAnim&&this.currentAnim.update()},getNewVelocity:function(b,c,d,j){return c?(b+c*ig.system.tick).limit(-j,j):d?(c=d*ig.system.tick,0<b-c?b-c:0>b+c?b+c:0):b.limit(-j,j)},handleMovementTrace:function(b){this.standing=!1;b.collision.y&&(0<this.bounciness&&Math.abs(this.vel.y)>this.minBounceVelocity?this.vel.y*=-this.bounciness:(0<this.vel.y&&(this.standing=!0),this.vel.y=0));b.collision.x&&(this.vel.x=0<this.bounciness&&Math.abs(this.vel.x)>
this.minBounceVelocity?this.vel.x*-this.bounciness:0);if(b.collision.slope){var c=b.collision.slope;if(0<this.bounciness){var d=this.vel.x*c.nx+this.vel.y*c.ny;this.vel.x=(this.vel.x-2*c.nx*d)*this.bounciness;this.vel.y=(this.vel.y-2*c.ny*d)*this.bounciness}else d=(this.vel.x*c.x+this.vel.y*c.y)/(c.x*c.x+c.y*c.y),this.vel.x=c.x*d,this.vel.y=c.y*d,c=Math.atan2(c.x,c.y),c>this.slopeStanding.min&&c<this.slopeStanding.max&&(this.standing=!0)}this.pos=b.pos},draw:function(){this.currentAnim&&this.currentAnim.draw(this.pos.x-
this.offset.x-ig.game._rscreen.x,this.pos.y-this.offset.y-ig.game._rscreen.y)},kill:function(){ig.game.removeEntity(this)},receiveDamage:function(b){this.health-=b;0>=this.health&&this.kill()},touches:function(b){return!(this.pos.x>=b.pos.x+b.size.x||this.pos.x+this.size.x<=b.pos.x||this.pos.y>=b.pos.y+b.size.y||this.pos.y+this.size.y<=b.pos.y)},distanceTo:function(b){var c=this.pos.x+this.size.x/2-(b.pos.x+b.size.x/2);b=this.pos.y+this.size.y/2-(b.pos.y+b.size.y/2);return Math.sqrt(c*c+b*b)},angleTo:function(b){return Math.atan2(b.pos.y+
b.size.y/2-(this.pos.y+this.size.y/2),b.pos.x+b.size.x/2-(this.pos.x+this.size.x/2))},check:function(){},collideWith:function(){},ready:function(){},erase:function(){}});ig.Entity._lastId=0;ig.Entity.COLLIDES={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};ig.Entity.TYPE={NONE:0,A:1,B:2,BOTH:3};ig.Entity.checkPair=function(b,c){b.checkAgainst&c.type&&b.check(c);c.checkAgainst&b.type&&c.check(b);b.collides&&(c.collides&&b.collides+c.collides>ig.Entity.COLLIDES.ACTIVE)&&ig.Entity.solveCollision(b,c)};ig.Entity.solveCollision=
function(b,c){var d=null;if(b.collides==ig.Entity.COLLIDES.LITE||c.collides==ig.Entity.COLLIDES.FIXED)d=b;else if(c.collides==ig.Entity.COLLIDES.LITE||b.collides==ig.Entity.COLLIDES.FIXED)d=c;b.last.x+b.size.x>c.last.x&&b.last.x<c.last.x+c.size.x?(b.last.y<c.last.y?ig.Entity.seperateOnYAxis(b,c,d):ig.Entity.seperateOnYAxis(c,b,d),b.collideWith(c,"y"),c.collideWith(b,"y")):b.last.y+b.size.y>c.last.y&&b.last.y<c.last.y+c.size.y&&(b.last.x<c.last.x?ig.Entity.seperateOnXAxis(b,c,d):ig.Entity.seperateOnXAxis(c,
b,d),b.collideWith(c,"x"),c.collideWith(b,"x"))};ig.Entity.seperateOnXAxis=function(b,c,d){var j=b.pos.x+b.size.x-c.pos.x;d?(d.vel.x=-d.vel.x*d.bounciness+(b===d?c:b).vel.x,c=ig.game.collisionMap.trace(d.pos.x,d.pos.y,d==b?-j:j,0,d.size.x,d.size.y),d.pos.x=c.pos.x):(d=(b.vel.x-c.vel.x)/2,b.vel.x=-d,c.vel.x=d,d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,-j/2,0,b.size.x,b.size.y),b.pos.x=Math.floor(d.pos.x),b=ig.game.collisionMap.trace(c.pos.x,c.pos.y,j/2,0,c.size.x,c.size.y),c.pos.x=Math.ceil(b.pos.x))};
ig.Entity.seperateOnYAxis=function(b,c,d){var j=b.pos.y+b.size.y-c.pos.y;if(d){c=b===d?c:b;d.vel.y=-d.vel.y*d.bounciness+c.vel.y;var f=0;d==b&&Math.abs(d.vel.y-c.vel.y)<d.minBounceVelocity&&(d.standing=!0,f=c.vel.x*ig.system.tick);b=ig.game.collisionMap.trace(d.pos.x,d.pos.y,f,d==b?-j:j,d.size.x,d.size.y);d.pos.y=b.pos.y;d.pos.x=b.pos.x}else ig.game.gravity&&(c.standing||0<b.vel.y)?(d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,0,-(b.pos.y+b.size.y-c.pos.y),b.size.x,b.size.y),b.pos.y=d.pos.y,0<b.bounciness&&
b.vel.y>b.minBounceVelocity?b.vel.y*=-b.bounciness:(b.standing=!0,b.vel.y=0)):(d=(b.vel.y-c.vel.y)/2,b.vel.y=-d,c.vel.y=d,f=c.vel.x*ig.system.tick,d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,f,-j/2,b.size.x,b.size.y),b.pos.y=d.pos.y,b=ig.game.collisionMap.trace(c.pos.x,c.pos.y,0,j/2,c.size.x,c.size.y),c.pos.y=b.pos.y)}});ig.baked=!0;
ig.module("impact.map").defines(function(){ig.Map=ig.Class.extend({tilesize:8,width:1,height:1,data:[[]],name:null,init:function(b,c){this.tilesize=b;this.data=c;this.height=c.length;this.width=c[0].length;this.pxWidth=this.width*this.tilesize;this.pxHeight=this.height*this.tilesize},getTile:function(b,c){var d=Math.floor(b/this.tilesize),j=Math.floor(c/this.tilesize);return 0<=d&&d<this.width&&0<=j&&j<this.height?this.data[j][d]:0},setTile:function(b,c,d){b=Math.floor(b/this.tilesize);c=Math.floor(c/
this.tilesize);0<=b&&b<this.width&&(0<=c&&c<this.height)&&(this.data[c][b]=d)}})});ig.baked=!0;
ig.module("impact.collision-map").requires("impact.map").defines(function(){ig.CollisionMap=ig.Map.extend({lastSlope:1,tiledef:null,init:function(b,c,f){this.parent(b,c);this.tiledef=f||ig.CollisionMap.defaultTileDef;for(var n in this.tiledef)n|0>this.lastSlope&&(this.lastSlope=n|0)},trace:function(b,c,f,n,t,r){var e={collision:{x:!1,y:!1,slope:!1},pos:{x:b,y:c},tile:{x:0,y:0}},l=Math.ceil(Math.max(Math.abs(f),Math.abs(n))/this.tilesize);if(1<l)for(var m=f/l,s=n/l,p=0;p<l&&(m||s)&&!(this._traceStep(e,
b,c,m,s,t,r,f,n,p),b=e.pos.x,c=e.pos.y,e.collision.x&&(f=m=0),e.collision.y&&(n=s=0),e.collision.slope);p++);else this._traceStep(e,b,c,f,n,t,r,f,n,0);return e},_traceStep:function(b,c,f,n,t,r,e,l,m,s){b.pos.x+=n;b.pos.y+=t;var p=0;if(n){var v=0<n?r:0,u=0>n?this.tilesize:0,p=Math.max(Math.floor(f/this.tilesize),0),B=Math.min(Math.ceil((f+e)/this.tilesize),this.height);n=Math.floor((b.pos.x+v)/this.tilesize);var G=Math.floor((c+v)/this.tilesize);if(0<s||n==G||0>G||G>=this.width)G=-1;if(0<=n&&n<this.width)for(var F=
p;F<B&&!(-1!=G&&(p=this.data[F][G],1<p&&p<=this.lastSlope&&this._checkTileDef(b,p,c,f,l,m,r,e,G,F)));F++)if(p=this.data[F][n],1==p||p>this.lastSlope||1<p&&this._checkTileDef(b,p,c,f,l,m,r,e,n,F)){if(1<p&&p<=this.lastSlope&&b.collision.slope)break;b.collision.x=!0;b.tile.x=p;c=b.pos.x=n*this.tilesize-v+u;l=0;break}}if(t){v=0<t?e:0;t=0>t?this.tilesize:0;p=Math.max(Math.floor(b.pos.x/this.tilesize),0);u=Math.min(Math.ceil((b.pos.x+r)/this.tilesize),this.width);F=Math.floor((b.pos.y+v)/this.tilesize);
B=Math.floor((f+v)/this.tilesize);if(0<s||F==B||0>B||B>=this.height)B=-1;if(0<=F&&F<this.height)for(n=p;n<u&&!(-1!=B&&(p=this.data[B][n],1<p&&p<=this.lastSlope&&this._checkTileDef(b,p,c,f,l,m,r,e,n,B)));n++)if(p=this.data[F][n],1==p||p>this.lastSlope||1<p&&this._checkTileDef(b,p,c,f,l,m,r,e,n,F)){if(1<p&&p<=this.lastSlope&&b.collision.slope)break;b.collision.y=!0;b.tile.y=p;b.pos.y=F*this.tilesize-v+t;break}}},_checkTileDef:function(b,c,f,n,t,r,e,l,m,s){var p=this.tiledef[c];if(!p)return!1;c=(p[2]-
p[0])*this.tilesize;var v=(p[3]-p[1])*this.tilesize,u=p[4];e=f+t+(0>v?e:0)-(m+p[0])*this.tilesize;l=n+r+(0<c?l:0)-(s+p[1])*this.tilesize;if(0<c*l-v*e){if(0>t*-v+r*c)return u;m=Math.sqrt(c*c+v*v);s=v/m;m=-c/m;var B=e*s+l*m,p=s*B,B=m*B;if(p*p+B*B>=t*t+r*r)return u||0.5>c*(l-r)-v*(e-t);b.pos.x=f+t-p;b.pos.y=n+r-B;b.collision.slope={x:c,y:v,nx:s,ny:m};return!0}return!1}});var b=1/3,c=2/3;ig.CollisionMap.defaultTileDef={5:[0,1,1,c,!0],6:[0,c,1,b,!0],7:[0,b,1,0,!0],3:[0,1,1,0.5,!0],4:[0,0.5,1,0,!0],2:[0,
1,1,0,!0],10:[0.5,1,1,0,!0],21:[0,1,0.5,0,!0],32:[c,1,1,0,!0],43:[b,1,c,0,!0],54:[0,1,b,0,!0],27:[0,0,1,b,!0],28:[0,b,1,c,!0],29:[0,c,1,1,!0],25:[0,0,1,0.5,!0],26:[0,0.5,1,1,!0],24:[0,0,1,1,!0],11:[0,0,0.5,1,!0],22:[0.5,0,1,1,!0],33:[0,0,b,1,!0],44:[b,0,c,1,!0],55:[c,0,1,1,!0],16:[1,b,0,0,!0],17:[1,c,0,b,!0],18:[1,1,0,c,!0],14:[1,0.5,0,0,!0],15:[1,1,0,0.5,!0],13:[1,1,0,0,!0],8:[0.5,1,0,0,!0],19:[1,1,0.5,0,!0],30:[b,1,0,0,!0],41:[c,1,b,0,!0],52:[1,1,c,0,!0],38:[1,c,0,1,!0],39:[1,b,0,c,!0],40:[1,0,
0,b,!0],36:[1,0.5,0,1,!0],37:[1,0,0,0.5,!0],35:[1,0,0,1,!0],9:[1,0,0.5,1,!0],20:[0.5,0,0,1,!0],31:[1,0,c,1,!0],42:[c,0,b,1,!0],53:[b,0,0,1,!0],12:[0,0,1,0,!1],23:[1,1,0,1,!1],34:[1,0,1,1,!1],45:[0,1,0,0,!1]};ig.CollisionMap.staticNoCollision={trace:function(b,c,f,n){return{collision:{x:!1,y:!1,slope:!1},pos:{x:b+f,y:c+n},tile:{x:0,y:0}}}}});ig.baked=!0;
ig.module("impact.background-map").requires("impact.map","impact.image").defines(function(){ig.BackgroundMap=ig.Map.extend({tiles:null,scroll:{x:0,y:0},distance:1,repeat:!1,tilesetName:"",foreground:!1,enabled:!0,preRender:!1,preRenderedChunks:null,chunkSize:512,debugChunks:!1,anims:{},init:function(b,c,d){this.parent(b,c);this.setTileset(d)},setTileset:function(b){this.tilesetName=b instanceof ig.Image?b.path:b;this.tiles=new ig.Image(this.tilesetName);this.preRenderedChunks=null},setScreenPos:function(b,
c){this.scroll.x=b/this.distance;this.scroll.y=c/this.distance},preRenderMapToChunks:function(){var b=this.width*this.tilesize*ig.system.scale,c=this.height*this.tilesize*ig.system.scale;this.chunkSize=Math.min(Math.max(b,c),this.chunkSize);var d=Math.ceil(b/this.chunkSize),j=Math.ceil(c/this.chunkSize);this.preRenderedChunks=[];for(var f=0;f<j;f++){this.preRenderedChunks[f]=[];for(var n=0;n<d;n++)this.preRenderedChunks[f][n]=this.preRenderChunk(n,f,n==d-1?b-n*this.chunkSize:this.chunkSize,f==j-1?
c-f*this.chunkSize:this.chunkSize)}},preRenderChunk:function(b,c,d,j){var f=d/this.tilesize/ig.system.scale+1,n=j/this.tilesize/ig.system.scale+1,t=b*this.chunkSize/ig.system.scale%this.tilesize,r=c*this.chunkSize/ig.system.scale%this.tilesize;b=Math.floor(b*this.chunkSize/this.tilesize/ig.system.scale);c=Math.floor(c*this.chunkSize/this.tilesize/ig.system.scale);var e=ig.$new("canvas");e.width=d;e.height=j;e.retinaResolutionEnabled=!1;j=e.getContext("2d");ig.System.scaleMode(e,j);d=ig.system.context;
ig.system.context=j;for(j=0;j<f;j++)for(var l=0;l<n;l++)if(j+b<this.width&&l+c<this.height){var m=this.data[l+c][j+b];m&&this.tiles.drawTile(j*this.tilesize-t,l*this.tilesize-r,m-1,this.tilesize)}ig.system.context=d;return e},draw:function(){this.tiles.loaded&&this.enabled&&(this.preRender?this.drawPreRendered():this.drawTiled())},drawPreRendered:function(){this.preRenderedChunks||this.preRenderMapToChunks();var b=ig.system.getDrawPos(this.scroll.x),c=ig.system.getDrawPos(this.scroll.y);if(this.repeat)var d=
this.width*this.tilesize*ig.system.scale,b=(b%d+d)%d,d=this.height*this.tilesize*ig.system.scale,c=(c%d+d)%d;var d=Math.max(Math.floor(b/this.chunkSize),0),j=Math.max(Math.floor(c/this.chunkSize),0),f=Math.ceil((b+ig.system.realWidth)/this.chunkSize),n=Math.ceil((c+ig.system.realHeight)/this.chunkSize),t=this.preRenderedChunks[0].length,r=this.preRenderedChunks.length;this.repeat||(f=Math.min(f,t),n=Math.min(n,r));for(var e=0;j<n;j++){for(var l=0,m=d;m<f;m++){var s=this.preRenderedChunks[j%r][m%t],
p=-b+m*this.chunkSize-l,v=-c+j*this.chunkSize-e;ig.system.context.drawImage(s,p,v);ig.Image.drawCount++;this.debugChunks&&(ig.system.context.strokeStyle="#f0f",ig.system.context.strokeRect(p,v,this.chunkSize,this.chunkSize));this.repeat&&(s.width<this.chunkSize&&p+s.width<ig.system.realWidth)&&(l+=this.chunkSize-s.width,f++)}this.repeat&&(s.height<this.chunkSize&&v+s.height<ig.system.realHeight)&&(e+=this.chunkSize-s.height,n++)}},drawTiled:function(){for(var b=0,c=null,d=(this.scroll.x/this.tilesize).toInt(),
j=(this.scroll.y/this.tilesize).toInt(),f=this.scroll.x%this.tilesize,n=this.scroll.y%this.tilesize,t=-f-this.tilesize,f=ig.system.width+this.tilesize-f,r=ig.system.height+this.tilesize-n,e=-1,n=-n-this.tilesize;n<r;e++,n+=this.tilesize){var l=e+j;if(l>=this.height||0>l){if(!this.repeat)continue;l=(l%this.height+this.height)%this.height}for(var m=-1,s=t;s<f;m++,s+=this.tilesize){b=m+d;if(b>=this.width||0>b){if(!this.repeat)continue;b=(b%this.width+this.width)%this.width}if(b=this.data[l][b])(c=this.anims[b-
1])?c.draw(s,n):this.tiles.drawTile(s,n,b-1,this.tilesize)}}}})});ig.baked=!0;
ig.module("impact.game").requires("impact.impact","impact.entity","impact.collision-map","impact.background-map").defines(function(){ig.Game=ig.Class.extend({clearColor:"#000000",gravity:0,screen:{x:0,y:0},_rscreen:{x:0,y:0},entities:[],namedEntities:{},collisionMap:ig.CollisionMap.staticNoCollision,backgroundMaps:[],backgroundAnims:{},autoSort:!1,sortBy:null,cellSize:64,_deferredKill:[],_levelToLoad:null,_doSortEntities:!1,staticInstantiate:function(){this.sortBy=this.sortBy||ig.Game.SORT.Z_INDEX;
ig.game=this;return null},loadLevel:function(b){this.screen={x:0,y:0};this.entities=[];this.namedEntities={};for(var c=0;c<b.entities.length;c++){var d=b.entities[c];this.spawnEntity(d.type,d.x,d.y,d.settings)}this.sortEntities();this.collisionMap=ig.CollisionMap.staticNoCollision;this.backgroundMaps=[];for(c=0;c<b.layer.length;c++)if(d=b.layer[c],"collision"==d.name)this.collisionMap=new ig.CollisionMap(d.tilesize,d.data);else{var j=new ig.BackgroundMap(d.tilesize,d.data,d.tilesetName);j.anims=this.backgroundAnims[d.tilesetName]||
{};j.repeat=d.repeat;j.distance=d.distance;j.foreground=!!d.foreground;j.preRender=!!d.preRender;j.name=d.name;this.backgroundMaps.push(j)}for(c=0;c<this.entities.length;c++)this.entities[c].ready()},loadLevelDeferred:function(b){this._levelToLoad=b},getMapByName:function(b){if("collision"==b)return this.collisionMap;for(var c=0;c<this.backgroundMaps.length;c++)if(this.backgroundMaps[c].name==b)return this.backgroundMaps[c];return null},getEntityByName:function(b){return this.namedEntities[b]},getEntitiesByType:function(b){b=
"string"===typeof b?ig.global[b]:b;for(var c=[],d=0;d<this.entities.length;d++){var j=this.entities[d];j instanceof b&&!j._killed&&c.push(j)}return c},spawnEntity:function(b,c,d,j){var f="string"===typeof b?ig.global[b]:b;if(!f)throw"Can't spawn entity of type "+b;b=new f(c,d,j||{});this.entities.push(b);b.name&&(this.namedEntities[b.name]=b);return b},sortEntities:function(){this.entities.sort(this.sortBy)},sortEntitiesDeferred:function(){this._doSortEntities=!0},removeEntity:function(b){b.name&&
delete this.namedEntities[b.name];b._killed=!0;b.type=ig.Entity.TYPE.NONE;b.checkAgainst=ig.Entity.TYPE.NONE;b.collides=ig.Entity.COLLIDES.NEVER;this._deferredKill.push(b)},run:function(){this.update();this.draw()},update:function(){this._levelToLoad&&(this.loadLevel(this._levelToLoad),this._levelToLoad=null);this.updateEntities();this.checkEntities();for(var b=0;b<this._deferredKill.length;b++)this._deferredKill[b].erase(),this.entities.erase(this._deferredKill[b]);this._deferredKill=[];if(this._doSortEntities||
this.autoSort)this.sortEntities(),this._doSortEntities=!1;for(var c in this.backgroundAnims){var b=this.backgroundAnims[c],d;for(d in b)b[d].update()}},updateEntities:function(){for(var b=0;b<this.entities.length;b++){var c=this.entities[b];c._killed||c.update()}},draw:function(){this.clearColor&&ig.system.clear(this.clearColor);this._rscreen.x=ig.system.getDrawPos(this.screen.x)/ig.system.scale;this._rscreen.y=ig.system.getDrawPos(this.screen.y)/ig.system.scale;var b;for(b=0;b<this.backgroundMaps.length;b++){var c=
this.backgroundMaps[b];if(c.foreground)break;c.setScreenPos(this.screen.x,this.screen.y);c.draw()}this.drawEntities();for(b;b<this.backgroundMaps.length;b++)c=this.backgroundMaps[b],c.setScreenPos(this.screen.x,this.screen.y),c.draw()},drawEntities:function(){for(var b=0;b<this.entities.length;b++)this.entities[b].draw()},checkEntities:function(){for(var b={},c=0;c<this.entities.length;c++){var d=this.entities[c];if(!(d.type==ig.Entity.TYPE.NONE&&d.checkAgainst==ig.Entity.TYPE.NONE&&d.collides==ig.Entity.COLLIDES.NEVER))for(var j=
{},f=Math.floor(d.pos.y/this.cellSize),n=Math.floor((d.pos.x+d.size.x)/this.cellSize)+1,t=Math.floor((d.pos.y+d.size.y)/this.cellSize)+1,r=Math.floor(d.pos.x/this.cellSize);r<n;r++)for(var e=f;e<t;e++)if(b[r])if(b[r][e]){for(var l=b[r][e],m=0;m<l.length;m++)d.touches(l[m])&&!j[l[m].id]&&(j[l[m].id]=!0,ig.Entity.checkPair(d,l[m]));l.push(d)}else b[r][e]=[d];else b[r]={},b[r][e]=[d]}}});ig.Game.SORT={Z_INDEX:function(b,c){return b.zIndex-c.zIndex},POS_X:function(b,c){return b.pos.x+b.size.x-(c.pos.x+
c.size.x)},POS_Y:function(b,c){return b.pos.y+b.size.y-(c.pos.y+c.size.y)}}});ig.baked=!0;
ig.module("plugins.splash-loader").requires("impact.loader","impact.animation").defines(function(){ig.SplashLoader=ig.Loader.extend({desktopCoverDIVID:"play-desktop",splashDesktop:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/splash/desktop/cover.jpg"),splashMobile:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/splash/mobile/cover.jpg"),loading:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/loading-bar.png"),init:function(b,c){this.parent(b,c);console.log("Checking for AdInGamePreroll ...");
"undefined"!=typeof AdInGamePreroll&&AdInGamePreroll.Initialize();console.log("Checking for BrandingSplashScreen ...");"undefined"!=typeof BrandingSplashScreen&&InitializeSplashScreen();console.log("Injecting Loading Game API ...");try{console.log('enabled loading api12');}catch(d){console.log(d.message)}},tapToStartDiv:function(b){this.desktopCoverDIV=document.createElement("div");this.desktopCoverDIV.id=this.desktopCoverDIVID;this.desktopCoverDIV.setAttribute("class","play");this.desktopCoverDIV.setAttribute("style",
"position: absolute; display: block; z-index: 999999; background-color: rgba(23, 32, 53, 0.7); visibility: visible; font-size: 10vmin; text-align: center; vertical-align: middle; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;");this.desktopCoverDIV.innerHTML="<div style='color:white;background-color: rgba(255, 255, 255, 0.3); border: 2px solid #fff; font-size:20px; border-radius: 5px; position: relative; float: left; top: 50%; left: 50%; transform: translate(-50%, -50%);'><div style='padding:20px 50px; font-family: Arial;'>"+
_STRINGS.Splash.TapToStart+"</div></div>";(document.getElementById("play").parentNode||document.getElementById("ajaxbar")).appendChild(this.desktopCoverDIV);try{"undefined"!==typeof ig.sizeHandler?"undefined"!==typeof ig.sizeHandler.coreDivsToResize&&(ig.sizeHandler.coreDivsToResize.push("#"+this.desktopCoverDIVID),"function"===typeof ig.sizeHandler.reorient&&ig.sizeHandler.reorient()):"undefined"!==typeof coreDivsToResize&&(coreDivsToResize.push(this.desktopCoverDIVID),"function"===typeof sizeHandler&&
sizeHandler())}catch(c){console.log(c)}this.desktopCoverDIV.addEventListener("click",function(){try{"undefined"!==typeof ig.soundHandler?("undefined"!==typeof ig.soundHandler.bgmPlayer?"undefined"!==typeof ig.soundHandler.bgmPlayer.webaudio&&"undefined"!==typeof ig.soundHandler.bgmPlayer.webaudio.context&&ig.soundHandler.bgmPlayer.webaudio.context.resume():(ig.soundHandler=null,ig.soundHandler="undefined"!==typeof ig.soundList?new ig.SoundHandler(ig.soundList):new ig.SoundHandler),"undefined"!==typeof ig.soundHandler.sfxPlayer?
"function"===typeof ig.soundHandler.sfxPlayer.play&&ig.soundHandler.sfxPlayer.play("staticSound"):"undefined"!==typeof ig.soundHandler.staticSound?"function"===typeof ig.soundHandler.staticSound.play&&ig.soundHandler.staticSound.play():"function"===typeof ig.soundHandler.playSound&&ig.soundHandler.playSound("staticSound")):"undefined"!==typeof Howl?(ig.global.staticSound=new Howl({src:["http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/play/static.ogg","http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/play/static.mp3"]}),ig.global.staticSound.play()):
"undefined"!==typeof createjs&&"undefined"!==typeof createjs.Sound&&"function"===typeof createjs.Sound.play&&createjs.Sound.play("opening")}catch(c){console.log(c)}this.setAttribute("style","visibility: hidden;");"function"===typeof b&&b();ig.system.setGame(MyGame)})},end:function(){this.parent();this.tapToStartDiv()},setupCustomAnimation:function(){this.customAnim=new ig.Animation(this.customAnim,0.05,[0,1,2,3,4,5]);this.customAnim.currentFrame=0;ig.loadingScreen=this;ig.loadingScreen.animationTimer=
window.setInterval("ig.loadingScreen.animate()",100)},animate:function(){this.customAnim.currentFrame<this.customAnim.sequence.length?this.customAnim.currentFrame++:this.customAnim.currentFrame=0;this.customAnim.gotoFrame(this.customAnim.currentFrame)},draw:function(){this._drawStatus+=(this.status-this._drawStatus)/5;ig.ua.mobile?this.splashMobile.draw(0,0):this.splashDesktop.draw(0,0);var b=ig.system.context;b.drawImage(this.loading.data,0,0,407,41,ig.system.width/2-this.loading.width/2,ig.system.height-
174,407,41);0<this.loading.width*this._drawStatus&&0<=this._drawStatus&&b.drawImage(this.loading.data,0,this.loading.height/2,this.loading.width*this._drawStatus,this.loading.height/2,ig.system.width/2-this.loading.width/2,ig.system.height-170,this.loading.width*this._drawStatus,this.loading.height/2)}})});ig.baked=!0;
ig.module("plugins.tween").requires("impact.entity").defines(function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(b){for(var c=0;c<this.length;++c)if(this[c]===b)return c;return-1});ig.Entity.prototype.tweens=[];ig.Entity.prototype._preTweenUpdate=ig.Entity.prototype.update;ig.Entity.prototype.update=function(){this._preTweenUpdate();if(0<this.tweens.length){for(var b=[],c=0;c<this.tweens.length;c++)this.tweens[c].update(),this.tweens[c].complete||b.push(this.tweens[c]);this.tweens=
b}};ig.Entity.prototype.tween=function(b,c,d){b=new ig.Tween(this,b,c,d);this.tweens.push(b);return b};ig.Entity.prototype.pauseTweens=function(){for(var b=0;b<this.tweens.length;b++)this.tweens[b].pause()};ig.Entity.prototype.resumeTweens=function(){for(var b=0;b<this.tweens.length;b++)this.tweens[b].resume()};ig.Entity.prototype.stopTweens=function(b){for(var c=0;c<this.tweens.length;c++)this.tweens[c].stop(b)};ig.Tween=function(b,c,d,j){var f={},n={},t={},r=0,e=!1,l=!1,m=!1;this.duration=d;this.paused=
this.complete=!1;this.easing=ig.Tween.Easing.Linear.EaseNone;this.onComplete=!1;this.loop=this.delay=0;this.loopCount=-1;ig.merge(this,j);this.loopNum=this.loopCount;this.chain=function(b){m=b};this.initEnd=function(b,c,d){if("object"!==typeof c[b])d[b]=c[b];else for(subprop in c[b])d[b]||(d[b]={}),this.initEnd(subprop,c[b],d[b])};this.initStart=function(b,c,d,e){if("object"!==typeof d[b])"undefined"!==typeof c[b]&&(e[b]=d[b]);else for(subprop in d[b])e[b]||(e[b]={}),"undefined"!==typeof c[b]&&this.initStart(subprop,
c[b],d[b],e[b])};this.start=function(){this.paused=this.complete=!1;this.loopNum=this.loopCount;r=0;-1==b.tweens.indexOf(this)&&b.tweens.push(this);l=!0;e=new ig.Timer;for(var d in c)this.initEnd(d,c,n);for(d in n)this.initStart(d,n,b,f),this.initDelta(d,t,b,n)};this.initDelta=function(b,c,d,e){if("object"!==typeof e[b])c[b]=e[b]-d[b];else for(subprop in e[b])c[b]||(c[b]={}),this.initDelta(subprop,c[b],d[b],e[b])};this.propUpdate=function(b,c,d,e,f){if("object"!==typeof d[b])c[b]="undefined"!=typeof d[b]?
d[b]+e[b]*f:c[b];else for(subprop in d[b])this.propUpdate(subprop,c[b],d[b],e[b],f)};this.propSet=function(b,c,d){if("object"!==typeof c[b])d[b]=c[b];else for(subprop in c[b])d[b]||(d[b]={}),this.propSet(subprop,c[b],d[b])};this.update=function(){if(!l)return!1;if(this.delay){if(e.delta()<this.delay)return;this.delay=0;e.reset()}if(this.paused||this.complete)return!1;var c=(e.delta()+r)/this.duration,c=1<c?1:c,d=this.easing(c);for(property in t)this.propUpdate(property,b,f,t,d);if(1<=c){if(0==this.loopNum||
!this.loop){this.complete=!0;if(this.onComplete)this.onComplete();m&&m.start();return!1}if(this.loop==ig.Tween.Loop.Revert){for(property in f)this.propSet(property,f,b);r=0;e.reset();-1!=this.loopNum&&this.loopNum--}else if(this.loop==ig.Tween.Loop.Reverse){c={};d={};ig.merge(c,n);ig.merge(d,f);ig.merge(f,c);ig.merge(n,d);for(property in n)this.initDelta(property,t,b,n);r=0;e.reset();-1!=this.loopNum&&this.loopNum--}}};this.pause=function(){this.paused=!0;r+=e.delta()};this.resume=function(){this.paused=
!1;e.reset()};this.stop=function(b){b&&(this.loop=this.complete=this.paused=!1,r+=d,this.update());this.complete=!0}};ig.Tween.Loop={Revert:1,Reverse:2};ig.Tween.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};ig.Tween.Easing.Linear.EaseNone=function(b){return b};ig.Tween.Easing.Quadratic.EaseIn=function(b){return b*b};ig.Tween.Easing.Quadratic.EaseOut=function(b){return-b*(b-2)};ig.Tween.Easing.Quadratic.EaseInOut=
function(b){return 1>(b*=2)?0.5*b*b:-0.5*(--b*(b-2)-1)};ig.Tween.Easing.Cubic.EaseIn=function(b){return b*b*b};ig.Tween.Easing.Cubic.EaseOut=function(b){return--b*b*b+1};ig.Tween.Easing.Cubic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b:0.5*((b-=2)*b*b+2)};ig.Tween.Easing.Quartic.EaseIn=function(b){return b*b*b*b};ig.Tween.Easing.Quartic.EaseOut=function(b){return-(--b*b*b*b-1)};ig.Tween.Easing.Quartic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b*b:-0.5*((b-=2)*b*b*b-2)};ig.Tween.Easing.Quintic.EaseIn=
function(b){return b*b*b*b*b};ig.Tween.Easing.Quintic.EaseOut=function(b){return(b-=1)*b*b*b*b+1};ig.Tween.Easing.Quintic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b*b*b:0.5*((b-=2)*b*b*b*b+2)};ig.Tween.Easing.Sinusoidal.EaseIn=function(b){return-Math.cos(b*Math.PI/2)+1};ig.Tween.Easing.Sinusoidal.EaseOut=function(b){return Math.sin(b*Math.PI/2)};ig.Tween.Easing.Sinusoidal.EaseInOut=function(b){return-0.5*(Math.cos(Math.PI*b)-1)};ig.Tween.Easing.Exponential.EaseIn=function(b){return 0==b?0:Math.pow(2,
10*(b-1))};ig.Tween.Easing.Exponential.EaseOut=function(b){return 1==b?1:-Math.pow(2,-10*b)+1};ig.Tween.Easing.Exponential.EaseInOut=function(b){return 0==b?0:1==b?1:1>(b*=2)?0.5*Math.pow(2,10*(b-1)):0.5*(-Math.pow(2,-10*(b-1))+2)};ig.Tween.Easing.Circular.EaseIn=function(b){return-(Math.sqrt(1-b*b)-1)};ig.Tween.Easing.Circular.EaseOut=function(b){return Math.sqrt(1- --b*b)};ig.Tween.Easing.Circular.EaseInOut=function(b){return 1>(b/=0.5)?-0.5*(Math.sqrt(1-b*b)-1):0.5*(Math.sqrt(1-(b-=2)*b)+1)};ig.Tween.Easing.Elastic.EaseIn=
function(b){var c,d=0.1,j=0.4;if(0==b)return 0;if(1==b)return 1;j||(j=0.3);!d||1>d?(d=1,c=j/4):c=j/(2*Math.PI)*Math.asin(1/d);return-(d*Math.pow(2,10*(b-=1))*Math.sin((b-c)*2*Math.PI/j))};ig.Tween.Easing.Elastic.EaseOut=function(b){var c,d=0.1,j=0.4;if(0==b)return 0;if(1==b)return 1;j||(j=0.3);!d||1>d?(d=1,c=j/4):c=j/(2*Math.PI)*Math.asin(1/d);return d*Math.pow(2,-10*b)*Math.sin((b-c)*2*Math.PI/j)+1};ig.Tween.Easing.Elastic.EaseInOut=function(b){var c,d=0.1,j=0.4;if(0==b)return 0;if(1==b)return 1;
j||(j=0.3);!d||1>d?(d=1,c=j/4):c=j/(2*Math.PI)*Math.asin(1/d);return 1>(b*=2)?-0.5*d*Math.pow(2,10*(b-=1))*Math.sin((b-c)*2*Math.PI/j):0.5*d*Math.pow(2,-10*(b-=1))*Math.sin((b-c)*2*Math.PI/j)+1};ig.Tween.Easing.Back.EaseIn=function(b){return b*b*(2.70158*b-1.70158)};ig.Tween.Easing.Back.EaseOut=function(b){return(b-=1)*b*(2.70158*b+1.70158)+1};ig.Tween.Easing.Back.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*(3.5949095*b-2.5949095):0.5*((b-=2)*b*(3.5949095*b+2.5949095)+2)};ig.Tween.Easing.Bounce.EaseIn=
function(b){return 1-ig.Tween.Easing.Bounce.EaseOut(1-b)};ig.Tween.Easing.Bounce.EaseOut=function(b){return(b/=1)<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375};ig.Tween.Easing.Bounce.EaseInOut=function(b){return 0.5>b?0.5*ig.Tween.Easing.Bounce.EaseIn(2*b):0.5*ig.Tween.Easing.Bounce.EaseOut(2*b-1)+0.5}});ig.baked=!0;
ig.module("plugins.url-parameters").defines(function(){ig.UrlParameters=ig.Class.extend({init:function(){switch(getQueryVariable("iphone")){case "true":ig.ua.iPhone=!0,console.log("iPhone mode")}var b=getQueryVariable("webview");if(b)switch(b){case "true":ig.ua.is_uiwebview=!0,console.log("webview mode")}if(b=getQueryVariable("debug"))switch(b){case "true":ig.game.showDebugMenu(),console.log("debug mode")}switch(getQueryVariable("view")){case "stats":ig.game.resetPlayerStats(),ig.game.endGame()}getQueryVariable("ad")}})});
ig.baked=!0;ig.module("plugins.jukebox").defines(function(){ig.Jukebox=ig.Class.extend({init:function(){this.player=new jukebox.Player({resources:["http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/bgm1.mp3","http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/audio/game/bgm1.ogg"],autoplay:!1,spritemap:{music:{start:0,end:28.65,loop:!0}},timeout:1E3})}})});ig.baked=!0;
ig.module("plugins.director").requires("impact.impact").defines(function(){ig.Director=ig.Class.extend({init:function(b,c){this.game=b;this.levels=[];this.currentLevel=0;this.append(c)},loadLevel:function(b){for(key in dynamicClickableEntityDivs)ig.game.hideOverlay([key]);this.currentLevel=b;this.game.loadLevel(this.levels[b]);return!0},loadLevelWithoutEntities:function(b){this.currentLevel=b;this.game.loadLevelWithoutEntities(this.levels[b]);return!0},append:function(b){newLevels=[];return"object"===
typeof b?(b.constructor===[].constructor?newLevels=b:newLevels[0]=b,this.levels=this.levels.concat(newLevels),!0):!1},nextLevel:function(){return this.currentLevel+1<this.levels.length?this.loadLevel(this.currentLevel+1):!1},previousLevel:function(){return 0<=this.currentLevel-1?this.loadLevel(this.currentLevel-1):!1},jumpTo:function(b){var c=null;for(i=0;i<this.levels.length;i++)this.levels[i]==b&&(c=i);return 0<=c?this.loadLevel(c):!1},firstLevel:function(){return this.loadLevel(0)},lastLevel:function(){return this.loadLevel(this.levels.length-
1)},reloadLevel:function(){return this.loadLevel(this.currentLevel)}})});ig.baked=!0;
ig.module("plugins.impact-storage").requires("impact.game").defines(function(){ig.Storage=ig.Class.extend({staticInstantiate:function(){return!ig.Storage.instance?null:ig.Storage.instance},init:function(){ig.Storage.instance=this},isCapable:function(){return"undefined"!==typeof window.localStorage},isSet:function(b){return null!==this.get(b)},initUnset:function(b,c){null===this.get(b)&&this.set(b,c)},get:function(b){if(!this.isCapable())return null;try{return JSON.parse(localStorage.getItem(b))}catch(c){return window.localStorage.getItem(b)}},
getInt:function(b){return~~this.get(b)},getFloat:function(b){return parseFloat(this.get(b))},getBool:function(b){return!!this.get(b)},key:function(b){return this.isCapable()?window.localStorage.key(b):null},set:function(b,c){if(!this.isCapable())return null;try{window.localStorage.setItem(b,JSON.stringify(c))}catch(d){console.log(d)}},setHighest:function(b,c){c>this.getFloat(b)&&this.set(b,c)},remove:function(b){if(!this.isCapable())return null;window.localStorage.removeItem(b)},clear:function(){if(!this.isCapable())return null;
window.localStorage.clear()}})});ig.baked=!0;
ig.module("plugins.shock").requires("impact.entity").defines(function(){EntityShock=ig.Entity.extend({zIndex:5E3,duration:0.7,strength:3,bgAlpha:0,bloodAlpha:1,blood:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/blood.png"),init:function(b,c,d){this.parent(b,c,d);this.initShock()},initShock:function(){this.shockTimer=new ig.Timer;this.shockTimer.set(this.duration);this.flashTimer=new ig.Timer},resetShock:function(){ig.game.screen.x=0;ig.game.screen.y=0;0.05>=this.bloodAlpha&&(this.shockTimer=
null,this.kill())},shock:function(){var b=this.shockTimer.delta();if(-0.2>b){var c=this.strength*Math.pow(-b/this.duration,2);0.5<c&&(ig.game.screen.x+=Math.random().map(0,1,-c,c),ig.game.screen.y+=Math.random().map(0,1,-c,c))}-0.2<b&&(this.resetShock(),ig.game.crashPlay=!1,ig.game.hitted=!1)},update:function(){this.parent();this.shock();this.flashTimer&&(0<this.flashTimer.delta()&&0.34>this.flashTimer.delta())&&(this.bgAlpha+=0.02);this.flashTimer&&(0.35<this.flashTimer.delta()&&0.02<this.bgAlpha)&&
(this.bgAlpha-=0.02);this.flashTimer&&0.35<this.flashTimer.delta()&&(this.bloodAlpha-=0.01)},draw:function(){this.parent();ig.system.context.fillStyle="rgba(255, 0, 0, "+this.bgAlpha+")";ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);var b=ig.system.context;b.save();b.globalAlpha=this.bloodAlpha;this.blood.draw(ig.system.width/2-this.blood.width/2,0);b.restore()}})});ig.baked=!0;
ig.module("plugins.scale").requires("impact.entity").defines(function(){ig.Entity.inject({scale:{x:1,y:1},_offset:{x:0,y:0},_scale:{x:1,y:1},_size:{x:0,y:0},init:function(b,c,d){this.parent(b,c,d);this._offset.x=this.offset.x;this._offset.y=this.offset.y;this._size.x=this.size.x;this._size.y=this.size.y;this.setScale(this.scale.x,this.scale.y)},draw:function(){var b=ig.system.context;b.save();b.translate(ig.system.getDrawPos(this.pos.x.round()-this.offset.x-ig.game.screen.x),ig.system.getDrawPos(this.pos.y.round()-
this.offset.y-ig.game.screen.y));b.scale(this._scale.x,this._scale.y);null!=this.currentAnim&&this.currentAnim.draw(0,0);b.restore()},setScale:function(b,c){var d=this.size.x,j=this.size.y;this.scale.x=b||this.scale.x;this.scale.y=c||this.scale.y;this._scale.x=this.scale.x/ig.system.scale;this._scale.y=this.scale.y/ig.system.scale;this.offset.x=this._offset.x*this._scale.x;this.offset.y=this._offset.y*this._scale.y;this.size.x=this._size.x*this._scale.x;this.size.y=this._size.y*this._scale.y;this.pos.x+=
(d-this.size.x)/2;this.pos.y+=(j-this.size.y)/2}})});ig.baked=!0;
ig.module("game.entities.button-more-games").requires("impact.entity").defines(function(){EntityButtonMoreGames=ig.Entity.extend({gravityFactor:0,logo:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/sprites/btn_more_games.png",64,66),size:{x:64,y:66},zIndex:750,init:function(b,c,d){this.parent(b,c,d);"undefined"==typeof wm&&(_SETTINGS.MoreGames.Enabled?(d.div_layer_name?(console.log("settings found ... using that div layer name"),b=d.div_layer_name):b="more-games",console.log("div_layer_name:",
b),this.checkClickableLayer(b,_SETTINGS.MoreGames.Link,_SETTINGS.MoreGames.NewWindow)):this.kill());this.anims.idle=new ig.Animation(this.logo,0,[0],!0);this.currentAnim=this.anims.idle},doesClickableLayerExist:function(b){for(k in dynamicClickableEntityDivs)if(k==b)return console.log("clickable layer already exists ..."),!0;console.log("doesnt exist yet ...");return!1},checkClickableLayer:function(b,c,d){"undefined"==typeof wm&&(this.doesClickableLayerExist(b)?(ig.game.showOverlay([b]),$("#"+b).find("[href]").attr("href",
c)):this.createClickableOutboundLayer(b,c,"../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/misc/invisible.png",d))},createClickableOutboundLayer:function(b,c,d,j){var f=ig.$new("div");f.id=b;document.body.appendChild(f);$("#"+f.id).css("float","left");$("#"+f.id).css("position","absolute");if(ig.ua.mobile){var n=window.innerHeight/mobileHeight,t=window.innerWidth/mobileWidth;$("#"+f.id).css("left",this.pos.x*t);$("#"+f.id).css("top",this.pos.y*n);$("#"+f.id).css("width",this.size.x*t);$("#"+f.id).css("height",
this.size.y*n)}else n=document.getElementById("game").offsetLeft,t=document.getElementById("game").offsetTop,$("#"+f.id).css("left",n+this.pos.x*multiplier),$("#"+f.id).css("top",t+this.pos.y*multiplier),$("#"+f.id).css("width",this.size.x*multiplier),$("#"+f.id).css("height",this.size.y*multiplier);j?$("#"+f.id).html("<a target='_blank' href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>"):$("#"+f.id).html("<a href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>");dynamicClickableEntityDivs[b]=
{};dynamicClickableEntityDivs[b].width=this.size.x*multiplier;dynamicClickableEntityDivs[b].height=this.size.y*multiplier;dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y}})});ig.baked=!0;
ig.module("game.entities.opening-shield").requires("impact.entity").defines(function(){EntityOpeningShield=ig.Entity.extend({size:{x:48,y:48},move:0,mIconAnim:0,shieldAnim:0,titleAnim:0,shieldImage:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/opening/shield.png"),mIconImage:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/opening/m_icon.png"),titleImage:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/opening/title.png"),init:function(b,c,d){this.parent(b,c,d)},ready:function(){if(!ig.wm)if(_SETTINGS.DeveloperBranding.Splash.Enabled){this.initTimer=
new ig.Timer(0.1);try{ig.soundHandler.playSound(ig.soundHandler.SOUNDID.openingSound)}catch(b){console.log(b)}}else ig.game.director.nextLevel(),ig.system.context.globalAlpha=1,this.kill()},update:function(){this.parent();this.updateOriginalShieldOpening()},draw:function(){this.parent();ig.global.wm||(this.nextLevelTimer&&0>this.nextLevelTimer.delta()&&(ig.system.context.globalAlpha=-this.nextLevelTimer.delta()),this.drawOriginalShieldOpening())},updateOriginalShieldOpening:function(){this.initTimer&&
0<this.initTimer.delta()&&(this.initTimer=null,this.sheildTimer=new ig.Timer(0.05));this.sheildTimer&&0<this.sheildTimer.delta()&&(3>this.shieldAnim?(this.shieldAnim++,this.sheildTimer.reset()):(this.sheildTimer=null,this.moveTimer=new ig.Timer(0.001),this.mIconTimer=new ig.Timer(0.05),this.titleTimer=new ig.Timer(0.15)));this.moveTimer&&0<this.moveTimer.delta()&&(this.move+=0.3,this.moveTimer.reset());this.mIconTimer&&0<this.mIconTimer.delta()&&(12>this.mIconAnim?(this.mIconAnim++,this.moveTimer.reset()):
this.mIconTimer=null);this.titleTimer&&0<this.titleTimer.delta()&&(11>this.titleAnim?(this.titleAnim++,this.titleTimer.reset()):(this.titleTimer=null,this.nextLevelTimer=new ig.Timer(1)));this.nextLevelTimer&&0<this.nextLevelTimer.delta()&&(this.nextLevelTimer=null,ig.game.director.nextLevel(),ig.system.context.globalAlpha=1)},drawOriginalShieldOpening:function(){if(this.moveTimer){var b=ig.system.context;b.save();var c=ig.system.width/2,d=ig.system.height/2;b.translate(c,d);b.rotate(this.move*Math.PI/
180);b.beginPath();b.moveTo(0,0);for(var j=0,f=1;48>=f;f+=1)b.lineTo(0+800*Math.cos(2*f*Math.PI/48),0+800*Math.sin(2*f*Math.PI/48)),j++,2==j&&(j=0,b.lineTo(0,0));b.translate(-c,-d);c=b.createRadialGradient(c,d,100,c,d,250);c.addColorStop(0,"rgba(255,255,255,0.1)");c.addColorStop(1,"rgba(0,0,0,0)");b.fillStyle=c;b.fill();b.restore()}this.shieldImage.drawTile(ig.system.width/2-91,0-(768-ig.system.height)/2,this.shieldAnim,182,768);this.moveTimer&&(this.mIconImage.drawTile(ig.system.width/2-96,ig.system.height/
2-70,this.mIconAnim,166,160),this.titleImage.drawTile(ig.system.width/2-204,ig.system.height/2+100,this.titleAnim,409,76));ig.system.context.globalAlpha=1}})});ig.baked=!0;
ig.module("game.entities.opening-kitty").requires("impact.entity").defines(function(){EntityOpeningKitty=ig.Entity.extend({size:{x:48,y:48},kittyAnim:-1,kittyImage:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/opening/kitty.png"),kittyTitleImage:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/opening/kittytitle.png"),init:function(b,c,d){this.parent(b,c,d)},ready:function(){if(!ig.wm)if(_SETTINGS.DeveloperBranding.Splash.Enabled){this.initTimer=new ig.Timer(0.1);try{ig.soundHandler.playSound(ig.soundHandler.SOUNDID.kittyopeningSound)}catch(b){console.log(b)}}else ig.game.director.nextLevel(),
ig.system.context.globalAlpha=1,this.kill()},update:function(){this.parent();this.updateKittyOpening()},draw:function(){this.parent();ig.global.wm||(this.nextLevelTimer&&0>this.nextLevelTimer.delta()&&(ig.system.context.globalAlpha=-this.nextLevelTimer.delta()),this.drawKittyOpening())},updateKittyOpening:function(){this.initTimer&&0<this.initTimer.delta()&&(this.initTimer=null,this.kittyTimer=new ig.Timer(0.15));this.kittyTimer&&0<this.kittyTimer.delta()&&(7>this.kittyAnim?(this.kittyAnim++,this.kittyTimer.reset()):
(this.kittyTimer=null,this.nextLevelTimer=new ig.Timer(2)));this.nextLevelTimer&&0<this.nextLevelTimer.delta()&&(this.nextLevelTimer=null,ig.game.director.nextLevel(),ig.system.context.globalAlpha=1)},drawKittyOpening:function(){var b=ig.system.context.createLinearGradient(0,0,0,ig.system.height);b.addColorStop(0,"#ffed94");b.addColorStop(1,"#ffcd85");ig.system.context.fillStyle=b;ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);0<=this.kittyAnim&&(this.kittyImage.drawTile(ig.system.width/
2-this.kittyImage.width/8,ig.system.height/2-this.kittyImage.height/4,this.kittyAnim,218,325),this.kittyTitleImage.drawTile(ig.system.width/2-this.kittyTitleImage.width/2,ig.system.height/2+this.kittyImage.height/4+10,this.kittyAnim,380,37));ig.system.context.globalAlpha=1}})});ig.baked=!0;
ig.module("game.entities.pointer").requires("impact.entity").defines(function(){EntityPointer=ig.Entity.extend({type:ig.Entity.TYPE.A,checkAgainst:ig.Entity.TYPE.B,isClicking:!1,isHovering:!1,firstClick:!1,isReleased:!1,hoveringItem:null,objectArray:[],ignorePause:!0,zIndex:5E3,cursor:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/cursor.png"),check:function(b){this.objectArray.push(b)},clickObject:function(b){this.isClicking&&!this.firstClick&&"function"==typeof b.clicked&&(b.clicked(),
this.firstClick=!0);this.firstClick&&!this.isReleased&&"function"==typeof b.clicking&&b.clicking();this.firstClick&&this.isReleased&&"function"==typeof b.released&&(b.released(),this.firstClick=!1)},update:function(){this.zIndex=5E3;if(ig.ua.mobile){var b=window.innerHeight/mobileHeight;this.pos.x=ig.input.mouse.x/(window.innerWidth/mobileWidth)-this.size.x/2+ig.game.screen.x;this.pos.y=ig.input.mouse.y/b-this.size.y/2}else this.pos.x=ig.input.mouse.x-this.size.x/2,this.pos.y=ig.input.mouse.y-this.size.y/
2;var b=null,c=-1;for(a=this.objectArray.length-1;-1<a;a--)this.objectArray[a].zIndex>c&&(c=this.objectArray[a].zIndex,b=this.objectArray[a]);null!=b?("close"==b.name&&console.log(b),null!=this.hoveringItem&&"function"==typeof this.hoveringItem.idle&&this.hoveringItem!=b&&this.hoveringItem.idle(),this.hoveringItem=b,this.clickObject(b),this.objectArray=[]):null!=this.hoveringItem&&"function"==typeof this.hoveringItem.idle&&(this.hoveringItem.idle(),this.hoveringItem=null);this.isClicking=ig.input.pressed("click");
this.isReleased=ig.input.released("click")},draw:function(){this.parent();ig.game.director&&(1<ig.game.director.currentLevel&&3!=ig.game.director.currentLevel&&!ig.ua.mobile)&&this.cursor.draw(this.pos.x-23,this.pos.y-23)}})});ig.baked=!0;ig.module("game.entities.pointer-selector").requires("game.entities.pointer").defines(function(){EntityPointerSelector=EntityPointer.extend({zIndex:1E3,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},init:function(b,c,d){this.parent(b,c,d)}})});
ig.baked=!0;
ig.module("game.entities.select").requires("impact.entity").defines(function(){EntitySelect=ig.Entity.extend({type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,canSelect:!1,canSelectTimerDuration:0.35,zIndex:99999,isHovering:!1,isSelected:!1,init:function(b,c,d){this.parent(b,c,d);this.canSelectTimer=new ig.Timer(this.canSelectTimerDuration)},doesClickableLayerExist:function(b){for(k in dynamicClickableEntityDivs)if(k==b)return!0;return!1},checkClickableLayer:function(b,c,
d){"undefined"==typeof wm&&(this.doesClickableLayerExist(b)?(ig.game.showOverlay([b]),$("#"+b).find("[href]").attr("href",c)):this.createClickableOutboundLayer(b,c,"../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/misc/invisible.png",d))},createClickableOutboundLayer:function(b,c,d,j){var f=ig.$new("div");f.id=b;document.body.appendChild(f);$("#"+f.id).css("float","left");$("#"+f.id).css("width",this.size.x*multiplier);$("#"+f.id).css("height",this.size.y*multiplier);$("#"+f.id).css("position","absolute");var n=
w/2-destW/2,t=h/2-destH/2;w==mobileWidth?($("#"+f.id).css("left",this.pos.x),$("#"+f.id).css("top",this.pos.y)):($("#"+f.id).css("left",n+this.pos.x*multiplier),$("#"+f.id).css("top",t+this.pos.y*multiplier));j?$("#"+f.id).html("<a target='_blank' href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>"):$("#"+f.id).html("<a href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>");dynamicClickableEntityDivs[b]={};dynamicClickableEntityDivs[b].width=$("#"+f.id).width();dynamicClickableEntityDivs[b].height=
$("#"+f.id).height();dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y},hovered:function(){this.isHovering=!0;this.dehoverOthers()},dehoverOthers:function(){var b=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<b.length;i++)b[i]!=this&&(b[i].isHovering=!1)},deselectOthers:function(){var b=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<b.length;i++)b[i]!=this&&(b[i].isSelected=!1)},update:function(){this.parent();this.canSelectTimer&&0<
this.canSelectTimer.delta()&&(this.canSelect=!0,this.canSelectTimer=null)}})});ig.baked=!0;ig.module("game.levels.opening").requires("impact.image","game.entities.opening-kitty").defines(function(){LevelOpening={entities:[{type:"EntityOpeningKitty",x:520,y:212}],layer:[]}});ig.baked=!0;
ig.module("game.entities.branding-logo-placeholder").requires("impact.entity").defines(function(){EntityBrandingLogoPlaceholder=ig.Entity.extend({gravityFactor:0,size:{x:32,y:32},_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",init:function(b,c,d){this.parent(b,c,d);if(d)switch(console.log("settings found ... using that div layer name"),b=d.div_layer_name,console.log("settings.centralize:",d.centralize),d.centralize){case "true":console.log("centralize true");centralize=!0;break;case "false":console.log("centralize false");
centralize=!1;break;default:console.log("default ... centralize false"),centralize=!1}else b="branding-logo",centralize=!1;if("undefined"==typeof wm){if(_SETTINGS.Branding.Logo.Enabled)try{ig.game.spawnEntity(EntityBrandingLogo,this.pos.x,this.pos.y,{div_layer_name:b,centralize:centralize})}catch(j){console.log(j)}this.kill()}}})});ig.baked=!0;
ig.module("game.levels.test-desktop").requires("impact.image","game.entities.branding-logo-placeholder","game.entities.button-more-games","game.entities.pointer").defines(function(){LevelTestDesktop={entities:[{type:"EntityBrandingLogoPlaceholder",x:296,y:396,settings:{div_layer_name:"layer_mainmenu",centralize:"true"}},{type:"EntityButtonMoreGames",x:432,y:284,settings:{div_layer_name:"layer_moregames_mainmenu"}},{type:"EntityPointer",x:608,y:120}],layer:[{name:"background",width:40,height:30,linkWithCollision:!1,
visible:1,tilesetName:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/backgrounds/desktop/background.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:16,foreground:!1,data:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],[41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],[81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,
111,112,113,114,115,116,117,118,119,120],[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160],[161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200],[201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,
235,236,237,238,239,240],[241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280],[281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320],[321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,
359,360],[361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400],[401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440],[441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480],[481,482,
483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520],[521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560],[561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600],[601,602,603,604,605,606,
607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640],[641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680],[681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720],[721,722,723,724,725,726,727,728,729,730,
731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760],[761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800],[801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840],[841,842,843,844,845,846,847,848,849,850,851,852,853,854,
855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880],[881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920],[921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960],[961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,
979,980,981,982,983,984,985,986,987,988,989,990,991,992,993,994,995,996,997,998,999,1E3],[1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040],[1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080],[1081,1082,
1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1120],[1121,1122,1123,1124,1125,1126,1127,1128,1129,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140,1141,1142,1143,1144,1145,1146,1147,1148,1149,1150,1151,1152,1153,1154,1155,1156,1157,1158,1159,1160],[1161,1162,1163,1164,1165,1166,1167,1168,1169,1170,1171,1172,1173,1174,1175,1176,1177,1178,1179,1180,1181,1182,
1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1193,1194,1195,1196,1197,1198,1199,1200]]}]};LevelTestDesktopResources=[new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/backgrounds/desktop/background.jpg")]});ig.baked=!0;
ig.module("game.levels.test-mobile").requires("impact.image","game.entities.branding-logo-placeholder","game.entities.button-more-games","game.entities.pointer").defines(function(){LevelTestMobile={entities:[{type:"EntityBrandingLogoPlaceholder",x:216,y:548,settings:{div_layer_name:"layer_mainmenu",centralize:"true"}},{type:"EntityButtonMoreGames",x:204,y:372,settings:{div_layer_name:"layer_moregames_mainmenu"}},{type:"EntityPointer",x:444,y:192}],layer:[{name:"background",width:30,height:40,linkWithCollision:!1,
visible:1,tilesetName:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/backgrounds/mobile/background.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:16,foreground:!1,data:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],[31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],[61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],[91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,
111,112,113,114,115,116,117,118,119,120],[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150],[151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180],[181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210],[211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,
235,236,237,238,239,240],[241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270],[271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300],[301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330],[331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,
359,360],[361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390],[391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420],[421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450],[451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480],[481,
482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510],[511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540],[541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570],[571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600],[601,602,603,604,605,
606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630],[631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660],[661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690],[691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720],[721,722,723,724,725,726,727,728,729,
730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750],[751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780],[781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810],[811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840],[841,842,843,844,845,846,847,848,849,850,851,852,853,
854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870],[871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900],[901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930],[931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960],[961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,
978,979,980,981,982,983,984,985,986,987,988,989,990],[991,992,993,994,995,996,997,998,999,1E3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020],[1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050],[1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080],[1081,
1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110],[1111,1112,1113,1114,1115,1116,1117,1118,1119,1120,1121,1122,1123,1124,1125,1126,1127,1128,1129,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140],[1141,1142,1143,1144,1145,1146,1147,1148,1149,1150,1151,1152,1153,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1168,1169,1170],[1171,1172,1173,1174,1175,1176,1177,1178,1179,1180,
1181,1182,1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1193,1194,1195,1196,1197,1198,1199,1200]]}]};LevelTestMobileResources=[new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/backgrounds/mobile/background.jpg")]});ig.baked=!0;
ig.module("game.entities.props.digging").requires("impact.entity").defines(function(){EntityDigging=ig.Entity.extend({zIndex:0,ignorePause:!0,size:{x:150,y:50},alpha:1,type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/digging.png",150,50),init:function(b,c,d){this.parent(b,c,d);!0==this.big?(this.setScale(1.5,1.5),this.addAnim("idle",0.05,[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,
100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,18,19,20,21,22,23,24,25,26,18,19,20,21,22,23,24,25,26,18,19,20,21,22,23,24,25,26,18,19,20,21,22,23,24,25,26,18,19,20,21,22,23,24,25,26,18,19,20,21,22,23,24,25,26,18,19,20,21,22,23,24,25,26,18,19,20,21,22,23,24,25,26,18,19,20,21,22,23,24,25,26,18,19,20,21,22,23,24,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26])):this.addAnim("idle",0.05,[0,1,2,3,
4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,18,19,20,21,22,23,24,25,26,18,19,20,21,22,23,24,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26]);this.addAnim("stop",0.15,[26])},update:function(){this.parent();ig.game.sortEntitiesDeferred();!0==this.big&&(this.currentAnim&&100>this.currentAnim.frame&&!this.playSound)&&(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.digging),this.playSound=!0);this.currentAnim.loopCount&&(this.currentAnim=this.anims.stop);this.currentAnim==
this.anims.stop&&(0.1<this.alpha?this.alpha-=0.02:this.kill());this.currentAnim.alpha=ig.game.paused?0:this.alpha;this.currentAnim&&(ig.game.paused?(this.currentAnim.timer.pause(),this.zIndex=0):this.currentAnim.timer.unpause())},check:function(b){b instanceof EntityDigging&&(this.zIndex==b.zIndex&&this.id>b.id)&&(this.zIndex-=5)}})});ig.baked=!0;
ig.module("game.entities.props.rabbit-head").requires("impact.entity","game.entities.props.digging").defines(function(){EntityRabbitHead=ig.Entity.extend({zIndex:200,size:{x:72,y:93},type:ig.Entity.TYPE.B,bodyX:72,bodyY:93,startY:93,diggingOut:0,shakeTimer:5,shakeStopTimer:6,head:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/rabbit-head.png"),init:function(b,c,d){this.parent(b,c,d);this.timer=new ig.Timer;ig.global.wm||(this.digging=ig.game.spawnEntity(EntityDigging,this.pos.x+this.size.x/
2-75+5,this.pos.y+this.size.y-30))},update:function(){this.parent();this.timer&&!this.digOut&&this.diggingOut<this.size.y-2?1<this.timer.delta()&&(this.diggingOut+=2):(this.diggingOut=this.size.y,this.zIndex=900,ig.game.sortEntitiesDeferred(),this.digOut=!0);!0==this.digOut&&!this.step1&&(this.startY>this.bodyY-10?(this.startY-=0.2,this.pos.y+=0.2):this.step2=this.step1=!0);!0==this.step2&&(this.startY<this.bodyY?(this.startY+=0.2,this.pos.y-=0.2):this.step2=this.step1=!1)},draw:function(){this.parent();
ig.system.context.drawImage(this.head.data,0,this.diggingOut,72,93,this.pos.x,this.pos.y,72,this.startY)}})});ig.baked=!0;
ig.module("game.entities.props.grass1").requires("impact.entity").defines(function(){EntityGrass1=ig.Entity.extend({zIndex:700,size:{x:75,y:125},type:ig.Entity.TYPE.B,bodyX:75,bodyY:125,shakeTimer:2,shakeStopTimer:3,grass:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/grass1.png"),init:function(b,c,d){this.parent(b,c,d);this.timer=new ig.Timer},update:function(){this.parent();this.timer&&this.timer.delta()>this.shakeTimer&&this.timer.delta()<this.shakeStopTimer?(this.step1||(100>this.bodyX?
(this.bodyX+=2,this.bodyY-=1,this.pos.y+=1,this.pos.x-=1):this.step2=this.step1=!0),this.step2&&(75<this.bodyX?(this.bodyX-=2,this.bodyY+=1,this.pos.y-=1,this.pos.x+=1):this.step2=this.step1=!1)):75<this.bodyX&&(this.bodyX-=2,this.bodyY+=1,this.pos.y-=1,this.pos.x+=1);this.timer&&this.timer.delta()>this.shakeStopTimer&&this.timer.reset()},draw:function(){this.parent();var b=ig.system.context;0<this.bodyX&&0<this.bodyY&&b.drawImage(this.grass.data,0,0,75,125,this.pos.x,this.pos.y,this.bodyX,this.bodyY)}})});
ig.baked=!0;
ig.module("game.entities.props.grass2").requires("impact.entity").defines(function(){EntityGrass2=ig.Entity.extend({zIndex:700,size:{x:55,y:119},type:ig.Entity.TYPE.B,bodyX:55,bodyY:119,shakeTimer:5,shakeStopTimer:6,grass:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/grass2.png"),init:function(b,c,d){this.parent(b,c,d);this.timer=new ig.Timer},update:function(){this.parent();this.timer&&this.timer.delta()>this.shakeTimer&&this.timer.delta()<this.shakeStopTimer?(this.step1||(80>this.bodyX?
(this.bodyX+=2,this.bodyY-=1,this.pos.y+=1,this.pos.x-=1):this.step2=this.step1=!0),this.step2&&(55<this.bodyX?(this.bodyX-=2,this.bodyY+=1,this.pos.y-=1,this.pos.x+=1):this.step2=this.step1=!1)):55<this.bodyX&&(this.bodyX-=2,this.bodyY+=1,this.pos.y-=1,this.pos.x+=1);this.timer&&this.timer.delta()>this.shakeStopTimer&&this.timer.reset()},draw:function(){this.parent();var b=ig.system.context;0<this.bodyX&&0<this.bodyY&&b.drawImage(this.grass.data,0,0,55,119,this.pos.x,this.pos.y,this.bodyX,this.bodyY)}})});
ig.baked=!0;
ig.module("game.entities.props.door").requires("impact.entity").defines(function(){EntityDoor=ig.Entity.extend({zIndex:2E3,size:{x:320,y:640},ignorePause:!0,animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/door.png",320,640),hold:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/door-hold.png"),home:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/btn-home.png"),reply:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/btn-return.png"),weapon:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/btn-weapon.png"),
play:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/btn-play.png"),sound:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/btn-sound.png"),soundAlpha:1,bar:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/bar.png"),init:function(b,c,d){this.parent(b,c,d);this.tweenTimer=new ig.Timer;this.different=ig.system.width/2-this.size.x;this.pointer=ig.game.getEntitiesByType(EntityPointer)[0];this.opened&&(ig.game.spawnEntity(EntityDoor2,150,ig.system.height-this.size.y,
{mother:this}),this.pos.x=-this.size.x,this.tweenClose());this.closed?(this.door2=ig.game.spawnEntity(EntityDoor2,ig.system.width/2,ig.system.height-this.size.y,{mother:this}),this.upgradeWeapon||(this.pos.x=this.different,1>=ig.game.level?this.tweenOpen():this.tweenOpenInGame())):ig.game.spawnEntity(EntityDoor2,ig.system.width/2,ig.system.height-this.size.y,{mother:this});this.addAnim("idle",1,[0]);this.pointer=ig.game.getEntitiesByType(EntityPointer)[0];if(this.lose){console.log("Checking for AdInGameEndgame ...");
"undefined"!=typeof AdInGameEndgame&&(console.log("AdInGameEndgame Initializing ..."),AdInGameEndgame.Initialize());console.log("Submitting to MarketJS Leaderboard: ",ig.game.killedZombie);"undefined"!=typeof MarketJS&&(console.log("Leaderboard SubmitScore ..."),MarketJS.Leaderboard.SubmitScore(ig.game.killedZombie));console.log("Injecting End Game API ...");try{console.log('enabled endgame api11');}catch(j){console.log(j.message)}}},update:function(){this.parent();ig.game.sortEntitiesDeferred();this.closed&&
(this.tweenTimer&&0.5<this.tweenTimer.delta()&&!this.isOpening)&&(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.tomb),this.isOpening=!0);this.soundAlpha=ig.soundHandler&&!1==ig.soundHandler.muted?1:0.5},tweenClose:function(){ig.soundHandler.playSound(ig.soundHandler.SOUNDID.tomb);this.tween({pos:{x:this.different}},0.7,{onComplete:function(){ig.soundHandler.playSound(ig.soundHandler.SOUNDID.doorClose);this.paused?this.pausedTweenComplete=!0:this.upgradeWeapon?(!0==this.levelPlus&&(ig.game.level+=
1),ig.game.director.jumpTo(LevelWeapon_desk)):this.backToHome?ig.ua.mobile?ig.game.director.jumpTo(LevelMenu_tablet):ig.game.director.jumpTo(LevelMenu_desk):this.lose?(this.complete=!0,ig.game.spawnEntity(EntityWords,ig.system.width/2-184,ig.system.height/2-200)):ig.ua.mobile?ig.game.director.jumpTo(LevelGame_tablet):ig.game.director.jumpTo(LevelGame_desk)}.bind(this),easing:ig.Tween.Easing.Circular.EaseOut,delay:0}).start()},tweenOpen:function(){this.tween({pos:{x:-this.size.x-150}},0.7,{onComplete:function(){this.paused&&
ig.game.paused&&(ig.game.paused=!ig.game.paused);this.kill()}.bind(this),easing:ig.Tween.Easing.Circular.EaseIn,delay:0.5}).start()},tweenOpenInGame:function(){this.tween({pos:{x:-this.size.x-150}},0.7,{onComplete:function(){this.paused&&ig.game.paused&&(ig.game.paused=!ig.game.paused);this.kill()}.bind(this),easing:ig.Tween.Easing.Circular.EaseIn,delay:1}).start()},tweenOpenWhenPaused:function(){ig.soundHandler.playSound(ig.soundHandler.SOUNDID.tomb);this.tween({pos:{x:-this.size.x-150}},0.7,{onComplete:function(){this.paused&&
ig.game.paused&&(ig.game.paused=!ig.game.paused);this.kill()}.bind(this),easing:ig.Tween.Easing.Circular.EaseIn,delay:0}).start()},draw:function(){this.parent();this.hold.draw(this.pos.x+this.size.x-68,this.pos.y+this.size.y/2-67.5);this.drawPaused();if(this.lose&&this.complete){this.bar.draw(ig.system.width/2-this.bar.width/2,ig.system.height/2-this.bar.height/2);this.home.draw(ig.system.width/2-this.home.width/2,ig.system.height-200);this.weapon.draw(ig.system.width/2-230,ig.system.height-200);
this.reply.draw(ig.system.width/2+this.home.width,ig.system.height-200);ig.system.context.save();ig.system.context.font="30px cloudy";ig.system.context.fillStyle="#7FFF00";ig.system.context.textAlign="center";var b=ig.system.width/2,c=ig.system.height/2-20;ig.system.context.fillText("Points : "+ig.game.killedZombie,b,c);ig.system.context.restore();this.saved||(this.saved=!0);ig.system.context.save();ig.system.context.font="30px cloudy";ig.system.context.fillStyle="#FFD700";ig.system.context.textAlign=
"center";b=ig.system.width/2;c=ig.system.height/2+40;ig.game.localStorageSupport?ig.system.context.fillText("Total : "+ig.game.storage.get("SD-RabbitPoints :"),b,c):(console.log("doesnt support local storage"),ig.system.context.fillText("Total : "+ig.game.savingVariable.RabbitPoints,b,c));ig.system.context.restore();ig.ua.mobile?ig.input.pressed("click")&&(5<=this.pointer.pos.x&&(100>=this.pointer.pos.x&&435<=this.pointer.pos.y)&&(ig.game.killedZombie=0,ig.game.director.jumpTo(LevelWeapon_desk),ig.soundHandler.playSound(ig.soundHandler.SOUNDID.click)),
180<=this.pointer.pos.x&&(268>=this.pointer.pos.x&&435<=this.pointer.pos.y)&&(ig.game.killedZombie=0,ig.game.life=3,ig.game.level=1,ig.game.bulletType=0,ig.game.director.jumpTo(LevelMenu_tablet),ig.soundHandler.playSound(ig.soundHandler.SOUNDID.click)),349<=this.pointer.pos.x&&(436>=this.pointer.pos.x&&435<=this.pointer.pos.y)&&(ig.game.continueLevel=!1,ig.game.killedZombie=0,ig.game.life=3,ig.game.level=1,ig.game.bulletType=0,ig.ua.mobile?ig.game.director.jumpTo(LevelGame_tablet):ig.game.director.jumpTo(LevelGame_desk),
ig.soundHandler.playSound(ig.soundHandler.SOUNDID.click))):ig.input.pressed("click")&&(91<=this.pointer.pos.x&&(178>=this.pointer.pos.x&&this.pointer.pos.y>=ig.system.height-200)&&(ig.game.killedZombie=0,ig.game.director.jumpTo(LevelWeapon_desk),ig.soundHandler.playSound(ig.soundHandler.SOUNDID.click)),258<=this.pointer.pos.x&&(349>=this.pointer.pos.x&&this.pointer.pos.y>=ig.system.height-200)&&(ig.game.life=3,ig.game.level=1,ig.game.bulletType=0,ig.game.killedZombie=0,ig.ua.mobile?ig.game.director.jumpTo(LevelMenu_tablet):
ig.game.director.jumpTo(LevelMenu_desk),ig.soundHandler.playSound(ig.soundHandler.SOUNDID.click)),427<=this.pointer.pos.x&&(518>=this.pointer.pos.x&&this.pointer.pos.y>=ig.system.height-200)&&(ig.game.continueLevel=!1,ig.game.killedZombie=0,ig.game.life=3,ig.game.level=1,ig.game.bulletType=0,ig.ua.mobile?ig.game.director.jumpTo(LevelGame_tablet):ig.game.director.jumpTo(LevelGame_desk),ig.soundHandler.playSound(ig.soundHandler.SOUNDID.click)))}!0==ig.game.continueLevel&&(ig.system.context.save(),ig.system.context.font=
"40px cloudy",ig.system.context.fillStyle="#666666",ig.system.context.textAlign="center",b=ig.system.width/2+5,c=ig.system.height/2+150,99>ig.game.level?this.opened?ig.system.context.fillText("Wave  "+ig.game.level+" cleared",b,c):ig.system.context.fillText("Wave  "+(ig.game.level-1)+" cleared",b,c):ig.system.context.fillText("All wave cleared",b,c-370),ig.system.context.restore(),ig.system.context.save(),ig.system.context.font="40px cloudy",ig.system.context.fillStyle="#FFCC66",ig.system.context.textAlign=
"center",b=ig.system.width/2,c=ig.system.height/2+145,99>ig.game.level?this.opened?ig.system.context.fillText("Wave  "+ig.game.level+" cleared",b,c):ig.system.context.fillText("Wave  "+(ig.game.level-1)+" cleared",b,c):ig.system.context.fillText("All wave cleared",b,c-370),ig.system.context.restore())},drawPaused:function(){this.pausedTweenComplete&&(this.play.draw(ig.system.width/2-this.play.width/2,ig.system.height/2),this.home.draw(ig.system.width-this.home.width-10,ig.system.height-110),ig.system.context.save(),
ig.system.context.globalAlpha=this.soundAlpha,ig.system.context.drawImage(this.sound.data,0,this.sound.height/2,this.sound.width,this.sound.height/2,10,ig.system.height-110,this.sound.width,this.sound.height/2),ig.system.context.restore(),ig.input.pressed("click")&&(this.pointer.pos.x>ig.system.width/2-this.play.width/2&&(this.pointer.pos.x<ig.system.width/2-this.play.width/2+this.play.width&&this.pointer.pos.y>ig.system.height/2&&this.pointer.pos.y<ig.system.height/2+this.play.height)&&(this.pausedTweenComplete=
!1,ig.game.getEntitiesByType(EntityDoor2)[0].tweenOpenWhenPaused(),this.tweenOpenWhenPaused()),this.pointer.pos.x>ig.system.width-this.home.width-10&&this.pointer.pos.y>ig.system.height-110&&(ig.game.paused&&(ig.game.paused=!ig.game.paused),ig.game.killedZombie=0,ig.game.life=3,ig.game.level=1,ig.game.bulletType=0,ig.ua.mobile?ig.game.director.jumpTo(LevelMenu_tablet):ig.game.director.jumpTo(LevelMenu_desk)),this.pointer.pos.x<10+this.sound.width&&this.pointer.pos.y>ig.system.height-110&&(!1==ig.soundHandler.muted?
ig.soundHandler.mute():ig.soundHandler.unmute())))}});EntityDoor2=ig.Entity.extend({zIndex:1900,size:{x:320,y:640},ignorePause:!0,animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/door.png",320,640),init:function(b,c,d){this.parent(b,c,d);0<ig.game.getEntitiesByType(EntityDoor2).length&&this.kill();this.mother.opened&&(this.pos.x=ig.system.width,this.tweenClose());this.mother.closed&&!this.mother.upgradeWeapon&&(this.pos.x=ig.system.width/2,1>=ig.game.level?this.tweenOpen():
this.tweenOpenInGame());this.addAnim("idle",1,[0])},update:function(){this.parent()},tweenClose:function(){this.tween({pos:{x:ig.system.width/2}},0.7,{onComplete:function(){}.bind(this),easing:ig.Tween.Easing.Circular.EaseOut,delay:0}).start()},tweenOpen:function(){this.tween({pos:{x:ig.system.width+150}},0.7,{onComplete:function(){this.kill()}.bind(this),easing:ig.Tween.Easing.Circular.EaseIn,delay:0.5}).start()},tweenOpenInGame:function(){this.tween({pos:{x:ig.system.width+150}},0.7,{onComplete:function(){this.kill()}.bind(this),
easing:ig.Tween.Easing.Circular.EaseIn,delay:1}).start()},tweenOpenWhenPaused:function(){this.tween({pos:{x:ig.system.width+150}},0.7,{onComplete:function(){this.kill()}.bind(this),easing:ig.Tween.Easing.Circular.EaseIn,delay:0}).start()}})});ig.baked=!0;
ig.module("game.entities.buttons.btn-play").requires("impact.entity","game.entities.props.digging","game.entities.props.door").defines(function(){EntityBtnPlay=ig.Entity.extend({zIndex:700,size:{x:147,y:103},type:ig.Entity.TYPE.B,bodyY:0,play:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/btn-play.png"),init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(ig.game.spawnEntity(EntityDoor,ig.system.width/2,ig.system.height-640,{closed:!0}),this.digging=ig.game.spawnEntity(EntityDigging,
this.pos.x+this.size.x/2-75-5,this.pos.y+this.size.y-25),this.timer=new ig.Timer)},update:function(){this.parent();0==ig.game.getEntitiesByType(EntityPointer).length&&(this.pointer=ig.game.spawnEntity(EntityPointer,0,0));this.timer&&1<this.timer.delta()&&(this.bodyY=ig.ua.mobile?this.bodyY<this.size.y-4?this.bodyY+4:this.size.y:this.bodyY<this.size.y-2?this.bodyY+2:this.size.y)},clicked:function(){!(0<ig.game.getEntitiesByType(EntityDoor).length)&&(0<=this.bodyY&&0==ig.game.getEntitiesByType(EntityDoor).length)&&
(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.click),ig.game.spawnEntity(EntityDoor,-500,ig.system.height-640,{opened:!0}))},released:function(){},draw:function(){this.parent();ig.system.context.drawImage(this.play.data,0,this.bodyY,this.size.x,this.size.y,this.pos.x,this.pos.y,this.size.x,this.size.y)}})});ig.baked=!0;
ig.module("game.entities.buttons.btn-sound").requires("impact.entity","game.entities.props.digging").defines(function(){EntityBtnSound=ig.Entity.extend({zIndex:700,size:{x:103,y:103},type:ig.Entity.TYPE.B,bodyY:0,btnAlpha:1,play:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/btn-sound.png"),init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(this.digging=ig.game.spawnEntity(EntityDigging,this.pos.x+this.size.x/2-75-5,this.pos.y+this.size.y-25));this.timer=new ig.Timer},update:function(){this.parent();
this.timer&&1<this.timer.delta()&&(this.bodyY=ig.ua.mobile?this.bodyY<this.size.y-4?this.bodyY+4:this.size.y:this.bodyY<this.size.y-2?this.bodyY+2:this.size.y);this.btnAlpha=!1==ig.soundHandler.muted?1:0.5},draw:function(){this.parent();var b=ig.system.context;b.save();b.globalAlpha=this.btnAlpha;b.drawImage(this.play.data,0,this.bodyY,this.size.x,this.size.y,this.pos.x,this.pos.y,this.size.x,this.size.y);b.restore();ig.global.wm||(this.pointer=ig.game.getEntitiesByType(EntityPointer)[0]);ig.input.pressed("click")&&
this.pointer&&this.pointer.pos.x>this.pos.x&&(this.pointer.pos.x<this.pos.x+this.size.x&&this.pointer.pos.y>this.pos.y&&this.pointer.pos.y<this.pos.y+this.size.y)&&this.click()},click:function(){1==this.btnAlpha?ig.soundHandler.mute():0.5==this.btnAlpha&&ig.soundHandler.unmute()},released:function(){}})});ig.baked=!0;
ig.module("game.entities.buttons.btn-info").requires("impact.entity","game.entities.props.digging").defines(function(){EntityBtnInfo=ig.Entity.extend({zIndex:700,size:{x:103,y:103},type:ig.Entity.TYPE.B,bodyY:0,info:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/btn-info.png"),init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(ig.game.localStorageSupport?ig.game.storage.isSet("SD-Weapon0Amount :")?this.digging=ig.game.spawnEntity(EntityDigging,this.pos.x+this.size.x/2-75-5,this.pos.y+
this.size.y-25):this.kill():ig.game.tutorial?this.kill():this.digging=ig.game.spawnEntity(EntityDigging,this.pos.x+this.size.x/2-75-5,this.pos.y+this.size.y-25));this.timer=new ig.Timer},update:function(){this.parent();this.timer&&1<this.timer.delta()&&(this.bodyY=this.bodyY<this.size.y-6?this.bodyY+2:this.size.y-6)},draw:function(){this.parent();ig.system.context.drawImage(this.info.data,0,this.bodyY,this.size.x,this.size.y,this.pos.x,this.pos.y,this.size.x,this.size.y)},clicked:function(){0<ig.game.getEntitiesByType(EntityDoor).length||
(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.click),ig.game.spawnEntity(EntityDoor,-500,ig.system.height-640,{opened:!0,upgradeWeapon:!0}))}})});ig.baked=!0;
ig.module("game.entities.buttons.btn-more-games").requires("impact.entity").defines(function(){EntityBtnMoreGames=ig.Entity.extend({zIndex:700,size:{x:156,y:96},type:ig.Entity.TYPE.B,animation:!0,animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/more-games.png",156,96),init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);"undefined"==typeof wm&&(_SETTINGS.MoreGames.Enabled?this.checkClickableLayer(d.div_layer_name?d.div_layer_name:"more-games",_SETTINGS.MoreGames.Link,
_SETTINGS.MoreGames.NewWindow):this.kill())},ready:function(){this.spawnDiv()},spawnDiv:function(){this.canSpawnDiv||(this.canSpawnDiv=!0,_SETTINGS.MoreGames.Enabled?this.checkClickableLayer(this.divLayerName?this.divLayerName:"more-games",_SETTINGS.MoreGames.Link,!0):this.kill())},doesClickableLayerExist:function(b){for(k in dynamicClickableEntityDivs)if(k==b)return!0;return!1},checkClickableLayer:function(b,c,d){"undefined"==typeof wm&&(this.doesClickableLayerExist(b)?(ig.game.showOverlay([b]),
$("#"+b).find("[href]").attr("href",c)):this.createClickableOutboundLayer(b,c,"../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/misc/invisible.png",d))},createClickableOutboundLayer:function(b,c,d,j){var f=ig.$new("div");f.id=b;document.body.appendChild(f);$("#"+f.id).css("float","left");$("#"+f.id).css("position","absolute");if(ig.ua.mobile){var n=window.innerHeight/mobileHeight,t=window.innerWidth/mobileWidth;$("#"+f.id).css("left",this.pos.x*t);$("#"+f.id).css("top",this.pos.y*n);$("#"+f.id).css("width",
this.size.x*t);$("#"+f.id).css("height",this.size.y*n)}else n=document.getElementById("game").offsetLeft,t=document.getElementById("game").offsetTop,$("#"+f.id).css("left",n+this.pos.x*multiplier),$("#"+f.id).css("top",t+this.pos.y*multiplier),$("#"+f.id).css("width",this.size.x*multiplier),$("#"+f.id).css("height",this.size.y*multiplier);j?$("#"+f.id).html("<a target='_blank' href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>"):$("#"+f.id).html("<a href='"+c+"'><img style='width:100%;height:100%' src='"+
d+"'></a>");dynamicClickableEntityDivs[b]={};dynamicClickableEntityDivs[b].width=this.size.x*multiplier;dynamicClickableEntityDivs[b].height=this.size.y*multiplier;dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y},update:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.props.title").requires("impact.entity").defines(function(){this.START_WHITELABEL_ENCAPSULATOR;
	EntityTitle = ig.Entity.extend({
		zIndex: 900,
		size: {
			x: 219,
			y: 214
		},
		sizeX: 346,
		sizeY: 133,
		bodyY: 0,
		type: ig.Entity.TYPE.B,
		title: new ig.Image('../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/title.png'),
		zombie: new ig.Image('../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/title-zombie.png'),
		init: function(x, y, settings) {
			this.parent(x, y, settings);
			if(!ig.global.wm) {
				this.tweenIN();
			}
		},
		update: function() {
			this.parent();
		},
		tweenIN: function() {
			this.tween({
					pos: {
						y: 200
					}
				}, 1.5 // time to tween
				, {
					onComplete: function() {
						this.tweenComplete = true;
					}.bind(this),
					easing: ig.Tween.Easing.Circular.EaseOut,
					delay: 0,
				}).start();
		},
		draw: function() {
			this.parent();
			this.title.draw(this.pos.x, this.pos.y);
			var ctx = ig.system.context;
			if(this.tweenComplete) {
				if(!this.complete) {
					if(this.bodyY < this.sizeY) {
						this.bodyY += 2;
					} else {
						this.complete = true;
						this.step1 = true;
					}
				}
				if(this.step1) {
					if(this.bodyY < this.sizeY + 20) {
						this.pos.y -= 0.2;
						this.bodyY += 0.5;
					} else {
						this.step1 = false;
						this.step2 = true;
					}
				}
				if(this.step2) {
					if(this.bodyY > this.sizeY) {
						this.pos.y += 0.2;
						this.bodyY -= 0.5;
					} else {
						this.step2 = false;
						this.step1 = true;
					}
				}
				/*ctx.drawImage(this.zombie.data
				,0
				,0
				,this.sizeX
				,this.sizeY
				,this.pos.x-55
				,this.pos.y+60
				,this.sizeX
				,this.bodyY)*/
			}
		},
	});
	this.END_WHITELABEL_ENCAPSULATOR;});ig.baked=!0;
ig.module("game.levels.menu_desk").requires("impact.image","game.entities.props.rabbit-head","game.entities.props.grass1","game.entities.props.grass2","game.entities.buttons.btn-play","game.entities.buttons.btn-sound","game.entities.buttons.btn-info","game.entities.buttons.btn-more-games","game.entities.props.title").defines(function(){LevelMenu_desk={entities:[{type:"EntityRabbitHead",x:416,y:104},{type:"EntityGrass1",x:565,y:500},{type:"EntityGrass2",x:0,y:380},{type:"EntityBtnPlay",x:250,y:476},
{type:"EntityBtnSound",x:16,y:12},{type:"EntityBtnInfo",x:528,y:8},{type:"EntityBtnMoreGames",x:12,y:532},{type:"EntityTitle",x:100,y:-250}],layer:[{name:"menu_desktop",width:20,height:20,linkWithCollision:!1,visible:1,tilesetName:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/background/background-desk.png",repeat:!1,preRender:!0,distance:"1",tilesize:32,foreground:!1,data:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],[21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],[41,42,43,44,
45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],[61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],[81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],[101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140],[141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160],[161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180],
[181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200],[201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220],[221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240],[241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260],[261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280],[281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300],[301,302,
303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320],[321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340],[341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360],[361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380],[381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400]]}]};LevelMenu_deskResources=[new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/background/background-desk.png")]});
ig.baked=!0;
ig.module("game.levels.menu_tablet").requires("impact.image","game.entities.props.rabbit-head","game.entities.buttons.btn-more-games","game.entities.buttons.btn-sound","game.entities.buttons.btn-info","game.entities.props.grass1","game.entities.props.grass2","game.entities.buttons.btn-play","game.entities.props.title").defines(function(){LevelMenu_tablet={entities:[{type:"EntityRabbitHead",x:282,y:110},{type:"EntityBtnMoreGames",x:8,y:532},{type:"EntityBtnSound",x:8,y:12},{type:"EntityBtnInfo",x:368,
y:8},{type:"EntityGrass1",x:412,y:492},{type:"EntityGrass2",x:-12,y:288},{type:"EntityBtnPlay",x:172,y:456},{type:"EntityTitle",x:20,y:-232}],layer:[{name:"menu_tablet",width:15,height:20,linkWithCollision:!1,visible:1,tilesetName:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/background/background-tablet.png",repeat:!1,preRender:!0,distance:"1",tilesize:32,foreground:!1,data:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],[31,32,33,34,35,36,37,38,39,40,41,42,43,
44,45],[46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],[61,62,63,64,65,66,67,68,69,70,71,72,73,74,75],[76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],[91,92,93,94,95,96,97,98,99,100,101,102,103,104,105],[106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135],[136,137,138,139,140,141,142,143,144,145,146,147,148,149,150],[151,152,153,154,155,156,157,158,159,160,161,162,163,164,165],[166,167,168,169,170,171,172,173,174,175,176,177,178,
179,180],[181,182,183,184,185,186,187,188,189,190,191,192,193,194,195],[196,197,198,199,200,201,202,203,204,205,206,207,208,209,210],[211,212,213,214,215,216,217,218,219,220,221,222,223,224,225],[226,227,228,229,230,231,232,233,234,235,236,237,238,239,240],[241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],[256,257,258,259,260,261,262,263,264,265,266,267,268,269,270],[271,272,273,274,275,276,277,278,279,280,281,282,283,284,285],[286,287,288,289,290,291,292,293,294,295,296,297,298,299,300]]}]};
LevelMenu_tabletResources=[new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/background/background-tablet.png")]});ig.baked=!0;
ig.module("game.entities.common.powerups").requires("impact.entity").defines(function(){EntityPowerups=ig.Entity.extend({size:{x:69,y:69},zIndex:200,gridSize:80,type:ig.Entity.TYPE.A,checkAgainst:ig.Entity.TYPE.A,bulletType:0,itemAlpha:1,ignorePause:!0,animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/bullets.png",69,69),init:function(b,c,d){this.parent(b,c,d);this.control=ig.game.getEntitiesByType(EntityGameControl)[0];this.zIndex=this.zombies.zIndex+20;this.timer=
new ig.Timer;this.tweenUP()},update:function(){this.parent();this.control.waveRest&&(this.zIndex=this.control.zIndex-1);!0==this.mother.mother.tutorial?(this.addAnim("idle",1,[2]),this.addAnim("waiting",0.5,[2,3]),this.addAnim("disappear",1,[3]),this.bulletType=1):this.setType();this.checkTimer()},tweenUP:function(){this.tween({pos:{y:this.pos.y-60}},0.3,{onComplete:function(){this.tweenDOWN()}.bind(this),easing:ig.Tween.Easing.Circular.EaseOut,delay:0}).start()},tweenDOWN:function(){this.tween({pos:{y:this.pos.y+
80}},0.5,{onComplete:function(){this.tweenCompleted=!0}.bind(this),easing:ig.Tween.Easing.Circular.EaseIn,delay:0}).start()},checkTimer:function(){!0!=this.mother.mother.tutorial&&this.currentAnim&&(this.timer&&(4<this.timer.delta()&&this.currentAnim==this.anims.idle)&&(this.currentAnim=this.anims.waiting),this.timer&&7<this.timer.delta()&&(this.currentAnim=this.anims.disappear,this.itemAlpha-=0.01),this.currentAnim.alpha=this.itemAlpha,0.01>=this.itemAlpha&&this.kill(),ig.game.paused&&this.timer?
this.timer.pause():this.timer.unpause())},setType:function(){if(!this.currentAnim)switch(this.bulletType=Math.floor(7*Math.random()),this.bulletType){case 1:this.addAnim("idle",1,[2]);this.addAnim("waiting",0.5,[2,3]);this.addAnim("disappear",1,[3]);break;case 2:if(ig.game.localStorageSupport){if(0>=ig.game.storage.get("SD-Weapon2Amount :"))break}else if(console.log("not support storage powerups"),0>=ig.game.savingVariable.Weapon2Amount)break;this.addAnim("idle",1,[4]);this.addAnim("waiting",0.5,
[4,5]);this.addAnim("disappear",1,[5]);break;case 3:if(ig.game.localStorageSupport){if(0>=ig.game.storage.get("SD-Weapon3Amount :"))break}else if(console.log("not support storage powerups"),0>=ig.game.savingVariable.Weapon3Amount)break;this.addAnim("idle",1,[6]);this.addAnim("waiting",0.5,[6,7]);this.addAnim("disappear",1,[7]);break;case 4:if(ig.game.localStorageSupport){if(0>=ig.game.storage.get("SD-Weapon4Amount :"))break}else if(console.log("not support storage powerups"),0>=ig.game.savingVariable.Weapon4Amount)break;
this.addAnim("idle",1,[8]);this.addAnim("waiting",0.5,[8,9]);this.addAnim("disappear",1,[9]);break;case 5:if(ig.game.localStorageSupport){if(0>=ig.game.storage.get("SD-Weapon5Amount :"))break}else if(console.log("not support storage powerups"),0>=ig.game.savingVariable.Weapon5Amount)break;this.addAnim("idle",1,[10]);this.addAnim("waiting",0.5,[10,11]);this.addAnim("disappear",1,[11]);break;case 6:if(ig.game.localStorageSupport){if(0>=ig.game.storage.get("SD-Weapon6Amount :"))break}else if(console.log("not support storage powerups"),
0>=ig.game.savingVariable.Weapon6Amount)break;this.addAnim("idle",1,[12]);this.addAnim("waiting",0.5,[12,13]);this.addAnim("disappear",1,[13]);break;case 0:switch(Math.floor(2*Math.random())){case 1:this.addAnim("idle",1,[14]),this.addAnim("waiting",0.5,[14,15]),this.addAnim("disappear",1,[15])}}},check:function(b){b instanceof EntityPowerups&&(this.zIndex==b.zIndex&&this.id>b.id)&&(this.zIndex-=5);if(this.tweenCompleted&&(b instanceof EntityBullets||b instanceof EntityTennis))ig.soundHandler.playSound(ig.soundHandler.SOUNDID.reload),
!0==this.mother.mother.tutorial&&(this.mother.mother.tutorialBar.startFont=0,this.mother.mother.tutorialStage+=1),0==this.bulletType?ig.game.life+=1:(this.mother.actualAmount[this.bulletType]=this.mother.initAmount[this.bulletType],this.mother.bulletType=this.bulletType),this.mother.bullet&&(this.mother.bullet.kill(),this.mother.bullet=null),this.kill()},draw:function(){var b=ig.system.context;this.currentAnim!=this.anims.disappear&&(b.save(),b.fillStyle="rgba(255,255,255,1.0)",b.fillRect(this.pos.x+
5,this.pos.y,this.size.x-10,this.size.y),b.restore(),this.parent())}})});ig.baked=!0;
ig.module("game.entities.characters.pink").requires("impact.entity","game.entities.props.digging","game.entities.common.powerups").defines(function(){EntityPink=ig.Entity.extend({zIndex:20,size:{x:70,y:90},bodysize:{x:176,y:167},type:ig.Entity.TYPE.B,spreadSheet:0,digOutDistance:0,duration:0.3,strength:10,zombiesAlpha:1,animationSpeed:0.1,slowTimeTimer:0,collides:ig.Entity.COLLIDES.PASSIVE,checkAgainst:ig.Entity.TYPE.B,movingSpeed:5,pushDistance:0,life:6,pink:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/pink_walk.png"),
purple:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/purple_walk.png"),init:function(b,c,d){10>ig.game.level?this.isPink=!0:this.isPurple=!0;this.parent(b,c,d);19<ig.game.level&&29>ig.game.level?(this.animationSpeed=0.09,this.movingSpeed+=1):29<ig.game.level&&39>ig.game.level?(this.animationSpeed=0.07,this.movingSpeed+=2):39<ig.game.level&&(this.animationSpeed=0.05,this.movingSpeed+=3);this.digOutDistance=this.regenerate?this.bodysize.y:-this.bodysize.y;!ig.global.wm&&!this.regenerate&&
(this.digging=ig.game.spawnEntity(EntityDigging,this.pos.x+this.bodysize.x/2-130,this.pos.y+this.bodysize.y-80,{mother:this}));this.timer=new ig.Timer},ready:function(){this.parent()},update:function(){this.parent();this.shock();this.slowDownFunction();this.pushedBack&&(5>this.pushDistance?this.pushDistance+=1:(this.pushedBack=!1,this.pushDistance=0),this.pos.y-=this.pushDistance);this.mother&&!0==this.mother.tutorial&&8!=this.mother.tutorialStage&&14!=this.mother.tutorialStage&&15!=this.mother.tutorialStage?
(this.movingSpeed=0,this.animationSpeed=200):this.mother&&!0==this.mother.tutorial&&14==this.mother.tutorialStage||this.mother&&8==this.mother.tutorialStage?this.movingSpeed=0:this.slowDown?(this.animationSpeed=0.2,this.movingSpeed=2):19<ig.game.level&&29>ig.game.level?(this.animationSpeed=0.09,this.movingSpeed=6):29<ig.game.level&&39>ig.game.level?(this.animationSpeed=0.07,this.movingSpeed=7):39<ig.game.level?(this.animationSpeed=0.05,this.movingSpeed=8):(this.animationSpeed=0.1,this.movingSpeed=
5);this.zIndex=this.pos.y+this.bodysize.y;ig.game.sortEntitiesDeferred();this.timer&&(this.timer.delta()>this.animationSpeed&&this.digOut)&&(this.spreadSheet+=1,this.timer.reset(),5<this.spreadSheet&&8>this.spreadSheet&&(this.pos.y<ig.system.height-200?(this.pos.y+=this.movingSpeed,this.pos.x+=3):(this.isPink?ig.game.spawnEntity(EntityPinkDeath,this.pos.x-this.bodysize.x/2,this.pos.y-50,{mother:this}):ig.game.spawnEntity(EntityPurpleDeath,this.pos.x-this.bodysize.x/2,this.pos.y-50,{mother:this,isPurple:!0}),
this.mother&&this.mother.stage!=this.mother.stages.LOSE&&(ig.game.spawnEntity(EntityShock,0,0),ig.game.life-=1,ig.game.crashPlay=!1,ig.game.crashSound(),ig.game.hittedSound()),this.kill())),13<this.spreadSheet&&16>this.spreadSheet&&(this.pos.y<ig.system.height-200?(this.pos.y+=this.movingSpeed,this.pos.x-=3):(this.isPink?ig.game.spawnEntity(EntityPinkDeath,this.pos.x-this.bodysize.x/2,this.pos.y-50,{mother:this}):ig.game.spawnEntity(EntityPurpleDeath,this.pos.x-this.bodysize.x/2,this.pos.y-50,{mother:this,
isPurple:!0}),this.mother&&this.mother.stage!=this.mother.stages.LOSE&&(ig.game.spawnEntity(EntityShock,0,0),ig.game.life-=1,ig.game.crashPlay=!1,ig.game.crashSound(),ig.game.hittedSound()),this.kill())),16<this.spreadSheet&&(this.spreadSheet=0));this.timer&&(0<this.timer.delta()&&!this.digOut)&&(ig.ua.mobile?this.digOutDistance<this.bodysize.y-4?this.digOutDistance+=4:(this.mother&&!0==this.mother.tutorial&&5==this.mother.tutorialStage&&(this.mother.tutorialBar.startFont=0,this.mother.tutorialStage+=
1),this.digOutDistance=this.bodysize.y,this.digOut=!0):this.digOutDistance<this.bodysize.y-2?this.digOutDistance+=2:(this.mother&&!0==this.mother.tutorial&&5==this.mother.tutorialStage&&(this.mother.tutorialBar.startFont=0,this.mother.tutorialStage+=1),this.digOutDistance=this.bodysize.y,this.digOut=!0));this.pos.y>ig.system.height&&this.kill();if(0>=this.life){if(this.mother&&!0==this.mother.tutorial)this.mother.tutorialBar.startFont=0,this.mother.tutorialStage+=1,ig.game.spawnEntity(EntityPinkDeath,
this.pos.x-this.bodysize.x/2,this.pos.y-50,{mother:this}),this.spawnpowerups||(this.spawnpowerups=Math.floor(10*Math.random()),ig.game.spawnEntity(EntityPowerups,this.pos.x-this.bodysize.x/2-34.5,this.pos.y+80,{zombies:this,mother:ig.game.getEntitiesByType(EntityRabbit)[0]}));else if(ig.game.killedZombie+=1,this.mother&&(this.mother.killedZombie+=1),this.isPink?ig.game.spawnEntity(EntityPinkDeath,this.pos.x-this.bodysize.x/2,this.pos.y-50,{mother:this}):ig.game.spawnEntity(EntityPurpleDeath,this.pos.x-
this.bodysize.x/2,this.pos.y-50,{mother:this,isPurple:!0}),!this.spawnpowerups)switch(this.spawnpowerups=Math.floor(10*Math.random()),this.spawnpowerups){case 7:case 8:case 9:ig.game.spawnEntity(EntityPowerups,this.pos.x+this.bodysize.x/2-80,this.pos.y+50,{zombies:this,mother:ig.game.getEntitiesByType(EntityRabbit)[0]})}ig.game.crashPlay=!1;ig.game.crashSound();this.kill()}this.hitted&&(this.mother&&(!0==this.mother.tutorial&&14==this.mother.tutorialStage)&&(this.mother.tutorialBar.startFont=0,this.mother.tutorialStage+=
1),(this.stopShake=!1)||this.initShock(),this.isPink?ig.game.spawnEntity(EntityPinkHit,this.pos.x-this.bodysize.x/2,this.pos.y-20,{mother:this}):ig.game.spawnEntity(EntityPurpleHit,this.pos.x-this.bodysize.x/2,this.pos.y-20,{mother:this,isPurple:!0}),this.hitted=!1)},slowDownFunction:function(){this.slowDown&&(this.animationSpeed=0.2,this.movingSpeed=2,this.increase?0.95>this.zombiesAlpha?this.zombiesAlpha+=0.01:(this.slowTimeTimer+=1,this.increase=!1):0.85<this.zombiesAlpha?this.zombiesAlpha-=0.01:
(this.slowTimeTimer+=1,this.increase=!0),50<this.slowTimeTimer&&(this.animationSpeed=0.1,this.movingSpeed=5,this.zombiesAlpha=1,this.slowTimeTimer=0,this.slowDown=!1))},draw:function(){this.parent();if(0<this.digOutDistance+this.bodysize.y*this.spreadSheet){var b=ig.system.context;b.save();b.globalAlpha=this.zombiesAlpha;this.isPink?b.drawImage(this.pink.data,0,this.digOutDistance+this.bodysize.y*this.spreadSheet,this.pink.width,167,this.pos.x-this.bodysize.x/2+20,this.pos.y-50,this.pink.width,167):
b.drawImage(this.purple.data,0,this.digOutDistance+this.bodysize.y*this.spreadSheet,this.purple.width,167,this.pos.x-this.bodysize.x/2+20,this.pos.y-50,this.pink.width,167);b.restore()}},initShock:function(){this.shockTimer=new ig.Timer;this.shockTimer.set(this.duration)},resetShock:function(){this.stopShake=!0},shock:function(){if(this.shockTimer&&-0.2>this.shockTimer.delta()){var b=this.shockTimer.delta(),c=this.strength*Math.pow(-b/this.duration,2);0.5<c&&(this.pos.x+=Math.random().map(0,1,-c,
c),this.pos.y-=0.5)}-0.4<b&&(this.resetShock(),this.pos.x=this.pos.x,this.pos.y=this.pos.y)},check:function(b){if((b instanceof EntityPink||b instanceof EntityGreen||b instanceof EntityBoss)&&this.zIndex==b.zIndex&&this.id>b.id)this.zIndex-=5}});EntityPinkHit=ig.Entity.extend({zIndex:20,size:{x:201,y:135},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/pink_hit.png",201,135),purple:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/purple_hit.png",
201,135),init:function(b,c,d){this.parent(b,c,d);this.addAnim("hit",0.05,[0,1,2,3,4,5,6,7]);this.currentAnim=this.anims.hit.rewind();this.zIndex=this.mother.zIndex+10},update:function(){this.parent();this.currentAnim.loopCount&&this.kill()}});EntityPurpleHit=ig.Entity.extend({zIndex:20,size:{x:201,y:135},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/purple_hit.png",201,135),init:function(b,c,d){this.parent(b,c,d);this.addAnim("hit",0.05,[0,1,2,3,4,5,6,7]);
this.currentAnim=this.anims.hit.rewind();this.zIndex=this.mother.zIndex+10},update:function(){this.parent();this.currentAnim.loopCount&&this.kill()}});EntityPinkDeath=ig.Entity.extend({zIndex:20,size:{x:219,y:208},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/pink_death.png",219,208),init:function(b,c,d){this.parent(b,c,d);this.addAnim("hit",0.05,[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]);this.addAnim("idle",0.1,[24]);this.currentAnim=this.anims.hit.rewind();
this.zIndex=this.mother.zIndex},update:function(){this.parent();this.currentAnim.loopCount&&(this.currentAnim=this.anims.idle);this.currentAnim==this.anims.idle&&(0.05<this.currentAnim.alpha?this.currentAnim.alpha-=0.05:this.kill())}});EntityPurpleDeath=ig.Entity.extend({zIndex:20,size:{x:219,y:208},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/purple_death.png",219,208),init:function(b,c,d){this.parent(b,c,d);this.addAnim("hit",0.05,[3,4,5,6,7,8,9,10,11,12,
13,14,15,16,17,18,19,20,21,22,23,24]);this.addAnim("idle",0.1,[24]);this.addAnim("recover",0.05,[24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3]);this.currentAnim=this.anims.hit.rewind();this.zIndex=this.mother.zIndex},update:function(){this.parent();this.currentAnim==this.anims.hit&&this.currentAnim.loopCount&&(this.currentAnim=this.anims.idle);this.currentAnim==this.anims.recover&&this.currentAnim.loopCount&&(this.kill(),ig.game.spawnEntity(EntityPink,this.pos.x+88,this.pos.y+50,{regenerate:!0,
life:6,mother:ig.game.getEntitiesByType(EntityGameControl)[0]}));this.currentAnim==this.anims.idle&&(this.mother.regenerate?0.05<this.currentAnim.alpha?this.currentAnim.alpha-=0.05:this.kill():this.currentAnim=this.anims.recover.rewind())}})});ig.baked=!0;
ig.module("game.entities.characters.green").requires("impact.entity","game.entities.props.digging").defines(function(){EntityGreen=ig.Entity.extend({zIndex:20,size:{x:70,y:90},bodysize:{x:184,y:167},type:ig.Entity.TYPE.B,spreadSheet:0,digOutDistance:0,duration:0.3,strength:10,zombiesAlpha:1,animationSpeed:0.05,slowTimeTimer:0,collides:ig.Entity.COLLIDES.PASSIVE,checkAgainst:ig.Entity.TYPE.B,movingSpeed:8,life:4,green:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/green_walk.png"),
init:function(b,c,d){this.parent(b,c,d);this.digOutDistance=-this.bodysize.y;ig.global.wm||(this.digging=ig.game.spawnEntity(EntityDigging,this.pos.x+this.bodysize.x/2-130,this.pos.y+this.bodysize.y-75,{mother:this}));this.timer=new ig.Timer},update:function(){this.parent();this.shock();this.slowDownFunction();this.zIndex=this.pos.y+this.bodysize.y;ig.game.sortEntitiesDeferred();this.timer&&(this.timer.delta()>this.animationSpeed&&this.digOut)&&(this.spreadSheet+=1,this.timer.reset(),5<this.spreadSheet&&
8>this.spreadSheet&&(this.pos.y<ig.system.height-200?(this.pos.y+=this.movingSpeed,this.pos.x+=3):(ig.game.spawnEntity(EntityGreenDeath,this.pos.x-this.bodysize.x/2,this.pos.y-50,{mother:this}),this.mother.stage!=this.mother.stages.LOSE&&ig.game.spawnEntity(EntityShock,0,0),this.mother&&this.mother.stage!=this.mother.stages.LOSE&&(ig.game.life-=1,ig.game.crashPlay=!1,ig.game.crashSound(),ig.game.hittedSound()),this.kill())),13<this.spreadSheet&&16>this.spreadSheet&&(this.pos.y<ig.system.height-200?
(this.pos.y+=this.movingSpeed,this.pos.x-=3):(ig.game.spawnEntity(EntityGreenDeath,this.pos.x-this.bodysize.x/2,this.pos.y-50,{mother:this}),this.mother.stage!=this.mother.stages.LOSE&&ig.game.spawnEntity(EntityShock,0,0),ig.game.life-=1,ig.game.crashPlay=!1,ig.game.crashSound(),this.kill())),16<this.spreadSheet&&(this.spreadSheet=0));this.timer&&(0<this.timer.delta()&&!this.digOut)&&(ig.ua.mobile?this.digOutDistance<this.bodysize.y-4?this.digOutDistance+=4:(this.digOutDistance=this.bodysize.y,this.digOut=
!0):this.digOutDistance<this.bodysize.y-2?this.digOutDistance+=2:(this.digOutDistance=this.bodysize.y,this.digOut=!0));this.pos.y>ig.system.height&&this.kill();if(0>=this.life){ig.game.spawnEntity(EntityGreenDeath,this.pos.x-this.bodysize.x/2,this.pos.y-50,{mother:this});ig.game.killedZombie+=1;this.mother.killedZombie+=1;if(!this.spawnpowerups)switch(this.spawnpowerups=Math.floor(10*Math.random()),this.spawnpowerups){case 7:case 8:case 9:ig.game.spawnEntity(EntityPowerups,this.pos.x+this.bodysize.x/
2-80,this.pos.y+50,{zombies:this,mother:ig.game.getEntitiesByType(EntityRabbit)[0]})}ig.game.crashPlay=!1;ig.game.crashSound();this.kill()}this.hitted&&((this.stopShake=!1)||this.initShock(),ig.game.spawnEntity(EntityGreenHit,this.pos.x-this.bodysize.x/2,this.pos.y-20,{mother:this}),this.hitted=!1)},slowDownFunction:function(){this.slowDown&&(this.animationSpeed=0.2,this.movingSpeed=2,this.increase?0.95>this.zombiesAlpha?this.zombiesAlpha+=0.01:(this.slowTimeTimer+=1,this.increase=!1):0.85<this.zombiesAlpha?
this.zombiesAlpha-=0.01:(this.slowTimeTimer+=1,this.increase=!0),50<this.slowTimeTimer&&(this.animationSpeed=0.05,this.movingSpeed=5,this.zombiesAlpha=1,this.slowTimeTimer=0,this.slowDown=!1))},draw:function(){this.parent();var b=ig.system.context;b.save();b.globalAlpha=this.zombiesAlpha;0<this.digOutDistance+this.bodysize.y*this.spreadSheet&&(b.drawImage(this.green.data,0,this.digOutDistance+this.bodysize.y*this.spreadSheet,184,167,this.pos.x-this.bodysize.x/2+25,this.pos.y-50,184,167),b.restore())},
initShock:function(){this.shockTimer=new ig.Timer;this.shockTimer.set(this.duration)},resetShock:function(){this.stopShake=!0},shock:function(){if(this.shockTimer&&-0.2>this.shockTimer.delta()){var b=this.shockTimer.delta(),c=this.strength*Math.pow(-b/this.duration,2);0.5<c&&(this.pos.x+=Math.random().map(0,1,-c,c),this.pos.y-=0.5)}-0.4<b&&(this.resetShock(),this.pos.x=this.pos.x,this.pos.y=this.pos.y)},check:function(b){if((b instanceof EntityPink||b instanceof EntityGreen||b instanceof EntityBoss)&&
this.zIndex==b.zIndex&&this.id>b.id)this.zIndex-=5}});EntityGreenHit=ig.Entity.extend({zIndex:20,size:{x:201,y:135},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/green_hit.png",201,135),init:function(b,c,d){this.parent(b,c,d);this.addAnim("hit",0.05,[0,1,2,3,4,5,6,7]);this.currentAnim=this.anims.hit.rewind();this.zIndex=this.mother.zIndex+10},update:function(){this.parent();this.currentAnim.loopCount&&this.kill()}});EntityGreenDeath=ig.Entity.extend({zIndex:20,
size:{x:225,y:208},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/green_death.png",225,208),init:function(b,c,d){this.parent(b,c,d);this.addAnim("hit",0.05,[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]);this.addAnim("idle",0.1,[24]);this.currentAnim=this.anims.hit.rewind();this.zIndex=this.mother.zIndex},update:function(){this.parent();this.currentAnim.loopCount&&(this.currentAnim=this.anims.idle);this.currentAnim==this.anims.idle&&(0.05<this.currentAnim.alpha?
this.currentAnim.alpha-=0.05:this.kill())}})});ig.baked=!0;
ig.module("game.entities.props.fireworks").requires("impact.entity").defines(function(){EntityFireworks=ig.Entity.extend({type:ig.Entity.TYPE.A,checkAgainst:ig.Entity.TYPE.B,zIndex:0,size:{x:50,y:50},offset:{x:10,y:10},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/explode.png",64,64),init:function(b,c,d){this.parent(b,c,d);ig.soundHandler.playSound(ig.soundHandler.SOUNDID.explore);this.addAnim("idle",0.04,[12,13,14,15,8,9,10,11,4,5,6,7,0,0,1,1,2,2,3,3]);this.currentAnim.angle=
5*Math.random();this.setScale(6,6);this.zIndex=this.mother.zIndex},update:function(){this.parent();this.currentAnim.loopCount&&this.kill()},check:function(b){if(b instanceof EntityPink||b instanceof EntityGreen){if(10<this.currentAnim.frame||!b.digOut)return;b.life-=this.mother.mother.bulletDamageTaken[this.mother.bulletNumber];b.hitted=!0}b instanceof EntityBoss&&!(10<this.currentAnim.frame)&&!this.hitted&&(b.life-=20,this.hitted=b.hitted=!0)}})});ig.baked=!0;
ig.module("game.entities.props.carrot-explore").requires("impact.entity").defines(function(){EntityCarrotExplore=ig.Entity.extend({zIndex:0,size:{x:215,y:72},offset:{x:65,y:70},type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/carrot_explore.png",215,72),init:function(b,c,d){this.parent(b,c,d);this.zIndex=this.mother.zIndex;this.addAnim("idle",0.05,[0,1,2,3,4])},update:function(){this.parent();this.currentAnim.loopCount&&this.kill()}})});
ig.baked=!0;ig.module("game.entities.props.banana-explore").requires("impact.entity").defines(function(){EntityBananaExplore=ig.Entity.extend({zIndex:0,size:{x:185,y:83},offset:{x:70,y:70},type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/banana_explore.png",185,83),init:function(b,c,d){this.parent(b,c,d);this.zIndex=this.mother.zIndex;this.addAnim("idle",0.05,[0,1,2,3,4])},update:function(){this.parent();this.currentAnim.loopCount&&this.kill()}})});
ig.baked=!0;ig.module("game.entities.props.tennis-explore").requires("impact.entity").defines(function(){EntityTennisExplore=ig.Entity.extend({zIndex:0,size:{x:168,y:74},offset:{x:65,y:70},type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/tennis_explore.png",168,74),init:function(b,c,d){this.parent(b,c,d);this.zIndex=this.mother.zIndex;this.addAnim("idle",0.05,[0,1,2,3,4])},update:function(){this.parent();this.currentAnim.loopCount&&this.kill()}})});
ig.baked=!0;ig.module("game.entities.props.baseball-explore").requires("impact.entity").defines(function(){EntityBaseballExplore=ig.Entity.extend({zIndex:0,size:{x:185,y:86},offset:{x:70,y:70},type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/baseball_explore.png",185,86),init:function(b,c,d){this.parent(b,c,d);this.zIndex=this.mother.zIndex;this.addAnim("idle",0.05,[0,1,2,3,4])},update:function(){this.parent();this.currentAnim.loopCount&&this.kill()}})});
ig.baked=!0;
ig.module("game.entities.characters.bullets").requires("impact.entity","game.entities.props.fireworks","game.entities.props.carrot-explore","game.entities.props.banana-explore","game.entities.props.tennis-explore","game.entities.props.baseball-explore").defines(function(){EntityBullets=ig.Entity.extend({zIndex:10,size:{x:15,y:15},type:ig.Entity.TYPE.A,checkAgainst:ig.Entity.TYPE.B,gunPoint:30,bulletSizeX:41,bulletSizeY:86,bounciness:5,maxVel:{x:1E3,y:1E3},x1:0,x2:54,x3:567,x4:640,y1:0,y2:96,y3:186,
y4:274,y5:361,y6:447,y7:535,y8:640,bulletType:[{animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/carrot.png",41,86),neededAmmo:1},{animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/banana.png",41,86),neededAmmo:1},{animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/tennis-ball.png",41,86),neededAmmo:1},{animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/dart.png",41,86),neededAmmo:1},
{animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/plunger.png",41,86),neededAmmo:20},{animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/baseball.png",41,86),neededAmmo:10},{animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/rocket.png",41,86),neededAmmo:100}],init:function(b,c,d){this.parent(b,c,d);this.animSheet=this.bulletType[this.mother.bulletType].animSheet;this.neededAmmo=this.bulletType[this.mother.bulletType].neededAmmo;
this.addAnim("empty",0,[0]);this.addAnim("idle",1,[0]);this.offset.x=this.bulletSizeX/2-this.size.x/2;this.offset.y=this.bulletSizeY/2-this.size.y/2;this.zIndex=this.mother.zIndex-10;ig.game.sortEntitiesDeferred()},update:function(){this.parent();ig.game.paused?this.shooting&&this.shooting.pause():this.shooting&&!0==this.shooting.paused&&this.shooting.resume();0>this.pos.y&&this.kill();if(this.pos.y<ig.system.height-200||this.pos.x<ig.system.width/2-94||this.pos.x>ig.system.width/2+79)this.currentAnim=
this.anims.idle,this.currentAnim.angle=this.setShotPoint},shoot:function(b,c,d){this.mother.bullet=null;this.vel.x=1E3*Math.cos(d);this.vel.y=1E3*Math.sin(d)},shootRocket:function(){this.mother.bullet=null;this.shooting=this.tween({pos:{x:this.X,y:this.Y}},(800-this.mother.pointer.pos.y)/10/this.mother.bulletSpeed,{onComplete:function(){ig.game.spawnEntity(EntityFireworks,this.pos.x-30,this.pos.y-30,{mother:this});this.kill()}.bind(this),easing:ig.Tween.Easing.Linear.EaseNone,delay:0});this.shooting.start()},
check:function(b){if(b instanceof EntityPink||b instanceof EntityGreen){if(!b.digOut)return;this.fired&&(6==this.bulletNumber?ig.game.spawnEntity(EntityFireworks,this.pos.x-30,this.pos.y-30,{mother:this}):(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.hitted),b.life-=this.mother.bulletDamageTaken[this.bulletNumber],b.hitted=!0),0==this.bulletNumber&&ig.game.spawnEntity(EntityCarrotExplore,this.pos.x,this.pos.y,{mother:this}),1==this.bulletNumber&&ig.game.spawnEntity(EntityBananaExplore,this.pos.x,
this.pos.y,{mother:this}),2==this.bulletNumber&&ig.game.spawnEntity(EntityTennisExplore,this.pos.x,this.pos.y,{mother:this}),3==this.bulletNumber&&ig.game.spawnEntity(EntityBaseballExplore,this.pos.x,this.pos.y,{mother:this}),4==this.bulletNumber&&ig.game.spawnEntity(EntityBaseballExplore,this.pos.x,this.pos.y,{mother:this}),5==this.bulletNumber&&ig.game.spawnEntity(EntityFireworks,this.pos.x-30,this.pos.y-30,{mother:this}),1==this.bulletNumber&&(b.slowDown=!0),2==this.bulletNumber&&(b.pushedBack=
!0),4!=this.bulletNumber&&this.kill())}b instanceof EntityBoss&&b.digOut&&this.fired&&(0==this.bulletNumber&&ig.game.spawnEntity(EntityCarrotExplore,this.pos.x,this.pos.y,{mother:this}),1==this.bulletNumber&&ig.game.spawnEntity(EntityBananaExplore,this.pos.x,this.pos.y,{mother:this}),2==this.bulletNumber&&ig.game.spawnEntity(EntityTennisExplore,this.pos.x,this.pos.y,{mother:this}),5==this.bulletNumber&&ig.game.spawnEntity(EntityBaseballExplore,this.pos.x,this.pos.y,{mother:this}),6==this.bulletNumber&&
ig.game.spawnEntity(EntityFireworks,this.pos.x-30,this.pos.y-30,{mother:this}),5==this.bulletNumber&&(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.hitted),b.life-=this.mother.bulletDamageTaken[this.bulletNumber]+3,b.hitted=!0),4==this.bulletNumber?(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.hitted),b.life-=this.mother.bulletDamageTaken[this.bulletNumber]-4):(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.hitted),b.life-=this.mother.bulletDamageTaken[this.bulletNumber]),b.hitted=!0,
this.kill())},draw:function(){this.parent();var b=ig.system.context;this.mother.pointer.pos.y<ig.system.height-100&&(this.setTargetX=this.mother.pointer.pos.x+20-ig.system.width/2-12.5,this.setTargetY=this.mother.pointer.pos.y+10-(ig.system.height-80));var c=Math.atan2(this.setTargetY,this.setTargetX);b.save();this.fired||(this.setShotPoint=c+Math.PI/2);this.currentAnim.angle=this.setShotPoint;var b=this.mother.pointer.pos.x,d=this.mother.pointer.pos.y;this.filling=this.bulletNumber==this.mother.bulletType&&
this.mother.actualAmount[this.bulletNumber]<this.neededAmmo?!0:!1;ig.input.state("click")&&(!this.mother.mother.waveRest&&!this.fired&&this.mother.pointer.pos.y<ig.system.height-100&&!this.mother.mother.lose&&0>=ig.game.getEntitiesByType(EntityDoor).length)&&!(this.mother.pointer.pos.y>ig.system.height-140&&this.mother.pointer.pos.x>this.mother.pos.x-40&&this.mother.pointer.pos.x<this.mother.pos.x+this.mother.size.x+40)&&(!(!0==this.mother.mother.tutorial&&8!=this.mother.mother.tutorialStage&&11!=
this.mother.mother.tutorialStage&&14!=this.mother.mother.tutorialStage)&&this.mother.shootingTime&&this.mother.shootingTime.delta()>this.mother.bulletShootingTime[this.bulletNumber]/10&&0<this.mother.actualAmount[this.bulletNumber])&&(this.X=this.mother.pointer.pos.x,this.Y=this.mother.pointer.pos.y,ig.soundHandler.playSound(ig.soundHandler.SOUNDID.gun),4!=this.mother.bulletType&&6!=this.mother.bulletType&&5!=this.mother.bulletType?(this.mother.recoil=5,this.shoot(b,d,c),0!=this.bulletNumber&&(this.mother.actualAmount[this.mother.bulletType]-=
1),this.fired=this.mother.SHOOT=!0):4==this.mother.bulletType?(this.shoot(b,d,c),this.mother.recoil=5,this.mother.SHOOT=!0,this.mother.actualAmount[this.bulletNumber]-=10,this.fired=!0):5==this.bulletNumber?(this.shoot(b,d,c),this.mother.recoil=5,this.mother.SHOOT=!0,this.mother.actualAmount[this.bulletNumber]-=5,this.fired=!0):6==this.bulletNumber&&(this.shootRocket(),this.mother.recoil=10,this.mother.SHOOT=!0,this.mother.actualAmount[this.bulletNumber]-=50,this.fired=!0),this.mother.shootingTime.reset())}})});
ig.baked=!0;
ig.module("game.entities.characters.tennis").requires("impact.entity","game.entities.props.fireworks","game.entities.props.carrot-explore","game.entities.props.banana-explore","game.entities.props.tennis-explore","game.entities.props.baseball-explore","game.entities.props.tennis-explore").defines(function(){EntityTennis=ig.Entity.extend({zIndex:10,size:{x:15,y:15},type:ig.Entity.TYPE.A,checkAgainst:ig.Entity.TYPE.B,collides:ig.Entity.COLLIDES.ACTIVE,gunPoint:30,bulletSizeX:41,bulletSizeY:86,life:4,
bounciness:5,maxVel:{x:1200,y:1200},x1:0,x2:54,x3:567,x4:640,y1:0,y2:96,y3:186,y4:274,y5:361,y6:447,y7:535,y8:640,animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/tennis-ball.png",41,86),neededAmmo:1,init:function(b,c,d){this.parent(b,c,d);this.addAnim("empty",0,[0]);this.addAnim("idle",1,[0]);this.offset.x=this.bulletSizeX/2-this.size.x/2;this.offset.y=this.bulletSizeY/2-this.size.y/2;this.zIndex=this.mother.zIndex-10;ig.game.sortEntitiesDeferred()},update:function(){this.parent();
(0>this.pos.y||0>this.pos.x||this.pos.x>ig.system.width||this.pos.y>ig.game.height)&&this.kill();if(this.pos.y<ig.system.height-200||this.pos.x<ig.system.width/2-94||this.pos.x>ig.system.width/2+79)this.spawnNew||(this.mother.bullet=null,this.spawnNew=!0),this.currentAnim=this.anims.idle,this.currentAnim.angle=1==this.bulletNumber?this.currentAnim.angle+0.2:this.setShotPoint;0>=this.life&&(this.kill(),ig.game.spawnEntity(EntityTennisExplore,this.pos.x,this.pos.y,{mother:this}))},shoot:function(b,
c,d){this.vel.x=1200*Math.cos(d);this.vel.y=1200*Math.sin(d)},collideWith:function(b){this.parent();if(b instanceof EntityPink||b instanceof EntityGreen)ig.soundHandler.playSound(ig.soundHandler.SOUNDID.bounce),b.life-=this.mother.bulletDamageTaken[this.bulletNumber],b.hitted=!0,b.vel.y=0,b.vel.x=0,this.life-=1;b instanceof EntityBoss&&(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.bounce),b.life-=this.mother.bulletDamageTaken[this.bulletNumber],b.hitted=!0,b.vel.y=0,b.vel.x=0,this.life-=1)},
draw:function(){this.parent();var b=ig.system.context;this.mother.pointer.pos.y<ig.system.height-100&&(this.setTargetX=this.mother.pointer.pos.x+20-ig.system.width/2-12.5,this.setTargetY=this.mother.pointer.pos.y+10-(ig.system.height-80));var c=Math.atan2(this.setTargetY,this.setTargetX);b.save();this.fired||(this.setShotPoint=c+Math.PI/2);this.animSheet&&1==this.bulletNumber?this.currentAnim.angle+=0.2:this.animSheet&&(this.currentAnim.angle=this.setShotPoint);var b=this.mother.pointer.pos.x,d=this.mother.pointer.pos.y;
this.filling=this.bulletNumber==this.mother.bulletType&&this.mother.actualAmount[this.bulletNumber]<this.neededAmmo?!0:!1;ig.input.state("click")&&(!this.mother.mother.waveRest&&!this.fired&&this.mother.pointer.pos.y<ig.system.height-100&&!this.mother.mother.lose&&0>=ig.game.getEntitiesByType(EntityDoor).length&&!this.fired)&&!(this.mother.pointer.pos.y>ig.system.height-140&&this.mother.pointer.pos.x>this.mother.pos.x-40&&this.mother.pointer.pos.x<this.mother.pos.x+this.mother.size.x+40)&&(!(!0==
this.mother.mother.tutorial&&8!=this.mother.mother.tutorialStage&&11!=this.mother.mother.tutorialStage&&14!=this.mother.mother.tutorialStage)&&this.mother.shootingTime&&this.mother.shootingTime.delta()>this.mother.bulletShootingTime[this.bulletNumber]/10&&0<this.mother.actualAmount[this.bulletNumber])&&(this.X=this.mother.pointer.pos.x,this.Y=this.mother.pointer.pos.y,ig.soundHandler.playSound(ig.soundHandler.SOUNDID.gun),this.mother.recoil=5,this.shoot(b,d,c),this.mother.actualAmount[this.mother.bulletType]-=
1,this.fired=this.mother.SHOOT=!0,this.mother.shootingTime.reset())}})});ig.baked=!0;
ig.module("game.entities.characters.rabbit").requires("impact.entity","game.entities.characters.bullets","plugins.shock","game.entities.characters.tennis").defines(function(){EntityRabbit=ig.Entity.extend({size:{x:113.5,y:150},type:ig.Entity.TYPE.A,facingX:0,facingY:0,bodyY:150,bulletType:0,bulletSpeed:1E3,bulletDamage:1,bulletTime:10,bulletAmount:10,recoil:0,arraySpacePlus:0,pushDistance:[],effectDistance:0,gunEffect:0,rabbit:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/rabbit.png"),
gun:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/gun.png"),defense:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/defense.png"),carrot:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/carrot.png"),banana:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/banana.png"),baseball:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/baseball.png"),dart:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/dart.png"),plunger:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/plunger.png"),
rocket:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/rocket.png"),tennisball:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/tennis-ball.png"),weapons:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/bullets.png"),effect:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/gun_effect.png"),levelBar:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/level-bar.png"),heart:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/heart.png"),
init:function(b,c,d){this.parent(b,c,d);this.bulletType=ig.game.bulletType;this.zIndex=this.pos.y+10*this.size.x;0==ig.game.getEntitiesByType(EntityPointer).length&&(this.pointer=ig.game.spawnEntity(EntityPointer,-100,0));this.shootingTime=new ig.Timer;this.bulletGenerateTime=new ig.Timer;this.effectTimer=new ig.Timer;this.initiateBulletAmount();this.initButtonSize=this.weapons.width;ig.game.localStorageSupport&&(ig.game.storage.isSet("SD-RabbitPoints :")||ig.game.storage.set("SD-RabbitPoints :",
500))},update:function(){this.parent();this.setBulletSpeed();this.setBulletDamage();this.checkLife();ig.input.pressed("click")&&this.pointer.update();this.bullet||(this.bullet=ig.game.spawnEntity(EntityBullets,this.pos.x+this.size.x/2-8,this.pos.y+50,{mother:this,bulletNumber:this.bulletType}));this.bulletMovingSpeed();this.checkBulletAmount()},checkLife:function(){0>=ig.game.life&&(ig.game.life=0,this.mother.stage=this.mother.stages.LOSE)},checkBulletAmount:function(){0>=this.actualAmount[this.bulletType]&&
(this.bullet&&(this.bullet.kill(),this.bullet=null),this.actualAmount[this.bulletType]=this.initAmount[this.bulletType],this.bulletType=0)},bulletMovingSpeed:function(){this.bulletSpeed=6==this.bulletType?150:1E3},setBulletSpeed:function(){this.bulletShootingTime=[];this.bulletShootingTime[this.bulletType]=[];ig.game.localStorageSupport?(ig.game.storage.isSet("SD-RabbitWeapon0-speed :")?this.bulletShootingTime[0]=ig.game.storage.getInt("SD-RabbitWeapon0-speed :"):(ig.game.storage.set("SD-RabbitWeapon0-speed :",
this.bulletTime),this.bulletShootingTime[0]=this.bulletTime),ig.game.storage.isSet("SD-RabbitWeapon1-speed :")?this.bulletShootingTime[1]=ig.game.storage.getInt("SD-RabbitWeapon1-speed :"):(ig.game.storage.set("SD-RabbitWeapon1-speed :",5),this.bulletShootingTime[1]=this.bulletTime),ig.game.storage.isSet("SD-RabbitWeapon2-speed :")?this.bulletShootingTime[2]=ig.game.storage.getInt("SD-RabbitWeapon2-speed :"):(ig.game.storage.set("SD-RabbitWeapon2-speed :",8),this.bulletShootingTime[2]=this.bulletTime),
ig.game.storage.isSet("SD-RabbitWeapon3-speed :")?this.bulletShootingTime[3]=ig.game.storage.getInt("SD-RabbitWeapon3-speed :"):(ig.game.storage.set("SD-RabbitWeapon3-speed :",2.5),this.bulletShootingTime[3]=this.bulletTime),ig.game.storage.isSet("SD-RabbitWeapon4-speed :")?this.bulletShootingTime[4]=ig.game.storage.getInt("SD-RabbitWeapon4-speed :"):(ig.game.storage.set("SD-RabbitWeapon4-speed :",this.bulletTime-3),this.bulletShootingTime[4]=this.bulletTime),ig.game.storage.isSet("SD-RabbitWeapon5-speed :")?
this.bulletShootingTime[5]=ig.game.storage.getInt("SD-RabbitWeapon5-speed :"):(ig.game.storage.set("SD-RabbitWeapon5-speed :",4),this.bulletShootingTime[5]=this.bulletTime),ig.game.storage.isSet("SD-RabbitWeapon6-speed :")?this.bulletShootingTime[6]=ig.game.storage.getInt("SD-RabbitWeapon6-speed :"):(ig.game.storage.set("SD-RabbitWeapon6-speed :",this.bulletTime),this.bulletShootingTime[6]=this.bulletTime)):(console.log("setting weapon speed information"),this.bulletShootingTime[0]=ig.game.savingVariable["RabbitWeapon0-speed"],
this.bulletShootingTime[1]=ig.game.savingVariable["RabbitWeapon1-speed"],this.bulletShootingTime[2]=ig.game.savingVariable["RabbitWeapon2-speed"],this.bulletShootingTime[3]=ig.game.savingVariable["RabbitWeapon3-speed"],this.bulletShootingTime[4]=ig.game.savingVariable["RabbitWeapon4-speed"],this.bulletShootingTime[5]=ig.game.savingVariable["RabbitWeapon5-speed"],this.bulletShootingTime[6]=ig.game.savingVariable["RabbitWeapon6-speed"])},setBulletDamage:function(){this.bulletDamageTaken=[];this.bulletDamageTaken[this.bulletType]=
[];ig.game.localStorageSupport?(ig.game.storage.isSet("SD-RabbitWeapon0-damage :")?this.bulletDamageTaken[0]=ig.game.storage.getInt("SD-RabbitWeapon0-damage :"):ig.game.storage.set("SD-RabbitWeapon0-damage :",this.bulletDamage+1),ig.game.storage.isSet("SD-RabbitWeapon1-damage :")?this.bulletDamageTaken[1]=ig.game.storage.getInt("SD-RabbitWeapon1-damage :"):ig.game.storage.set("SD-RabbitWeapon1-damage :",this.bulletDamage),ig.game.storage.isSet("SD-RabbitWeapon2-damage :")?this.bulletDamageTaken[2]=
ig.game.storage.getInt("SD-RabbitWeapon2-damage :"):ig.game.storage.set("SD-RabbitWeapon2-damage :",this.bulletDamage),ig.game.storage.isSet("SD-RabbitWeapon3-damage :")?this.bulletDamageTaken[3]=ig.game.storage.getInt("SD-RabbitWeapon3-damage :"):ig.game.storage.set("SD-RabbitWeapon3-damage :",this.bulletDamage),ig.game.storage.isSet("SD-RabbitWeapon4-damage :")?this.bulletDamageTaken[4]=ig.game.storage.getInt("SD-RabbitWeapon4-damage :"):ig.game.storage.set("SD-RabbitWeapon4-damage :",this.bulletDamage+
3),ig.game.storage.isSet("SD-RabbitWeapon5-damage :")?this.bulletDamageTaken[5]=ig.game.storage.getInt("SD-RabbitWeapon5-damage :"):ig.game.storage.set("SD-RabbitWeapon5-damage :",10*this.bulletDamage),ig.game.storage.isSet("SD-RabbitWeapon6-damage :")?this.bulletDamageTaken[6]=ig.game.storage.getInt("SD-RabbitWeapon6-damage :"):ig.game.storage.set("SD-RabbitWeapon6-damage :",10*this.bulletDamage)):(console.log("setting weapon damage information"),this.bulletDamageTaken[0]=ig.game.savingVariable["RabbitWeapon0-damage"],
this.bulletDamageTaken[1]=ig.game.savingVariable["RabbitWeapon1-damage"],this.bulletDamageTaken[2]=ig.game.savingVariable["RabbitWeapon2-damage"],this.bulletDamageTaken[3]=ig.game.savingVariable["RabbitWeapon3-damage"],this.bulletDamageTaken[4]=ig.game.savingVariable["RabbitWeapon4-damage"],this.bulletDamageTaken[5]=ig.game.savingVariable["RabbitWeapon5-damage"],this.bulletDamageTaken[6]=ig.game.savingVariable["RabbitWeapon6-damage"])},draw:function(){this.parent();this.drawRabbit();var b=ig.system.context;
b.save();b.globalAlpha=0.2;b.fillStyle="rgba(255,255,255,1.0)";b.fillRect(ig.system.width-this.weapons.width+5,ig.system.height-this.weapons.height/8-7,59,63);b.drawImage(this.weapons.data,0,0+this.bulletType*this.weapons.height/8,this.weapons.width/2,this.weapons.height/8,ig.system.width-this.weapons.width,ig.system.height-this.weapons.height/8-10,this.weapons.width/2,this.weapons.height/8);b.restore();b.save();b.fillStyle="rgba(255,255,255,1.0)";b.fillRect(ig.system.width-this.weapons.width,ig.system.height-
this.weapons.height/8-5,67*(this.actualAmount[this.bulletType]/this.initAmount[this.bulletType]),60);b.drawImage(this.weapons.data,0,0+this.bulletType*this.weapons.height/8,this.weapons.width/2*(this.actualAmount[this.bulletType]/this.initAmount[this.bulletType]),this.weapons.height/8,ig.system.width-this.weapons.width,ig.system.height-this.weapons.height/8-10,this.weapons.width/2*(this.actualAmount[this.bulletType]/this.initAmount[this.bulletType]),this.weapons.height/8);b.restore()},drawRabbit:function(){this.drawLevel();
this.drawLife();ig.ua.mobile?this.defense.draw(ig.system.width/2-114,ig.system.width):this.defense.draw(ig.system.width/2-114,ig.system.width-130);var b=ig.system.context;this.pointer||(this.pointer=ig.game.getEntitiesByType(EntityPointer)[0]);this.pointer&&(this.facingX=this.pointer.pos.x<ig.system.width/3?0:this.pointer.pos.x>2*(ig.system.width/3)?this.size.x+113.5:this.size.x,this.facingY=0);this.step1||(this.bodyY>this.size.y-10?(this.pos.y+=0.2,this.bodyY-=0.2):this.step2=this.step1=!0);this.step2&&
(this.bodyY<this.size.y?(this.pos.y-=0.2,this.bodyY+=0.2):this.step2=this.step1=!1);this.pointer.pos.y<ig.system.height-100&&(this.setTargetX=this.pointer.pos.x+20-ig.system.width/2-12.5,this.setTargetY=this.pointer.pos.y+10-(ig.system.height-80));var c=Math.atan2(this.setTargetY,this.setTargetX);0<this.recoil&&(this.recoil-=1);b.save();b.translate(ig.system.width/2-12.5+15,ig.system.height-80);b.rotate(c+Math.PI/2);this.SHOOT&&(this.effectTimer&&(0.03<this.effectTimer.delta()&&6>this.gunEffect)&&
(this.gunEffect+=1,this.effectTimer.reset()),5<this.gunEffect&&(this.gunEffect=0,this.SHOOT=!1),b.drawImage(this.effect.data,0,73*this.gunEffect,this.effect.width,73,-this.effect.width/2+3,-160,this.effect.width,73));b.drawImage(this.gun.data,0,0,this.gun.width,this.gun.height,-this.gun.width/2,-this.gun.height+10+this.recoil,this.gun.width,this.gun.height);b.restore();b.drawImage(this.rabbit.data,this.facingX,this.facingY,this.size.x,this.size.y,this.pos.x,this.pos.y,this.size.x,this.bodyY)},initiateBulletAmount:function(){this.initAmount=
[];this.initAmount[this.bulletType]=[];this.requiredAmount=[];this.requiredAmount[this.bulletType]=[];this.actualAmount=[];this.actualAmount[this.bulletType]=[];this.weaponAmount=[];this.weaponAmount[this.bulletType]=[];if(ig.game.localStorageSupport){ig.game.storage.isSet("SD-Weapon0Amount :")||ig.game.storage.set("SD-Weapon0Amount :",3E3);this.weaponAmount[0]=ig.game.storage.getInt("SD-Weapon0Amount :");ig.game.storage.isSet("SD-Weapon1Amount :")||ig.game.storage.set("SD-Weapon1Amount :",50);this.weaponAmount[1]=
ig.game.storage.getInt("SD-Weapon1Amount :");ig.game.storage.isSet("SD-Weapon2Amount :")||ig.game.storage.set("SD-Weapon2Amount :",0);this.weaponAmount[2]=ig.game.storage.getInt("SD-Weapon2Amount :");ig.game.storage.isSet("SD-Weapon3Amount :")||ig.game.storage.set("SD-Weapon3Amount :",0);this.weaponAmount[3]=ig.game.storage.getInt("SD-Weapon3Amount :");ig.game.storage.isSet("SD-Weapon4Amount :")||ig.game.storage.set("SD-Weapon4Amount :",0);this.weaponAmount[4]=ig.game.storage.getInt("SD-Weapon4Amount :");
ig.game.storage.isSet("SD-Weapon5Amount :")||ig.game.storage.set("SD-Weapon5Amount :",0);this.weaponAmount[5]=ig.game.storage.getInt("SD-Weapon5Amount :");ig.game.storage.isSet("SD-Weapon6Amount :")||ig.game.storage.set("SD-Weapon6Amount :",0);this.weaponAmount[6]=ig.game.storage.getInt("SD-Weapon6Amount :");var b=0}else console.log("info bullet rabbit"),this.weaponAmount[0]=ig.game.savingVariable.Weapon0Amount,this.weaponAmount[1]=ig.game.savingVariable.Weapon1Amount,this.weaponAmount[2]=ig.game.savingVariable.Weapon2Amount,
this.weaponAmount[3]=ig.game.savingVariable.Weapon3Amount,this.weaponAmount[4]=ig.game.savingVariable.Weapon4Amount,this.weaponAmount[5]=ig.game.savingVariable.Weapon5Amount,this.weaponAmount[6]=ig.game.savingVariable.Weapon6Amount,b=0;for(;7>b;b++)this.initAmount[b]=this.weaponAmount[b],this.actualAmount[b]=this.weaponAmount[b];this.requiredAmount[0]=1;this.requiredAmount[1]=1;this.requiredAmount[2]=1;this.requiredAmount[3]=1;this.requiredAmount[4]=10;this.requiredAmount[5]=5;this.requiredAmount[6]=
50},drawLife:function(){ig.system.context.drawImage(this.levelBar.data,0,0,this.levelBar.width,this.levelBar.height/2,10,10,this.levelBar.width-40,this.levelBar.height/2);this.heart.draw(25,20);ig.system.context.save();ig.system.context.font="32px cloudy";ig.system.context.fillStyle="#FFFFFF";ig.system.context.textAlign="left";ig.system.context.fillText(ig.game.life,85,50);ig.system.context.restore()},drawLevel:function(){var b=ig.system.context;this.mother.levelTimer&&(b.drawImage(this.levelBar.data,
0,0,this.levelBar.width,this.levelBar.height/2,ig.system.width-this.levelBar.width-20,10,this.levelBar.width,this.levelBar.height/2),0<this.levelBar.width*(this.mother.levelTimer.delta()/this.mother.levelTime)&&b.drawImage(this.levelBar.data,0,this.levelBar.height/2,this.levelBar.width*(this.mother.levelTimer.delta()/this.mother.levelTime),this.levelBar.height/2,ig.system.width-this.levelBar.width-20,10,this.levelBar.width*(this.mother.levelTimer.delta()/this.mother.levelTime),this.levelBar.height/
2),ig.system.context.save(),ig.system.context.font="28px cloudy",ig.system.context.fillStyle="#FFFFFF",ig.system.context.textAlign="left",ig.system.context.fillText("Wave : "+ig.game.level,ig.system.width-175,50),ig.system.context.restore())},drawWeapon:function(){var b=ig.system.context;this.initButtonSize=this.initButtonSize<this.weapons.width/2?this.initButtonSize+2:this.weapons.width/2;for(var c=0;7>c;c++)this.setted||(0>=this.initAmount[c]&&this.pushDistance.push(c),6<=c&&(this.arraySpacePlus=
this.weapons.width/2/2*this.pushDistance.length,this.setted=!0)),0<this.initAmount[c]&&(c!=this.bulletType?(b.save(),b.fillStyle="rgba(255,255,255,1.0)",b.fillRect(this.arraySpacePlus+(ig.system.width/2-3.5*this.weapons.width/2)+69*c+8,ig.system.height-69,this.weapons.width-85,this.weapons.width/2),b.restore(),b.save(),b.globalAlpha=0.6,this.actualAmount[c]<this.requiredAmount[c]||(b.fillStyle="rgba(0,128,0,1.0)"),b.fillRect(this.arraySpacePlus+(ig.system.width/2-3.5*this.weapons.width/2)+69*c+8,
ig.system.height-69,(this.weapons.width-85)*(this.actualAmount[c]/this.initAmount[c]),this.weapons.width/2),b.restore(),b.drawImage(this.weapons.data,0,69*c,69,69,this.arraySpacePlus+ig.system.width/2-3.5*this.weapons.width/2+69*c,ig.system.height-69,69,69)):(b.save(),b.fillStyle="rgba(255,255,255,1.0)",b.fillRect(this.arraySpacePlus+(ig.system.width/2-3.5*this.weapons.width/2)+69*c+8,ig.system.height-69+(this.weapons.width/2-this.initButtonSize)/2,this.weapons.width-85,this.initButtonSize),b.restore(),
b.save(),b.globalAlpha=1,this.actualAmount[c]<this.requiredAmount[c]||(b.fillStyle="rgba(255,0,0,0.7)"),b.fillRect(this.arraySpacePlus+(ig.system.width/2-3.5*this.weapons.width/2)+69*c+8,ig.system.height-69+(this.weapons.width/2-this.initButtonSize)/2,(this.weapons.width-85)*(this.actualAmount[c]/this.initAmount[c]),this.initButtonSize),b.restore(),b.drawImage(this.weapons.data,0,69*c,69,69,this.arraySpacePlus+(ig.system.width/2-3.5*this.weapons.width/2)+69*c+(this.weapons.width/2-this.initButtonSize)/
2,ig.system.height-69+(this.weapons.width/2-this.initButtonSize)/2,this.initButtonSize,this.initButtonSize)),ig.input.pressed("click")&&(this.pointer.pos.x>this.arraySpacePlus+(ig.system.width/2-3.5*this.weapons.width/2)+69*c&&this.pointer.pos.x<this.arraySpacePlus+(ig.system.width/2-3.5*this.weapons.width/2)+69*c+69&&this.pointer.pos.y>ig.system.height-69)&&(this.bulletType=c,this.bullet&&(this.initButtonSize=50,this.bullet.kill(),this.bullet=null)))}})});ig.baked=!0;
ig.module("game.entities.props.words").requires("impact.entity").defines(function(){EntityWords=ig.Entity.extend({zIndex:3E3,ignorePause:!0,wordIm:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/words.png"),wordIm1:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/words.png"),wordIm2:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/words.png"),init:function(b,c,d){this.parent(b,c,d);this.size.x=this.wordIm.width;this.size.y=this.wordIm.height/3.2;this.animSheet=
new ig.AnimationSheet(this.wordIm.path,this.size.x,this.size.y+2);this.addAnim("go",1,[1]);this.size.x=this.wordIm.width;this.size.y=this.wordIm.height/3;this.animSheet=new ig.AnimationSheet(this.wordIm1.path,this.size.x,this.size.y-5);this.addAnim("ready",1,[0]);this.size.x=this.wordIm.width;this.size.y=this.wordIm.height/3;this.animSheet=new ig.AnimationSheet(this.wordIm1.path,this.size.x,this.size.y);this.addAnim("lose",1,[2]);this.currentAnim=this.begin?this.anims.ready:this.anims.lose},update:function(){this.parent();
this.currentAnim==this.anims.ready&&this.currentAnim.loopCount&&(this.currentAnim=this.anims.go.rewind());this.currentAnim==this.anims.go&&this.currentAnim.loopCount&&this.kill();ig.game.paused&&this.kill()}})});ig.baked=!0;
ig.module("game.entities.common.setZombiePosition").requires("impact.entity").defines(function(){EntitySetZombiePosition=ig.Entity.extend({size:{x:10,y:10},POSITION:[],init:function(b,c,d){this.parent(b,c,d);this.control=ig.game.getEntitiesByType(EntityGameControl)[0]},update:function(){this.parent();this.setPositionPink();this.setPositionGreen();this.setPositionBoss()},setPositionPink:function(){if(!0==this.control.tutorial)this.POSITIONPINK=10>this.control.tutorialStage?[49]:[44];else if(1>=ig.game.level)switch(Math.floor(7*
Math.random())){case 0:this.POSITIONPINK=[18,29,13,51,35,8];break;case 1:this.POSITIONPINK=[49,39,29,19,9,41,33,25,17];break;case 2:this.POSITIONPINK=[49,40,31,22,13,14];break;case 3:this.POSITIONPINK=[45,37,29,19,13,23,32,51];break;case 4:this.POSITIONPINK=[36,38,40,42,44,11,15,58];break;case 5:this.POSITIONPINK=[47,33,21];break;case 6:this.POSITIONPINK=[26,0,36,57]}else if(2<=ig.game.level)switch(Math.floor(11*Math.random())){case 0:this.POSITIONPINK=[18,29,13,51,35,8];break;case 1:this.POSITIONPINK=
[49,39,29,19,9,41,33,25,17];break;case 2:this.POSITIONPINK=[49,40,31,22,13,14];break;case 3:this.POSITIONPINK=[45,37,29,19,13,23,32,51];break;case 4:this.POSITIONPINK=[36,38,40,42,44,11,15,58];break;case 5:this.POSITIONPINK=[46,28,18,1,3,71,43,32,25,15,67];break;case 6:this.POSITIONPINK=[55,47,37,29,19,10,8];break;case 7:this.POSITIONPINK=[36,46,38,48,31,23,24,34,26];break;case 8:this.POSITIONPINK=[45,47,49,50,51,53,27,29,31,33,35];break;case 9:this.POSITIONPINK=[54,46,36,28,18,10,14,24,32,42,50];
break;case 10:this.POSITIONPINK=[67,49,29,33,25,12,18,43]}},setPositionGreen:function(){if(3>=ig.game.level)switch(Math.floor(4*Math.random())){case 0:this.POSITIONGREEN=[2,6];break;case 1:this.POSITIONGREEN=[19,25];break;case 2:this.POSITIONGREEN=[31,13];break;case 3:this.POSITIONGREEN=[9,19,25,16]}else if(4>=ig.game.level)switch(Math.floor(5*Math.random())){case 0:this.POSITIONGREEN=[46,52];break;case 1:this.POSITIONGREEN=[28,10,34,16];break;case 2:this.POSITIONGREEN=[2,4,6];break;case 3:this.POSITIONGREEN=
[0,8,22];break;case 4:this.POSITIONGREEN=[40,30,20,10,32,24,16]}else switch(Math.floor(11*Math.random())){case 0:this.POSITIONGREEN=[46,52];break;case 1:this.POSITIONGREEN=[28,10,34,16];break;case 2:this.POSITIONGREEN=[2,4,6];break;case 3:this.POSITIONGREEN=[0,8,22];break;case 4:this.POSITIONGREEN=[46,52];break;case 5:this.POSITIONGREEN=[28,10,34,16];break;case 6:this.POSITIONGREEN=[2,4,6];break;case 7:this.POSITIONGREEN=[0,8,22];break;case 8:this.POSITIONGREEN=[40,30,20,10,32,24,16];break;case 9:this.POSITIONGREEN=
[71];break;case 10:this.POSITIONGREEN=[46,55]}},setPositionBoss:function(){if(10>=ig.game.level)switch(Math.floor(6*Math.random())){case 0:this.POSITIONBOSS=[4];break;case 1:this.POSITIONBOSS=[10];break;case 3:this.POSITIONBOSS=[24];break;case 4:this.POSITIONBOSS=[7];break;case 5:this.POSITIONBOSS=[20]}else if(15>=ig.game.level)switch(Math.floor(5*Math.random())){case 0:this.POSITIONBOSS=[22,18];break;case 1:this.POSITIONBOSS=[11,15];break;case 2:this.POSITIONBOSS=[29,44];break;case 3:this.POSITIONBOSS=
[12,41];break;case 4:this.POSITIONBOSS=[28,7]}else switch(Math.floor(9*Math.random())){case 0:this.POSITIONBOSS=[0,4,8];break;case 1:this.POSITIONBOSS=[10,22,35];break;case 2:this.POSITIONBOSS=[46,31,19];break;case 3:this.POSITIONBOSS=[67];break;case 4:this.POSITIONBOSS=[22,18];break;case 5:this.POSITIONBOSS=[11,15];break;case 6:this.POSITIONBOSS=[29,44];break;case 7:this.POSITIONBOSS=[12,41];break;case 8:this.POSITIONBOSS=[28,7]}}})});ig.baked=!0;
ig.module("game.entities.common.spawn-mechanic").requires("impact.entity","game.entities.common.setZombiePosition").defines(function(){EntitySpawnMechanic=ig.Entity.extend({size:{x:10,y:10},zIndex:1E3,gridSize:54,totalOfTile:71,init:function(b,c,d){this.parent(b,c,d);this.initPlaceX=ig.system.width/2-240;this.posX=[];this.posX[this]=[];this.posY=[];this.posY[this]=[];this.pointX=[];this.pointX[this]=[];this.pointY=[];this.pointY[this]=[]},draw:function(){this.parent();for(var b=0;9>b;b++)for(var c=
0;8>c;c++)this.posX[b]=this.initPlaceX+b*this.gridSize,this.posY[c]=this.gridSize*c,0==b&&0==c&&(this.pointX[0]=[this.posX[b],this.posY[c]]),1==b&&0==c&&(this.pointX[1]=[this.posX[b],this.posY[c]]),2==b&&0==c&&(this.pointX[2]=[this.posX[b],this.posY[c]]),3==b&&0==c&&(this.pointX[3]=[this.posX[b],this.posY[c]]),4==b&&0==c&&(this.pointX[4]=[this.posX[b],this.posY[c]]),5==b&&0==c&&(this.pointX[5]=[this.posX[b],this.posY[c]]),6==b&&0==c&&(this.pointX[6]=[this.posX[b],this.posY[c]]),7==b&&0==c&&(this.pointX[7]=
[this.posX[b],this.posY[c]]),8==b&&0==c&&(this.pointX[8]=[this.posX[b],this.posY[c]]),0==b&&1==c&&(this.pointX[9]=[this.posX[b],this.posY[c]]),1==b&&1==c&&(this.pointX[10]=[this.posX[b],this.posY[c]]),2==b&&1==c&&(this.pointX[11]=[this.posX[b],this.posY[c]]),3==b&&1==c&&(this.pointX[12]=[this.posX[b],this.posY[c]]),4==b&&1==c&&(this.pointX[13]=[this.posX[b],this.posY[c]]),5==b&&1==c&&(this.pointX[14]=[this.posX[b],this.posY[c]]),6==b&&1==c&&(this.pointX[15]=[this.posX[b],this.posY[c]]),7==b&&1==c&&
(this.pointX[16]=[this.posX[b],this.posY[c]]),8==b&&1==c&&(this.pointX[17]=[this.posX[b],this.posY[c]]),0==b&&2==c&&(this.pointX[18]=[this.posX[b],this.posY[c]]),1==b&&2==c&&(this.pointX[19]=[this.posX[b],this.posY[c]]),2==b&&2==c&&(this.pointX[20]=[this.posX[b],this.posY[c]]),3==b&&2==c&&(this.pointX[21]=[this.posX[b],this.posY[c]]),4==b&&2==c&&(this.pointX[22]=[this.posX[b],this.posY[c]]),5==b&&2==c&&(this.pointX[23]=[this.posX[b],this.posY[c]]),6==b&&2==c&&(this.pointX[24]=[this.posX[b],this.posY[c]]),
7==b&&2==c&&(this.pointX[25]=[this.posX[b],this.posY[c]]),8==b&&2==c&&(this.pointX[26]=[this.posX[b],this.posY[c]]),0==b&&3==c&&(this.pointX[27]=[this.posX[b],this.posY[c]]),1==b&&3==c&&(this.pointX[28]=[this.posX[b],this.posY[c]]),2==b&&3==c&&(this.pointX[29]=[this.posX[b],this.posY[c]]),3==b&&3==c&&(this.pointX[30]=[this.posX[b],this.posY[c]]),4==b&&3==c&&(this.pointX[31]=[this.posX[b],this.posY[c]]),5==b&&3==c&&(this.pointX[32]=[this.posX[b],this.posY[c]]),6==b&&3==c&&(this.pointX[33]=[this.posX[b],
this.posY[c]]),7==b&&3==c&&(this.pointX[34]=[this.posX[b],this.posY[c]]),8==b&&3==c&&(this.pointX[35]=[this.posX[b],this.posY[c]]),0==b&&4==c&&(this.pointX[36]=[this.posX[b],this.posY[c]]),1==b&&4==c&&(this.pointX[37]=[this.posX[b],this.posY[c]]),2==b&&4==c&&(this.pointX[38]=[this.posX[b],this.posY[c]]),3==b&&4==c&&(this.pointX[39]=[this.posX[b],this.posY[c]]),4==b&&4==c&&(this.pointX[40]=[this.posX[b],this.posY[c]]),5==b&&4==c&&(this.pointX[41]=[this.posX[b],this.posY[c]]),6==b&&4==c&&(this.pointX[42]=
[this.posX[b],this.posY[c]]),7==b&&4==c&&(this.pointX[43]=[this.posX[b],this.posY[c]]),8==b&&4==c&&(this.pointX[44]=[this.posX[b],this.posY[c]]),0==b&&5==c&&(this.pointX[45]=[this.posX[b],this.posY[c]]),1==b&&5==c&&(this.pointX[46]=[this.posX[b],this.posY[c]]),2==b&&5==c&&(this.pointX[47]=[this.posX[b],this.posY[c]]),3==b&&5==c&&(this.pointX[48]=[this.posX[b],this.posY[c]]),4==b&&5==c&&(this.pointX[49]=[this.posX[b],this.posY[c]]),5==b&&5==c&&(this.pointX[50]=[this.posX[b],this.posY[c]]),6==b&&5==
c&&(this.pointX[51]=[this.posX[b],this.posY[c]]),7==b&&5==c&&(this.pointX[52]=[this.posX[b],this.posY[c]]),8==b&&5==c&&(this.pointX[53]=[this.posX[b],this.posY[c]]),0==b&&6==c&&(this.pointX[54]=[this.posX[b],this.posY[c]]),1==b&&6==c&&(this.pointX[55]=[this.posX[b],this.posY[c]]),2==b&&6==c&&(this.pointX[56]=[this.posX[b],this.posY[c]]),3==b&&6==c&&(this.pointX[57]=[this.posX[b],this.posY[c]]),4==b&&6==c&&(this.pointX[58]=[this.posX[b],this.posY[c]]),5==b&&6==c&&(this.pointX[59]=[this.posX[b],this.posY[c]]),
6==b&&6==c&&(this.pointX[60]=[this.posX[b],this.posY[c]]),7==b&&6==c&&(this.pointX[61]=[this.posX[b],this.posY[c]]),8==b&&6==c&&(this.pointX[62]=[this.posX[b],this.posY[c]]),0==b&&7==c&&(this.pointX[63]=[this.posX[b],this.posY[c]]),1==b&&7==c&&(this.pointX[64]=[this.posX[b],this.posY[c]]),2==b&&7==c&&(this.pointX[65]=[this.posX[b],this.posY[c]]),3==b&&7==c&&(this.pointX[66]=[this.posX[b],this.posY[c]]),4==b&&7==c&&(this.pointX[67]=[this.posX[b],this.posY[c]]),5==b&&7==c&&(this.pointX[68]=[this.posX[b],
this.posY[c]]),6==b&&7==c&&(this.pointX[69]=[this.posX[b],this.posY[c]]),7==b&&7==c&&(this.pointX[70]=[this.posX[b],this.posY[c]]),8==b&&7==c&&(this.pointX[71]=[this.posX[b],this.posY[c]]);for(b=0;b<=this.totalOfTile;b++);this.setLevel||(this.setLevel=ig.game.spawnEntity(EntitySetZombiePosition,0,0,{mother:this}))}})});ig.baked=!0;
ig.module("game.entities.buttons.btn-pause").requires("impact.entity").defines(function(){EntityBtnPause=ig.Entity.extend({zIndex:1500,ignorePause:!0,size:{x:62,y:62},type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/btn-pause.png",62,62),init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.pointer=ig.game.getEntitiesByType(EntityPointer)[0]},update:function(){this.parent();ig.game.sortEntitiesDeferred();ig.input.pressed("click")&&
this.pointer.pos.x>this.pos.x&&(this.pointer.pos.x<this.pos.x+this.size.x&&this.pointer.pos.y>this.pos.y&&this.pointer.pos.y<this.pos.y+this.size.y)&&this.clicked()},clicked:function(){this.mother.stage==this.mother.stages.INIT&&!(0<ig.game.getEntitiesByType(EntityDoor).length)&&(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.click),ig.game.spawnEntity(EntityDoor,-500,ig.system.height-640,{opened:!0,paused:!0}),ig.game.paused||(ig.game.paused=!ig.game.paused))},released:function(){}})});
ig.baked=!0;
ig.module("game.entities.characters.boss").requires("impact.entity","game.entities.props.digging","game.entities.common.powerups").defines(function(){EntityBoss=ig.Entity.extend({zIndex:20,size:{x:100,y:150},bodysize:{x:230,y:232},type:ig.Entity.TYPE.B,spreadSheet:0,digOutDistance:0,duration:0.3,strength:3,collides:ig.Entity.COLLIDES.PASSIVE,checkAgainst:ig.Entity.TYPE.B,movingSpeed:4,life:50,boss:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/boss.png"),init:function(b,c,d){this.parent(b,
c,d);this.digOutDistance=-this.bodysize.y;ig.global.wm||(this.digging=ig.game.spawnEntity(EntityDigging,this.pos.x+this.bodysize.x/2-this.bodysize.x/2-20,this.pos.y+this.bodysize.y-75,{mother:this,big:!0}));this.timer=new ig.Timer},update:function(){this.parent();this.shock();this.zIndex=this.pos.y+this.bodysize.y;ig.game.sortEntitiesDeferred();0==this.spreadSheet&&this.digOut||7==this.spreadSheet&&this.digOut?this.timer&&0.8<this.timer.delta()&&(this.pos.y>=ig.system.height-250&&this.mother.stage!=
this.mother.stages.LOSE&&(ig.game.spawnEntity(EntityShock,0,0),ig.game.life-=1,ig.game.hittedSound()),this.spreadSheet+=1,this.timer.reset()):this.timer&&(0.15<this.timer.delta()&&this.digOut)&&(this.spreadSheet+=1,this.timer.reset(),8<this.spreadSheet&&13>this.spreadSheet&&this.pos.y<ig.system.height-250&&(this.pos.y+=this.movingSpeed,this.pos.x-=2),1<this.spreadSheet&&6>this.spreadSheet&&this.pos.y<ig.system.height-250&&(this.pos.y+=this.movingSpeed,this.pos.x+=2),13<this.spreadSheet&&(this.spreadSheet=
0));this.timer&&(0<this.timer.delta()&&!this.digOut)&&(ig.ua.mobile?this.digOutDistance<this.bodysize.y-4?this.digOutDistance+=2:(this.digOutDistance=this.bodysize.y,this.digOut=!0):this.digOutDistance<this.bodysize.y-2?this.digOutDistance+=1:(this.digOutDistance=this.bodysize.y,this.digOut=!0));0>=this.life&&(ig.game.killedZombie+=20,this.mother.killedZombie+=20,ig.game.spawnEntity(EntityBossDeath,this.pos.x-140,this.pos.y-40,{mother:this}),this.spawnpowerups||(this.spawnpowerups=ig.game.spawnEntity(EntityPowerups,
this.pos.x+this.bodysize.x/2-100,this.pos.y+80,{zombies:this,mother:ig.game.getEntitiesByType(EntityRabbit)[0]})),ig.game.crashPlay=!1,ig.game.crashSound(),this.kill());this.hitted&&((this.stopShake=!1)||this.initShock(),ig.game.spawnEntity(EntityBossHit,this.pos.x-40,this.pos.y,{mother:this}),this.hitted=!1)},draw:function(){this.parent();var b=ig.system.context;0<this.digOutDistance+this.bodysize.y*this.spreadSheet&&b.drawImage(this.boss.data,0,this.digOutDistance+this.bodysize.y*this.spreadSheet,
this.bodysize.x,this.bodysize.y,this.pos.x-this.bodysize.x/2+50,this.pos.y-50,this.bodysize.x,this.bodysize.y)},initShock:function(){this.shockTimer=new ig.Timer;this.shockTimer.set(this.duration)},resetShock:function(){this.stopShake=!0},shock:function(){if(this.shockTimer&&-0.2>this.shockTimer.delta()){var b=this.shockTimer.delta(),c=this.strength*Math.pow(-b/this.duration,2);0.5<c&&(this.pos.x+=Math.random().map(0,1,-c,c),this.pos.y-=0)}-0.4<b&&(this.resetShock(),this.pos.x=this.pos.x,this.pos.y=
this.pos.y)},check:function(b){if((b instanceof EntityPink||b instanceof EntityGreen||b instanceof EntityBoss)&&this.zIndex==b.zIndex&&this.id>b.id)this.zIndex-=5}});EntityBossHit=ig.Entity.extend({zIndex:20,size:{x:201,y:135},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/boss_hit.png",201,135),init:function(b,c,d){this.parent(b,c,d);this.setScale(1.2,1.2);this.addAnim("hit",0.05,[0,1,2,3,4,5,6,7]);this.currentAnim=this.anims.hit.rewind();this.zIndex=this.mother.zIndex+
10},update:function(){this.parent();this.currentAnim.loopCount&&this.kill()}});EntityBossDeath=ig.Entity.extend({zIndex:20,size:{x:303,y:270},animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/characters/boss_death.png",303,270),init:function(b,c,d){this.parent(b,c,d);this.addAnim("hit",0.07,[0,1,2,3,4,5,6,7,8,9,10,11]);this.addAnim("idle",0.2,[11]);this.currentAnim=this.anims.hit.rewind();this.zIndex=this.mother.zIndex},update:function(){this.parent();this.currentAnim.loopCount&&
(this.currentAnim=this.anims.idle);this.currentAnim==this.anims.idle&&(0.05<this.currentAnim.alpha?this.currentAnim.alpha-=0.05:this.kill())}})});ig.baked=!0;
ig.module("game.entities.common.tutorial-bar").requires("impact.entity").defines(function(){EntityTutorialBar=ig.Entity.extend({size:{x:136,y:135},zIndex:5E3,type:ig.Entity.TYPE.A,sizeBarX:0,startFont:0,animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/door-hold.png",136,135),init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.fontTimer=new ig.Timer},update:function(){this.parent();0<ig.game.getEntitiesByType(EntityDoor).length||(1==this.mother.tutorialStage&&
(!this.isTweenIN&&1==ig.game.level)&&(this.tweenIn(),this.isTweenIN=!0),ig.input.pressed("click")&&!0==this.mother.tutorial&&5!=this.mother.tutorialStage&&(8!=this.mother.tutorialStage&&11!=this.mother.tutorialStage&&14!=this.mother.tutorialStage&&19!=this.mother.tutorialStage)&&(7!=this.mother.tutorialStage&&(10!=this.mother.tutorialStage&&13!=this.mother.tutorialStage)&&(this.startFont=0),this.mother.tutorialStage+=1))},tweenIn:function(){this.tween({pos:{x:10}},1,{onComplete:function(){this.tweenComplete=
!0}.bind(this),easing:ig.Tween.Easing.Elastic.EaseOut,delay:0}).start()},tweenOut:function(){this.tween({pos:{x:-200}},1,{onComplete:function(){ig.game.tutorial=!1;this.mother.tutorial=!1;this.mother.tutorialStage=1}.bind(this),easing:ig.Tween.Easing.Elastic.EaseOut,delay:0}).start()},draw:function(){if(!1!=this.mother.tutorial){this.tweenComplete&&(this.sizeBarX<ig.system.width-100&&!this.glow?this.sizeBarX+=30:(this.glow=!0,!0==this.glow&&19==this.mother.tutorialStage&&10<this.sizeBarX?this.sizeBarX-=
30:10>=this.sizeBarX&&!this.tweenBack&&(this.tweenOut(),this.tweenBack=!0)));var b=ig.system.context;b.save();b.globalAlpha=0.3;b.fillStyle="#1f9022";b.fillRect(this.pos.x+this.size.x/2,this.pos.y,this.sizeBarX,this.size.y);b.restore();ig.system.context.save();ig.system.context.font=ig.ua.mobile?"18px cloudy":"28px cloudy";ig.system.context.fillStyle="#FFFFFF";ig.system.context.textAlign="left";this.wrapText(b);ig.system.context.restore();this.parent();!0==this.mother.tutorial&&(this.tweenComplete&&
this.glow)&&(ig.system.context.save(),ig.system.context.font="28px cloudy",ig.system.context.fillStyle="#FFFFFF",ig.system.context.textAlign="left",ig.system.context.fillText("Skip",20,ig.system.height-40),ig.system.context.restore());if((this.pointer=ig.game.getEntitiesByType(EntityPointer)[0])&&this.glow&&ig.input.pressed("click")&&18>this.mother.tutorialStage&&100>this.pointer.pos.x&&this.pointer.pos.y>ig.system.height-100)this.startFont=0,this.mother.tutorialStage=18}},wrapText:function(b){var c=
this.pos.x+150,d=this.pos.y+40;this.maxLengthX=ig.system.width-200;var j=_STRINGS.TUTORIAL[this.mother.tutorialStage].split(" "),f="",n=ig.system.width-200,t=ig.ua.mobile?20:35;this.tweenComplete&&(this.fontTimer&&0.1<this.fontTimer.delta()&&this.startFont<j.length)&&(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.typing),this.startFont+=1,this.fontTimer.reset());for(var r=0;r<this.startFont;r++){var e=f+j[r]+" ";b.measureText(e).width>n&&0<r?(b.fillText(f,c,d),f=j[r]+" ",d+=t):f=e}b.fillText(f,
c,d)}})});ig.baked=!0;
ig.module("game.entities.common.game-control").requires("impact.entity","game.entities.characters.pink","game.entities.characters.green","game.entities.characters.rabbit","game.entities.props.door","game.entities.props.words","game.entities.common.spawn-mechanic","game.entities.buttons.btn-pause","game.entities.characters.boss","game.entities.common.tutorial-bar").defines(function(){EntityGameControl=ig.Entity.extend({zIndex:1,killedZombie:0,size:{x:75,y:125},levelTime:60,stage:1,stages:{TUTORIAL:1,
INIT:2,LOSE:3},tutorial:!1,tutorialStage:1,killedZombie:0,zombieTime:2,level:1,ignorePause:!0,roarTime:0,redAlpha:0,land:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/land.png"),yes:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/btn-yes.png"),weapon:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/btn-info.png"),init:function(b,c,d){this.tutorial=ig.game.tutorial;this.parent(b,c,d);this.timer=new ig.Timer;this.wavePos=ig.system.width+400;ig.global.wm||
(this.grid=ig.game.spawnEntity(EntitySpawnMechanic,0,0),this.tutorialBar=ig.game.spawnEntity(EntityTutorialBar,-150,100,{mother:this}),this.roarTimer=new ig.Timer,ig.game.spawnEntity(EntityWords,ig.system.width/2-184,ig.system.height/2+80,{begin:!0}),ig.game.spawnEntity(EntityDoor,ig.system.width/2,ig.system.height-640,{closed:!0}),this.rabbit||(this.rabbit=ig.game.spawnEntity(EntityRabbit,ig.system.width/2-56.75,ig.system.height-150,{mother:this})))},update:function(){!ig.global.wm&&(!this.tutorial&&
!this.pause)&&(this.pause=ig.game.spawnEntity(EntityBtnPause,150,10,{mother:this}));this.roarTimer&&(this.setRoarTimer||(this.roarTime=Math.floor(20*Math.random()),this.setRoarTimer=!0),this.roarTimer.delta()>this.roarTime&&(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.roar),this.setRoarTimer=!1,this.roarTimer.reset()));this.parent();switch(this.stage){case this.stages.TUTORIAL:this.tutorial||(this.stage=this.stages.INIT);1==ig.game.level?this.tutorialFunction():(this.tutorial=!1,this.stage=
this.stages.INIT);break;case this.stages.INIT:this.spawnZombies();break;case this.stages.LOSE:this.levelTimer&&this.levelTimer.pause(),this.lose||(ig.game.spawnEntity(EntityDoor,-150,ig.system.height-640,{opened:!0,lose:!0,mother:this}),this.lose=!0)}},spawnZombies:function(){this.levelTimer||(this.levelTimer=new ig.Timer);if(2>=ig.game.level&&!this.waveRest){if(this.timer&&this.timer.delta()>this.zombieTime&&this.levelTimer.delta()<this.levelTime){if(this.grid&&this.grid.setLevel&&0<this.grid.setLevel.POSITIONPINK.length&&
0>=ig.game.getEntitiesByType(EntityPink).length){for(var b=0;b<this.grid.setLevel.POSITIONPINK.length;b++)this.zombie=ig.game.spawnEntity(EntityPink,this.grid.pointX[this.grid.setLevel.POSITIONPINK[b]][0],this.grid.pointX[this.grid.setLevel.POSITIONPINK[b]][1],{mother:this});ig.soundHandler.playSound(ig.soundHandler.SOUNDID.digging)}this.timer.reset()}}else if(2<ig.game.level&&!this.waveRest&&this.levelTimer.delta()<this.levelTime&&this.timer&&this.timer.delta()>this.zombieTime){if(this.grid&&this.grid.setLevel&&
0<this.grid.setLevel.POSITIONPINK.length&&0>=ig.game.getEntitiesByType(EntityPink).length){for(b=0;b<this.grid.setLevel.POSITIONPINK.length;b++)this.zombie=ig.game.spawnEntity(EntityPink,this.grid.pointX[this.grid.setLevel.POSITIONPINK[b]][0],this.grid.pointX[this.grid.setLevel.POSITIONPINK[b]][1],{mother:this});ig.soundHandler.playSound(ig.soundHandler.SOUNDID.digging)}if(this.grid&&this.grid.setLevel&&0<this.grid.setLevel.POSITIONGREEN.length&&0>=ig.game.getEntitiesByType(EntityGreen).length){for(b=
0;b<this.grid.setLevel.POSITIONGREEN.length;b++)this.zombie=ig.game.spawnEntity(EntityGreen,this.grid.pointX[this.grid.setLevel.POSITIONGREEN[b]][0],this.grid.pointX[this.grid.setLevel.POSITIONGREEN[b]][1],{mother:this});ig.soundHandler.playSound(ig.soundHandler.SOUNDID.digging)}if(5<=ig.game.level&&this.grid&&this.grid.setLevel&&0<this.grid.setLevel.POSITIONBOSS.length&&!this.bossComing)for(b=0;b<this.grid.setLevel.POSITIONBOSS.length;b++)this.boss=ig.game.spawnEntity(EntityBoss,this.grid.pointX[this.grid.setLevel.POSITIONBOSS[b]][0]-
115,this.grid.pointX[this.grid.setLevel.POSITIONBOSS[b]][1]-150,{mother:this}),this.bossComing=!0;this.timer.reset()}this.gameWave()},gameWave:function(){this.levelTimer.delta()>=this.levelTime&&99>this.level&&(0.6<this.zombieTime&&(this.zombieTime-=0.1),this.bossComing=!1,this.nextLevel?(ig.game.level+=1,this.levelTimer.reset(),this.nextLevel=!1):0>=ig.game.getEntitiesByType(EntityPink).length&&(0>=ig.game.getEntitiesByType(EntityGreen).length&&0>=ig.game.getEntitiesByType(EntityBoss).length&&0>=
ig.game.getEntitiesByType(EntityPurpleDeath).length)&&(this.waveRest=!0));ig.game.paused?this.levelTimer.pause():this.levelTimer.unpause()},tutorialFunction:function(){if(!0==this.tutorial)switch(this.tutorialStage){case 5:if(this.grid&&this.grid.setLevel&&this.grid.setLevel.POSITIONPINK&&0<this.grid.setLevel.POSITIONPINK.length&&!this.zombie)for(var b=0;b<this.grid.setLevel.POSITIONPINK.length;b++)ig.soundHandler.playSound(ig.soundHandler.SOUNDID.digging),this.zombie=ig.game.spawnEntity(EntityPink,
this.grid.pointX[this.grid.setLevel.POSITIONPINK[b]][0]-92,this.grid.pointX[this.grid.setLevel.POSITIONPINK[b]][1]-100,{mother:this});break;case 13:if(this.grid&&this.grid.setLevel&&this.grid.setLevel.POSITIONPINK&&0<this.grid.setLevel.POSITIONPINK.length&&!this.zombie2)for(b=0;b<this.grid.setLevel.POSITIONPINK.length;b++)ig.soundHandler.playSound(ig.soundHandler.SOUNDID.digging),this.zombie2=ig.game.spawnEntity(EntityPink,this.grid.pointX[this.grid.setLevel.POSITIONPINK[b]][0]-92,this.grid.pointX[this.grid.setLevel.POSITIONPINK[b]][1]-
100,{mother:this})}},draw:function(){this.parent();this.land.draw(ig.system.width/2-320,ig.system.height-this.land.height);if(4==this.tutorialStage){0.95>this.redAlpha&&!this.stopGlow?this.redAlpha+=0.02:(this.stopGlow=!0,0.05<this.redAlpha&&this.stopGlow?this.redAlpha-=0.02:this.stopGlow=!1);var b=ig.system.context;b.save();b.globalAlpha=this.redAlpha;b.fillStyle="#ff0000";b.fillRect(0,ig.system.height-100,ig.system.width,40);b.restore()}this.waveRest&&!ig.game.paused&&(this.saved||(ig.game.localStorageSupport?
ig.game.storage.set("SD-RabbitPoints :",ig.game.storage.get("SD-RabbitPoints :")+this.killedZombie):(console.log("this is not support localstorage  save game"),ig.game.savingVariable.RabbitPoints+=this.killedZombie),this.saved=!0),this.goNextLevel?-200<this.wavePos?this.wavePos-=10:(this.nextLevel=!0,this.goNextLevel=this.waveRest=!1,this.wavePos=ig.system.width+200):this.wavePos>ig.system.width/2?this.wavePos-=10:(ig.game.bulletType=this.rabbit.bulletType,ig.game.continueLevel=!0,this.closeDoor||
(99>ig.game.level?ig.game.spawnEntity(EntityDoor,-500,ig.system.height-640,{opened:!0,upgradeWeapon:!0,levelPlus:!0}):ig.game.spawnEntity(EntityDoor,-150,ig.system.height-640,{opened:!0,lose:!0,mother:this}),this.closeDoor=!0)))}})});ig.baked=!0;
ig.module("game.levels.game_desk").requires("impact.image","game.entities.common.game-control").defines(function(){LevelGame_desk={entities:[{type:"EntityGameControl",x:12,y:8}],layer:[{name:"new_layer_0",width:20,height:20,linkWithCollision:!1,visible:1,tilesetName:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/background/background-desk.png",repeat:!1,preRender:!0,distance:"1",tilesize:32,foreground:!1,data:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],[21,22,23,24,25,26,27,28,29,30,31,32,
33,34,35,36,37,38,39,40],[41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],[61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],[81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],[101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140],[141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160],[161,162,163,164,165,166,167,168,169,170,171,
172,173,174,175,176,177,178,179,180],[181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200],[201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220],[221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240],[241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260],[261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280],[281,282,283,284,285,286,287,288,289,290,291,292,293,294,
295,296,297,298,299,300],[301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320],[321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340],[341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360],[361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380],[381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400]]},{name:"collision",width:20,height:20,linkWithCollision:!1,visible:1,
tilesetName:"",repeat:!1,preRender:!1,distance:1,tilesize:30,foreground:!1,data:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,12,12,12,12,12,12,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}]};LevelGame_deskResources=[new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/background/background-desk.png")]});
ig.baked=!0;
ig.module("game.levels.game_tablet").requires("impact.image","game.entities.common.game-control").defines(function(){LevelGame_tablet={entities:[{type:"EntityGameControl",x:8,y:8}],layer:[{name:"new_layer_0",width:15,height:20,linkWithCollision:!1,visible:!0,tilesetName:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/background/background-tablet.png",repeat:!1,preRender:!0,distance:"1",tilesize:32,foreground:!1,data:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],
[31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],[46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],[61,62,63,64,65,66,67,68,69,70,71,72,73,74,75],[76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],[91,92,93,94,95,96,97,98,99,100,101,102,103,104,105],[106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135],[136,137,138,139,140,141,142,143,144,145,146,147,148,149,150],[151,152,153,154,155,156,157,158,159,160,161,162,163,164,165],[166,167,168,
169,170,171,172,173,174,175,176,177,178,179,180],[181,182,183,184,185,186,187,188,189,190,191,192,193,194,195],[196,197,198,199,200,201,202,203,204,205,206,207,208,209,210],[211,212,213,214,215,216,217,218,219,220,221,222,223,224,225],[226,227,228,229,230,231,232,233,234,235,236,237,238,239,240],[241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],[256,257,258,259,260,261,262,263,264,265,266,267,268,269,270],[271,272,273,274,275,276,277,278,279,280,281,282,283,284,285],[286,287,288,289,290,
291,292,293,294,295,296,297,298,299,300]]},{name:"collision",width:15,height:20,linkWithCollision:!1,visible:!0,tilesetName:"",repeat:!1,preRender:!1,distance:1,tilesize:32,foreground:!1,data:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,12,12,12,12,12,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}]};LevelGame_tabletResources=[new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/background/background-tablet.png")]});ig.baked=!0;
ig.module("game.entities.props.weapon-upgrade").requires("impact.entity","game.entities.props.door").defines(function(){EntityWeaponUpgrade=ig.Entity.extend({zIndex:2900,size:{x:447,y:467},type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/level-up.png",447,467),carrot:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/carrot.png"),banana:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/banana.png"),baseball:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/baseball.png"),
dart:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/dart.png"),plunger:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/plunger.png"),rocket:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/rocket.png"),tennisball:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/tennis-ball.png"),weapons:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/bullets2.png"),plus:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/plus.png"),
levelBar:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/point-bar.png"),levelBar1:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/lvl_1.png"),levelBar2:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/lvl_2.png"),bulletType:0,carrot2:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/carrot-upgrade.png"),banana2:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/banana-upgrade.png"),tennis2:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/tennis-upgrade.png"),
dart2:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/dart-upgrade.png"),plunger2:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/plunger-upgrade.png"),baseball2:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/baseball-upgrade.png"),rocket2:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/props/rocket-upgrade.png"),home:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/btn-home.png"),returnGame:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/btn-return.png"),
yes:new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/buttons/btn-yes.png"),init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(this.pointer=ig.game.spawnEntity(EntityPointer,-100,0),this.door=ig.ua.mobile?ig.game.spawnEntity(EntityDoor,-80,ig.system.height-640,{closed:!0,upgradeWeapon:!0}):ig.game.spawnEntity(EntityDoor,0,ig.system.height-640,{closed:!0,upgradeWeapon:!0}));this.pos.x=ig.system.width/2-this.size.x/2;this.pos.y=-this.size.y;this.addAnim("idle",1,[0]);ig.global.wm||this.tweenIN()},
tweenIN:function(){this.tween({pos:{y:5}},1.5,{onComplete:function(){this.tweenComplete=!0}.bind(this),easing:ig.Tween.Easing.Circular.EaseOut,delay:0}).start()},draw:function(){this.parent();var b=ig.system.context;ig.game.continueLevel?99>ig.game.level?b.drawImage(this.returnGame.data,0,0,this.returnGame.width,this.returnGame.height,ig.system.width-this.returnGame.width+35,ig.system.height-this.returnGame.height+35,this.returnGame.width-30,this.returnGame.height-30):b.drawImage(this.home.data,0,
0,this.home.width,this.home.height,ig.system.width-this.home.width+35,ig.system.height-this.home.height+35,this.home.width-30,this.home.height-30):b.drawImage(this.home.data,0,0,this.home.width,this.home.height,ig.system.width-this.home.width+35,ig.system.height-this.home.height+35,this.home.width-30,this.home.height-30);ig.input.pressed("click")&&1==ig.game.getEntitiesByType(EntityDoor).length&&(this.door2=ig.game.getEntitiesByType(EntityDoor2)[0],this.pointer.pos.x>ig.system.width-this.home.width+
35&&this.pointer.pos.y>ig.system.height-this.home.height+35&&(ig.game.continueLevel?99>ig.game.level?(ig.game.continueLevel=!1,this.kill(),this.door.kill(),this.door2.kill(),ig.ua.mobile?ig.game.director.jumpTo(LevelGame_tablet):ig.game.director.jumpTo(LevelGame_desk),ig.game.spawnEntity(EntityDoor,0,ig.system.height-640,{closed:!0})):(ig.game.life=3,ig.game.level=1,ig.game.bulletType=0,ig.game.killedZombie=0,ig.game.continueLevel=!1,this.kill(),this.door.kill(),this.door2.kill(),ig.ua.mobile?ig.game.director.jumpTo(LevelMenu_tablet):
ig.game.director.jumpTo(LevelMenu_desk),ig.game.spawnEntity(EntityDoor,0,ig.system.height-640,{closed:!0,backToHome:!0})):(ig.game.life=3,ig.game.level=1,ig.game.bulletType=0,ig.game.killedZombie=0,this.kill(),this.door2.kill(),this.door.kill(),ig.ua.mobile?ig.game.director.jumpTo(LevelMenu_tablet):ig.game.director.jumpTo(LevelMenu_desk),ig.game.spawnEntity(EntityDoor,0,ig.system.height-640,{closed:!0,backToHome:!0})),ig.soundHandler.playSound(ig.soundHandler.SOUNDID.click)));this.drawLevelUp();this.initButtonSize=
this.initButtonSize<this.weapons.width/2?this.initButtonSize+2:this.weapons.width/2;for(var c=0;7>c;c++){this.setAmount||(this.amount=[],this.amount[this]=[],this.setAmount=!0);ig.game.localStorageSupport?(0==c&&(this.amount[c]=ig.game.storage.get("SD-Weapon0Amount :")),1==c&&(this.amount[c]=ig.game.storage.get("SD-Weapon1Amount :")),2==c&&(this.amount[c]=ig.game.storage.get("SD-Weapon2Amount :")),3==c&&(this.amount[c]=ig.game.storage.get("SD-Weapon3Amount :")),4==c&&(this.amount[c]=ig.game.storage.get("SD-Weapon4Amount :")),
5==c&&(this.amount[c]=ig.game.storage.get("SD-Weapon5Amount :")),6==c&&(this.amount[c]=ig.game.storage.get("SD-Weapon6Amount :"))):(console.log("doesnt support local storage"),0==c&&(this.amount[c]=ig.game.savingVariable.Weapon0Amount),1==c&&(this.amount[c]=ig.game.savingVariable.Weapon1Amount),2==c&&(this.amount[c]=ig.game.savingVariable.Weapon2Amount),3==c&&(this.amount[c]=ig.game.savingVariable.Weapon3Amount),4==c&&(this.amount[c]=ig.game.savingVariable.Weapon4Amount),5==c&&(this.amount[c]=ig.game.savingVariable.Weapon5Amount),
6==c&&(this.amount[c]=ig.game.savingVariable.Weapon6Amount));if(c!=this.bulletType)4>c?(b.save(),b.fillStyle=1<c&&0>=this.amount[c]?"rgba(0,0,0,1)":"rgba(255,255,255,1.0)",b.fillRect(ig.system.width/2-175+100*c+8,ig.system.height-150,this.weapons.width-85,this.weapons.width/2),b.restore(),b.drawImage(this.weapons.data,69,69*c,69,69,ig.system.width/2-175+100*c,ig.system.height-150,69,69)):(b.save(),b.fillStyle=1<c&&0>=this.amount[c]?"rgba(0,0,0,1)":"rgba(255,255,255,1.0)",b.fillRect(ig.system.width/
2-175+100*c+8-400,ig.system.height-70,this.weapons.width-85,this.weapons.width/2),b.restore(),b.drawImage(this.weapons.data,69,69*c,69,69,ig.system.width/2-175+100*c-400,ig.system.height-70,69,69));else if(2==c&&(this.unlockCost=200),3==c&&(this.unlockCost=200),4==c&&(this.unlockCost=300),5==c&&(this.unlockCost=300),6==c&&(this.unlockCost=500),4>c){b.save();if(1<c&&0>=this.amount[c]){b.fillStyle="rgba(255,0,0,0.6)";ig.system.context.save();ig.system.context.font="35px cloudy";ig.system.context.fillStyle=
"#FFFFFF";ig.system.context.textAlign="left";var d=this.pos.x+170,j=this.pos.y+210;ig.system.context.fillText("Unlock this? ",d,j);ig.system.context.fillText(this.unlockCost+" Points",d+18,j+50);ig.system.context.restore();this.yes.draw(this.pos.x+245,this.pos.y+280);ig.input.pressed("click")&&1==ig.game.getEntitiesByType(EntityDoor).length&&(this.pointer.pos.x>this.pos.x+245&&this.pointer.pos.x<this.pos.x+245+this.yes.width&&this.pointer.pos.y>this.pos.y+280&&this.pointer.pos.y<this.pos.y+280+this.yes.height)&&
(ig.game.localStorageSupport?ig.game.storage.get("SD-RabbitPoints :")>=this.unlockCost&&(2==c&&ig.game.storage.set("SD-Weapon2Amount :",ig.game.storage.get("SD-Weapon2Amount :")+50),3==c&&ig.game.storage.set("SD-Weapon3Amount :",ig.game.storage.get("SD-Weapon3Amount :")+50),4==c&&ig.game.storage.set("SD-Weapon4Amount :",ig.game.storage.get("SD-Weapon4Amount :")+50),5==c&&ig.game.storage.set("SD-Weapon5Amount :",ig.game.storage.get("SD-Weapon5Amount :")+50),6==c&&ig.game.storage.set("SD-Weapon6Amount :",
ig.game.storage.get("SD-Weapon6Amount :")+50),ig.soundHandler.playSound(ig.soundHandler.SOUNDID.reload),ig.game.storage.set("SD-RabbitPoints :",ig.game.storage.get("SD-RabbitPoints :")-this.unlockCost),this.amount[c]=50):(console.log("doesnt support localstorage"),ig.game.savingVariable.RabbitPoints>=this.unlockCost&&(2==c&&(ig.game.savingVariable.Weapon2Amount+=50),3==c&&(ig.game.savingVariable.Weapon3Amount+=50),4==c&&(ig.game.savingVariable.Weapon4Amount+=50),5==c&&(ig.game.savingVariable.Weapon5Amount+=
50),6==c&&(ig.game.savingVariable.Weapon6Amount+=50),ig.soundHandler.playSound(ig.soundHandler.SOUNDID.reload),ig.game.savingVariable.RabbitPoints-=this.unlockCost,this.amount[c]=50)))}else b.fillStyle="rgba(0,128,0,1.0)";b.fillRect(ig.system.width/2-175+100*c+8,ig.system.height-150+(this.weapons.width/2-this.initButtonSize)/2,this.weapons.width-85,this.initButtonSize);b.restore();b.drawImage(this.weapons.data,0,69*c,69,69,ig.system.width/2-175+100*c+(this.weapons.width/2-this.initButtonSize)/2,ig.system.height-
150+(this.weapons.width/2-this.initButtonSize)/2,this.initButtonSize,this.initButtonSize)}else b.save(),1<c&&0>=this.amount[c]?(b.fillStyle="rgba(255,0,0,0.6)",ig.system.context.save(),ig.system.context.font="35px cloudy",ig.system.context.fillStyle="#FFFFFF",ig.system.context.textAlign="left",d=this.pos.x+170,j=this.pos.y+210,ig.system.context.fillText("Unlock this? ",d,j),ig.system.context.fillText(this.unlockCost+" Points",d+18,j+50),ig.system.context.restore(),this.yes.draw(this.pos.x+245,this.pos.y+
280),ig.input.pressed("click")&&1==ig.game.getEntitiesByType(EntityDoor).length&&(this.pointer.pos.x>this.pos.x+245&&this.pointer.pos.x<this.pos.x+245+this.yes.width&&this.pointer.pos.y>this.pos.y+280&&this.pointer.pos.y<this.pos.y+280+this.yes.height)&&(ig.game.localStorageSupport?ig.game.storage.get("SD-RabbitPoints :")>=this.unlockCost&&(2==c&&ig.game.storage.set("SD-Weapon2Amount :",ig.game.storage.get("SD-Weapon2Amount :")+50),3==c&&ig.game.storage.set("SD-Weapon3Amount :",ig.game.storage.get("SD-Weapon3Amount :")+
50),4==c&&ig.game.storage.set("SD-Weapon4Amount :",ig.game.storage.get("SD-Weapon4Amount :")+50),5==c&&ig.game.storage.set("SD-Weapon5Amount :",ig.game.storage.get("SD-Weapon5Amount :")+50),6==c&&ig.game.storage.set("SD-Weapon6Amount :",ig.game.storage.get("SD-Weapon6Amount :")+50),ig.soundHandler.playSound(ig.soundHandler.SOUNDID.reload),ig.game.storage.set("SD-RabbitPoints :",ig.game.storage.get("SD-RabbitPoints :")-this.unlockCost),this.amount[c]=50):(console.log("doesnt support local storage"),
ig.game.savingVariable.RabbitPoints>=this.unlockCost&&(2==c&&(ig.game.savingVariable.Weapon2Amount+=50),3==c&&(ig.game.savingVariable.Weapon3Amount+=50),4==c&&(ig.game.savingVariable.Weapon4Amount+=50),5==c&&(ig.game.savingVariable.Weapon5Amount+=50),6==c&&(ig.game.savingVariable.Weapon6Amount+=50),ig.soundHandler.playSound(ig.soundHandler.SOUNDID.reload),ig.game.savingVariable.RabbitPoints-=this.unlockCost,this.amount[c]=50)))):b.fillStyle="rgba(0,128,0,1.0)",b.fillRect(ig.system.width/2-175+100*
c+8-400,ig.system.height-70+(this.weapons.width/2-this.initButtonSize)/2,this.weapons.width-85,this.initButtonSize),b.restore(),b.drawImage(this.weapons.data,0,69*c,69,69,ig.system.width/2-175+100*c-400+(this.weapons.width/2-this.initButtonSize)/2,ig.system.height-70+(this.weapons.width/2-this.initButtonSize)/2,this.initButtonSize,this.initButtonSize);ig.input.pressed("click")&&1==ig.game.getEntitiesByType(EntityDoor).length&&(this.pointer.pos.x>ig.system.width/2-175+100*c&&this.pointer.pos.x<ig.system.width/
2-175+100*c+100&&this.pointer.pos.y>ig.system.height-150&&this.pointer.pos.y<ig.system.height-80?(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.click),this.bulletType=c,this.initButtonSize=50):this.pointer.pos.x>ig.system.width/2-175+100*c-400&&(this.pointer.pos.x<ig.system.width/2-175+100*c-400+100&&this.pointer.pos.y>ig.system.height-70&&3<c)&&(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.click),this.bulletType=c,this.initButtonSize=50))}},drawLevelUp:function(){ig.game.localStorageSupport?
(0==this.bulletType&&ig.game.storage.isSet("SD-Weapon0Amount :")&&(this.weaponDamage=ig.game.storage.get("SD-RabbitWeapon0-damage :"),this.weaponSpeed=ig.game.storage.get("SD-RabbitWeapon0-speed :"),this.weaponAmount=ig.game.storage.get("SD-Weapon0Amount :"),this.initDamage1=2,this.initSpeed1=10,this.initAmount1=50),1==this.bulletType&&ig.game.storage.isSet("SD-Weapon1Amount :")&&(this.weaponDamage=ig.game.storage.get("SD-RabbitWeapon1-damage :"),this.weaponSpeed=ig.game.storage.get("SD-RabbitWeapon1-speed :"),
this.weaponAmount=ig.game.storage.get("SD-Weapon1Amount :"),this.initDamage1=1,this.initSpeed1=5,this.initAmount1=50),2==this.bulletType&&ig.game.storage.isSet("SD-Weapon2Amount :")&&(this.weaponDamage=ig.game.storage.get("SD-RabbitWeapon2-damage :"),this.weaponSpeed=ig.game.storage.get("SD-RabbitWeapon2-speed :"),this.weaponAmount=ig.game.storage.get("SD-Weapon2Amount :"),this.initDamage1=1,this.initSpeed1=8,this.initAmount1=50),3==this.bulletType&&ig.game.storage.isSet("SD-Weapon3Amount :")&&(this.weaponDamage=
ig.game.storage.get("SD-RabbitWeapon3-damage :"),this.weaponSpeed=ig.game.storage.get("SD-RabbitWeapon3-speed :"),this.weaponAmount=ig.game.storage.get("SD-Weapon3Amount :"),this.initDamage1=1,this.initSpeed1=3,this.initAmount1=50),4==this.bulletType&&ig.game.storage.isSet("SD-Weapon4Amount :")&&(this.weaponDamage=ig.game.storage.get("SD-RabbitWeapon4-damage :"),this.weaponSpeed=ig.game.storage.get("SD-RabbitWeapon4-speed :"),this.weaponAmount=ig.game.storage.get("SD-Weapon4Amount :"),this.initDamage1=
2,this.initSpeed1=10,this.initAmount1=50),5==this.bulletType&&ig.game.storage.isSet("SD-Weapon5Amount :")&&(this.weaponDamage=ig.game.storage.get("SD-RabbitWeapon5-damage :"),this.weaponSpeed=ig.game.storage.get("SD-RabbitWeapon5-speed :"),this.weaponAmount=ig.game.storage.get("SD-Weapon5Amount :"),this.initDamage1=5,this.initSpeed1=4,this.initAmount1=50),6==this.bulletType&&ig.game.storage.isSet("SD-Weapon6Amount :")&&(this.weaponDamage=ig.game.storage.get("SD-RabbitWeapon6-damage :"),this.weaponSpeed=
ig.game.storage.get("SD-RabbitWeapon6-speed :"),this.weaponAmount=ig.game.storage.get("SD-Weapon6Amount :"),this.initDamage1=1,this.initSpeed1=10,this.initAmount1=50)):(console.log("not support local storage"),0==this.bulletType&&(this.weaponDamage=ig.game.savingVariable["RabbitWeapon0-damage"],this.weaponSpeed=ig.game.savingVariable["RabbitWeapon0-speed"],this.weaponAmount=ig.game.savingVariable.Weapon0Amount,this.initDamage1=2,this.initSpeed1=10,this.initAmount1=50),1==this.bulletType&&(this.weaponDamage=
ig.game.savingVariable["RabbitWeapon1-damage"],this.weaponSpeed=ig.game.savingVariable["RabbitWeapon1-speed"],this.weaponAmount=ig.game.savingVariable.Weapon1Amount,this.initDamage1=1,this.initSpeed1=5,this.initAmount1=50),2==this.bulletType&&(this.weaponDamage=ig.game.savingVariable["RabbitWeapon2-damage"],this.weaponSpeed=ig.game.savingVariable["RabbitWeapon2-speed"],this.weaponAmount=ig.game.savingVariable.Weapon2Amount,this.initDamage1=1,this.initSpeed1=8,this.initAmount1=50),3==this.bulletType&&
(this.weaponDamage=ig.game.savingVariable["RabbitWeapon3-damage"],this.weaponSpeed=ig.game.savingVariable["RabbitWeapon3-speed"],this.weaponAmount=ig.game.savingVariable.Weapon3Amount,this.initDamage1=1,this.initSpeed1=3,this.initAmount1=50),4==this.bulletType&&(this.weaponDamage=ig.game.savingVariable["RabbitWeapon4-damage"],this.weaponSpeed=ig.game.savingVariable["RabbitWeapon4-speed"],this.weaponAmount=ig.game.savingVariable.Weapon4Amount,this.initDamage1=2,this.initSpeed1=10,this.initAmount1=
50),5==this.bulletType&&(this.weaponDamage=ig.game.savingVariable["RabbitWeapon5-damage"],this.weaponSpeed=ig.game.savingVariable["RabbitWeapon5-speed"],this.weaponAmount=ig.game.savingVariable.Weapon5Amount,this.initDamage1=5,this.initSpeed1=4,this.initAmount1=50),6==this.bulletType&&(this.weaponDamage=ig.game.savingVariable["RabbitWeapon6-damage"],this.weaponSpeed=ig.game.savingVariable["RabbitWeapon6-speed"],this.weaponAmount=ig.game.savingVariable.Weapon6Amount,this.initDamage1=1,this.initSpeed1=
10,this.initAmount1=50));this.drawDamage();this.drawSpeed();this.drawAmount()},drawDamage:function(){var b=ig.system.context;if(this.weaponDamage&&4!=this.bulletType&&5!=this.bulletType&&6!=this.bulletType&&this.weaponDamage<this.initDamage1+3&&0<this.weaponAmount){if(b.save(),this.weaponDamage>this.initDamage1?this.levelBar1.draw(this.pos.x+200,this.pos.y+95):this.levelBar2.draw(this.pos.x+200,this.pos.y+95),b.restore(),b.save(),this.weaponDamage>this.initDamage1+1?this.levelBar1.draw(this.pos.x+
250,this.pos.y+95):this.levelBar2.draw(this.pos.x+250,this.pos.y+95),b.restore(),b.save(),this.weaponDamage>this.initDamage1+2?this.levelBar1.draw(this.pos.x+300,this.pos.y+95):this.levelBar2.draw(this.pos.x+300,this.pos.y+95),b.restore(),this.weaponDamage<this.initDamage1+3){if(this.weaponDamage>this.initDamage1+1)this.weaponCost=300;else if(this.weaponDamage>this.initDamage1)this.weaponCost=200;else if(this.weaponDamage=this.initDamage1)this.weaponCost=100;ig.system.context.save();ig.system.context.font=
"20px cloudy";ig.system.context.fillStyle="#FFFFFF";ig.system.context.textAlign="left";ig.system.context.fillText(this.weaponCost+" Points",this.pos.x+206,this.pos.y+170);ig.system.context.restore();this.plus.draw(this.pos.x+350,this.pos.y+83);ig.input.pressed("click")&&1==ig.game.getEntitiesByType(EntityDoor).length&&(ig.game.localStorageSupport?this.pointer.pos.x>this.pos.x+350&&(this.pointer.pos.y>this.pos.y+75&&this.pointer.pos.y<this.pos.y+115&&ig.game.storage.get("SD-RabbitPoints :")>=this.weaponCost)&&
(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.reload),ig.game.storage.set("SD-RabbitPoints :",ig.game.storage.get("SD-RabbitPoints :")-this.weaponCost),0==this.bulletType&&ig.game.storage.set("SD-RabbitWeapon0-damage :",ig.game.storage.get("SD-RabbitWeapon0-damage :")+1),1==this.bulletType&&ig.game.storage.set("SD-RabbitWeapon1-damage :",ig.game.storage.get("SD-RabbitWeapon1-damage :")+1),2==this.bulletType&&ig.game.storage.set("SD-RabbitWeapon2-damage :",ig.game.storage.get("SD-RabbitWeapon2-damage :")+
1),3==this.bulletType&&ig.game.storage.set("SD-RabbitWeapon3-damage :",ig.game.storage.get("SD-RabbitWeapon3-damage :")+1)):(console.log("doesnt support local storage"),this.pointer.pos.x>this.pos.x+350&&(this.pointer.pos.y>this.pos.y+75&&this.pointer.pos.y<this.pos.y+115&&ig.game.savingVariable.RabbitPoints>=this.weaponCost)&&(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.reload),ig.game.savingVariable.RabbitPoints-=this.weaponCost,0==this.bulletType&&(ig.game.savingVariable["RabbitWeapon0-damage"]+=
1),1==this.bulletType&&(ig.game.savingVariable["RabbitWeapon1-damage"]+=1),2==this.bulletType&&(ig.game.savingVariable["RabbitWeapon2-damage"]+=1),3==this.bulletType&&(ig.game.savingVariable["RabbitWeapon3-damage"]+=1))))}}else 0<this.weaponAmount&&(this.levelBar1.draw(this.pos.x+200,this.pos.y+95),this.levelBar1.draw(this.pos.x+250,this.pos.y+95),this.levelBar1.draw(this.pos.x+300,this.pos.y+95))},drawSpeed:function(){var b=ig.system.context;if(this.weaponSpeed&&4!=this.bulletType&&5!=this.bulletType&&
6!=this.bulletType&&3!=this.bulletType&&this.weaponSpeed>this.initSpeed1-3&&0<this.weaponAmount){if(b.save(),this.weaponSpeed<this.initSpeed1?this.levelBar1.draw(this.pos.x+200,this.pos.y+210):this.levelBar2.draw(this.pos.x+200,this.pos.y+210),b.restore(),b.save(),this.weaponSpeed<this.initSpeed1-1?this.levelBar1.draw(this.pos.x+250,this.pos.y+210):this.levelBar2.draw(this.pos.x+250,this.pos.y+210),b.restore(),b.save(),this.weaponSpeed<this.initSpeed1-2?this.levelBar1.draw(this.pos.x+300,this.pos.y+
210):this.levelBar2.draw(this.pos.x+300,this.pos.y+210),b.restore(),this.weaponSpeed>this.initSpeed1-3){if(this.weaponSpeed>this.initSpeed1+1)this.speedCost=300;else if(this.weaponSpeed>this.initSpeed1)this.speedCost=200;else if(this.speedCost=this.initSpeed1)this.speedCost=100;ig.system.context.save();ig.system.context.font="20px cloudy";ig.system.context.fillStyle="#FFFFFF";ig.system.context.textAlign="left";ig.system.context.fillText(this.speedCost+" Points",this.pos.x+206,this.pos.y+284);ig.system.context.restore();
this.plus.draw(this.pos.x+350,this.pos.y+198);ig.input.pressed("click")&&1==ig.game.getEntitiesByType(EntityDoor).length&&(ig.game.localStorageSupport?this.pointer.pos.x>this.pos.x+350&&(this.pointer.pos.y>this.pos.y+205&&this.pointer.pos.y<this.pos.y+245&&ig.game.storage.get("SD-RabbitPoints :")>=this.speedCost)&&(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.reload),ig.game.storage.set("SD-RabbitPoints :",ig.game.storage.get("SD-RabbitPoints :")-this.speedCost),0==this.bulletType&&ig.game.storage.set("SD-RabbitWeapon0-speed :",
ig.game.storage.get("SD-RabbitWeapon0-speed :")-1),1==this.bulletType&&ig.game.storage.set("SD-RabbitWeapon1-speed :",ig.game.storage.get("SD-RabbitWeapon1-speed :")-1),2==this.bulletType&&ig.game.storage.set("SD-RabbitWeapon2-speed :",ig.game.storage.get("SD-RabbitWeapon2-speed :")-1)):(console.log("doesnt support local storage"),this.pointer.pos.x>this.pos.x+350&&(this.pointer.pos.y>this.pos.y+205&&this.pointer.pos.y<this.pos.y+245&&ig.game.savingVariable.RabbitPoints>=this.speedCost)&&(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.reload),
ig.game.savingVariable.RabbitPoints-=this.speedCost,0==this.bulletType&&(ig.game.savingVariable["RabbitWeapon0-speed"]-=1),1==this.bulletType&&(ig.game.savingVariable["RabbitWeapon1-speed"]-=1),2==this.bulletType&&(ig.game.savingVariable["RabbitWeapon2-speed"]-=1))))}}else 0<this.weaponAmount&&(this.levelBar1.draw(this.pos.x+200,this.pos.y+210),this.levelBar1.draw(this.pos.x+250,this.pos.y+210),this.levelBar1.draw(this.pos.x+300,this.pos.y+210))},drawAmount:function(){var b=ig.system.context;if(this.weaponAmount&&
this.weaponAmount<this.initAmount1+150&&0<this.weaponAmount){if(b.save(),this.weaponAmount>this.initAmount1?this.levelBar1.draw(this.pos.x+200,this.pos.y+325):this.levelBar2.draw(this.pos.x+200,this.pos.y+325),b.restore(),b.save(),this.weaponAmount>this.initAmount1+50?this.levelBar1.draw(this.pos.x+250,this.pos.y+325):this.levelBar2.draw(this.pos.x+250,this.pos.y+325),b.restore(),b.save(),this.weaponAmount>this.initAmount1+100?this.levelBar1.draw(this.pos.x+300,this.pos.y+325):this.levelBar2.draw(this.pos.x+
300,this.pos.y+325),b.restore(),this.weaponAmount<this.initAmount1+150){if(this.weaponAmount>this.initAmount1+1)this.amountCost=300;else if(this.weaponAmount>this.initAmount1)this.amountCost=200;else if(this.weaponAmount=this.initAmount1)this.amountCost=100;ig.system.context.save();ig.system.context.font="20px cloudy";ig.system.context.fillStyle="#FFFFFF";ig.system.context.textAlign="left";var b=this.pos.x+206,c=this.pos.y+401;ig.system.context.fillText(this.amountCost+" Points",b,c);ig.system.context.restore();
this.plus.draw(this.pos.x+350,this.pos.y+313);ig.input.pressed("click")&&1==ig.game.getEntitiesByType(EntityDoor).length&&(ig.game.localStorageSupport?this.pointer.pos.x>this.pos.x+350&&(this.pointer.pos.y>this.pos.y+340&&this.pointer.pos.y<this.pos.y+380&&ig.game.storage.get("SD-RabbitPoints :")>=this.amountCost)&&(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.reload),ig.game.storage.set("SD-RabbitPoints :",ig.game.storage.get("SD-RabbitPoints :")-this.amountCost),0==this.bulletType&&ig.game.storage.set("SD-Weapon0Amount :",
ig.game.storage.get("SD-Weapon0Amount :")+50),1==this.bulletType&&ig.game.storage.set("SD-Weapon1Amount :",ig.game.storage.get("SD-Weapon1Amount :")+50),2==this.bulletType&&ig.game.storage.set("SD-Weapon2Amount :",ig.game.storage.get("SD-Weapon2Amount :")+50),3==this.bulletType&&ig.game.storage.set("SD-Weapon3Amount :",ig.game.storage.get("SD-Weapon3Amount :")+50),4==this.bulletType&&ig.game.storage.set("SD-Weapon4Amount :",ig.game.storage.get("SD-Weapon4Amount :")+50),5==this.bulletType&&ig.game.storage.set("SD-Weapon5Amount :",
ig.game.storage.get("SD-Weapon5Amount :")+50),6==this.bulletType&&ig.game.storage.set("SD-Weapon6Amount :",ig.game.storage.get("SD-Weapon6Amount :")+50)):(console.log("doesnt support local storage"),this.pointer.pos.x>this.pos.x+350&&(this.pointer.pos.y>this.pos.y+340&&this.pointer.pos.y<this.pos.y+380&&ig.game.savingVariable.RabbitPoints>=this.amountCost)&&(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.reload),ig.game.savingVariable.RabbitPoints-=this.amountCost,0==this.bulletType&&(ig.game.savingVariable.Weapon0Amount+=
50),1==this.bulletType&&(ig.game.savingVariable.Weapon1Amount+=50),2==this.bulletType&&(ig.game.savingVariable.Weapon2Amount+=50),3==this.bulletType&&(ig.game.savingVariable.Weapon3Amount+=50),4==this.bulletType&&(ig.game.savingVariable.Weapon4Amount+=50),5==this.bulletType&&(ig.game.savingVariable.Weapon5Amount+=50),6==this.bulletType&&(ig.game.savingVariable.Weapon6Amount+=50))))}}else 0<this.weaponAmount&&(this.levelBar1.draw(this.pos.x+200,this.pos.y+325),this.levelBar1.draw(this.pos.x+250,this.pos.y+
325),this.levelBar1.draw(this.pos.x+300,this.pos.y+325));b=ig.system.context;b.drawImage(this.levelBar.data,0,0,this.levelBar.width,this.levelBar.height,15,this.pos.y+5,this.levelBar.width,this.levelBar.height);b.drawImage(this.levelBar.data,0,0,this.levelBar.width,this.levelBar.height,15,this.pos.y+5,this.levelBar.width,this.levelBar.height);b.drawImage(this.levelBar.data,0,0,this.levelBar.width,this.levelBar.height,15,this.pos.y+5,this.levelBar.width,this.levelBar.height);ig.system.context.restore();
ig.system.context.save();ig.system.context.font="23px cloudy";ig.system.context.fillStyle="#e60000";ig.system.context.textAlign="left";b=30;c=this.pos.y+38;ig.game.localStorageSupport?ig.system.context.fillText(ig.game.storage.get("SD-RabbitPoints :"),b,c):(console.log("doesnt support local storage"),ig.system.context.fillText(ig.game.savingVariable.RabbitPoints,b,c));ig.system.context.restore();0==this.bulletType&&(this.drawBackground=this.carrot2);1==this.bulletType&&(this.drawBackground=this.banana2);
2==this.bulletType&&(this.drawBackground=this.tennis2);3==this.bulletType&&(this.drawBackground=this.dart2);4==this.bulletType&&(this.drawBackground=this.plunger2);5==this.bulletType&&(this.drawBackground=this.baseball2);6==this.bulletType&&(this.drawBackground=this.rocket2);this.drawBackground&&this.drawBackground.draw(this.pos.x+30,this.pos.y+70)}})});ig.baked=!0;
ig.module("game.levels.weapon_desk").requires("impact.image","game.entities.props.weapon-upgrade").defines(function(){LevelWeapon_desk={entities:[{type:"EntityWeaponUpgrade",x:88,y:20}],layer:[{name:"new_layer_0",width:20,height:20,linkWithCollision:!1,visible:1,tilesetName:"http://cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/background/background-desk.png",repeat:!1,preRender:!0,distance:"1",tilesize:32,foreground:!1,data:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],[21,22,23,24,25,26,27,28,29,30,
31,32,33,34,35,36,37,38,39,40],[41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],[61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],[81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],[101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140],[141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160],[161,162,163,164,165,166,167,168,169,
170,171,172,173,174,175,176,177,178,179,180],[181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200],[201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220],[221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240],[241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260],[261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280],[281,282,283,284,285,286,287,288,289,290,291,292,
293,294,295,296,297,298,299,300],[301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320],[321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340],[341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360],[361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380],[381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400]]}]};LevelWeapon_deskResources=[new ig.Image("../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/game/background/background-desk.png")]});
ig.baked=!0;
ig.module("game.main").requires("impact.game","plugins.splash-loader","plugins.tween","plugins.url-parameters","plugins.jukebox","plugins.director","plugins.impact-storage","plugins.shock","plugins.scale","game.entities.button-more-games","game.entities.opening-shield","game.entities.opening-kitty","game.entities.pointer","game.entities.pointer-selector","game.entities.select","game.levels.opening","game.levels.test-desktop","game.levels.test-mobile","game.levels.menu_desk","game.levels.menu_tablet","game.levels.game_desk",
"game.levels.game_tablet","game.levels.weapon_desk").defines(function(){this.MJSSOB;MyGame=ig.Game.extend({level:1,bulletType:0,continueLevel:!1,killedZombie:0,life:3,tutorial:!0,localStorageSupport:!1,savingVariable:{Weapon0Amount:3E3,Weapon1Amount:50,Weapon2Amount:0,Weapon3Amount:0,Weapon4Amount:0,Weapon5Amount:0,Weapon6Amount:0,RabbitPoints:500,"RabbitWeapon0-speed":10,"RabbitWeapon1-speed":5,"RabbitWeapon2-speed":8,"RabbitWeapon3-speed":2.5,"RabbitWeapon4-speed":7,"RabbitWeapon5-speed":4,"RabbitWeapon6-speed":10,
"RabbitWeapon0-damage":2,"RabbitWeapon1-damage":1,"RabbitWeapon2-damage":1,"RabbitWeapon3-damage":1,"RabbitWeapon4-damage":4,"RabbitWeapon5-damage":10,"RabbitWeapon6-damage":10},init:function(){this.setupControls();this.checkLocalCapability();this.setupLocalStorage();this.removeLoadingWheel();this.injectMobileLink();this.setupURLParameters();this.finalize()},setupMarketJsGameCenter:function(){_SETTINGS&&(_SETTINGS.MarketJSGameCenter?(_SETTINGS.MarketJSGameCenter.Activator.Enabled&&_SETTINGS.MarketJSGameCenter.Activator.Position&&
(console.log("MarketJSGameCenter activator settings present ...."),$(".gamecenter-activator").css("top",_SETTINGS.MarketJSGameCenter.Activator.Position.Top),$(".gamecenter-activator").css("left",_SETTINGS.MarketJSGameCenter.Activator.Position.Left)),$(".gamecenter-activator").show()):console.log("MarketJSGameCenter settings not defined in game settings"))},initSfx:function(){},checkLocalCapability:function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),this.localStorageSupport=
"localStorage"in window&&null!==window.localStorage}catch(b){return this.localStorageSupport}},crashSound:function(){this.crashPlay||(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.crash),this.crashPlay=!0)},hittedSound:function(){this.hitted||(ig.soundHandler.playSound(ig.soundHandler.SOUNDID.explore),this.hitted=!0)},finalize:function(){ig.ua.mobile?ig.game.showOverlay(["play"]):ig.game.startGame();sizeHandler()},injectMobileLink:function(){$("#play").attr("onclick","ig.game.pressPlay();")},
removeLoadingWheel:function(){try{$("#ajaxbar").css("background","none")}catch(b){console.log(b)}},showDebugMenu:function(){console.log("showing debug menu ...");ig.Entity._debugShowBoxes=!0;$(".ig_debug").show()},setupLocalStorage:function(){this.storage=this.localStorageSupport?new ig.Storage:this.savingVariable},startGame:function(){this.resetPlayerStats();this.director=ig.ua.mobile?new ig.Director(this,[LevelOpening,LevelMenu_tablet,LevelGame_tablet,LevelWeapon_desk]):new ig.Director(this,[LevelOpening,
LevelMenu_desk,LevelGame_desk,LevelWeapon_desk]);if(_SETTINGS.Branding.Splash.Enabled)try{this.branding=new ig.BrandingSplash}catch(b){console.log(b),console.log("Loading original levels ..."),this.director.loadLevel(this.director.currentLevel)}else this.director.loadLevel(this.director.currentLevel);ig.soundHandler.playBackgroundMusic()},fpsCount:function(){this.fpsTimer||(this.fpsTimer=new ig.Timer(1));this.fpsTimer&&0>this.fpsTimer.delta()?null!=this.fpsCounter?this.fpsCounter++:this.fpsCounter=
0:(ig.game.fps=this.fpsCounter,this.fpsCounter=0,this.fpsTimer.reset())},endGame:function(){console.log("End game");ig.soundHandler.stopBackgroundMusic()},resetPlayerStats:function(){ig.log("resetting player stats ...");this.playerStats={id:this.playerStats?this.playerStats.id:null}},setupControls:function(){ig.input.unbindAll();ig.input.initMouse();ig.input.bind(ig.KEY.MOUSE1,"click")},setupURLParameters:function(){this.setupURLParameters=new ig.UrlParameters},pressPlay:function(){this.hideOverlay(["play"]);
this.startGame()},pauseGame:function(){ig.system.stopRunLoop.call(ig.system);console.log("Game Paused");$("#pause").show()},resumeGame:function(){ig.system.startRunLoop.call(ig.system);console.log("Game Resumed");$("#pause").hide()},showOverlay:function(b){for(i=0;i<b.length;i++)$("#"+b[i])&&$("#"+b[i]).show(),document.getElementById(b[i])&&(document.getElementById(b[i]).style.visibility="visible")},hideOverlay:function(b){for(i=0;i<b.length;i++)$("#"+b[i])&&$("#"+b[i]).hide(),document.getElementById(b[i])&&
(document.getElementById(b[i]).style.visibility="hidden")},update:function(){if(this.paused)for(var b=0;b<this.entities.length;b++)this.entities[b].ignorePause&&this.entities[b].update();else this.parent(),ig.ua.mobile&&ig.soundHandler&&ig.soundHandler.forceLoopBGM()},draw:function(){this.parent();this.dctf()},dctf:function(){this.COPYRIGHT},drawDebug:function(){if(!ig.global.wm&&(this.debugEnable(),this.viewDebug&&(ig.system.context.fillStyle="#000000",ig.system.context.globalAlpha=0.35,ig.system.context.fillRect(0,
0,ig.system.width/4,ig.system.height),ig.system.context.globalAlpha=1,this.debug&&0<this.debug.length)))for(i=0;i<this.debug.length;i++)ig.system.context.font="10px Arial",ig.system.context.fillStyle="#ffffff",ig.system.context.fillText(this.debugLine-this.debug.length+i+": "+this.debug[i],10,50+10*i)},debugCL:function(b){this.debug?(50>this.debug.length||this.debug.splice(0,1),this.debug.push(b),this.debugLine++):(this.debug=[],this.debugLine=1,this.debug.push(b));console.log(b)},debugEnable:function(){ig.input.pressed("click")&&
(this.debugEnableTimer=new ig.Timer(2));this.debugEnableTimer&&0>this.debugEnableTimer.delta()?ig.input.released("click")&&(this.debugEnableTimer=null):this.debugEnableTimer&&0<this.debugEnableTimer.delta()&&(this.debugEnableTimer=null,this.viewDebug=this.viewDebug?!1:!0)}});var b=getQueryVariable("device");if(b)switch(b){case "mobile":console.log("serving mobile version ...");ig.ua.mobile=!0;break;case "desktop":console.log("serving desktop version ...");ig.ua.mobile=!1;break;default:console.log("serving universal version ...")}else console.log("serving universal version ...");
if(b=getQueryVariable("force-rotate"))switch(b){case "portrait":console.log("force rotate to portrait");window.orientation=0;break;case "landscape":console.log("force rotate to horizontal");window.orientation=90;break;default:alert("wrong command/type in param force-rotate. Defaulting value to portrait"),window.orientation=0}ig.ua.mobile?(ig.Sound.enabled=!1,ig.main("#canvas",MyGame,60,mobileWidth,mobileHeight,1,ig.SplashLoader)):ig.main("#canvas",MyGame,60,desktopWidth,desktopHeight,1,ig.SplashLoader);
ig.ua.mobile&&orientationHandler();sizeHandler();fixSamsungHandler();this.DOMAINLOCK_BREAKOUT_ATTEMPT;this.MJSEOB});
</script>
	<!-- Abstract -->
</head>

<body onload="setTimeout(function(){window.scrollTo(0,1)},1);">
	<div id="pause" onclick="ig.game.resumeGame();"></div>
	<div id="ajaxbar">
		<div id="game"><canvas id="canvas"></canvas></div>
		<div id="orientate"><img src="../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/orientate/landscape.jpg" /></div>
			<div id="play" class="play" onclick=""><img src="../cdn.marketjs.net/games/skeleton-defense/localization/en/media/graphics/splash/mobile/cover-start.jpg" /></div>
				<img id="scrollDown" width="220" height="277"></img>
			</div>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-117180225-25"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-117180225-25');

_SETTINGS.MoreGames.NewWindow=false;

</script>
</body>


<!-- Mirrored from smartfun.club/serve?portal_id=5763614147346432&game_id=5621826651684864&branding_id=5734046899372032&ad_id=4865470182195200&portal_localization_id=5092721263902720 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Sep 2023 14:14:52 GMT -->
</html>
